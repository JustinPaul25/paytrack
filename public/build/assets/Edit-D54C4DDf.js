import{d as h,l as w,D as k,c as V,o as f,w as l,a as t,b as r,u as s,g as P,e as d,q as S,A as m,B as c,f as $,h as C,S as B}from"./app-D8GMqoQL.js";import{_}from"./index-CKTUUg4B.js";import{_ as E}from"./AppLayout.vue_vue_type_script_setup_true_lang-B7FY6UE4.js";import{_ as U,a as q}from"./CardContent.vue_vue_type_script_setup_true_lang-zCpbmRui.js";import{_ as N,a as D}from"./CardTitle.vue_vue_type_script_setup_true_lang-COI8iZOX.js";import{_ as I}from"./CardFooter.vue_vue_type_script_setup_true_lang-D0OErrDq.js";import{_ as n}from"./Label.vue_vue_type_script_setup_true_lang-Dc3JaC7p.js";import{_ as j}from"./SearchSelect.vue_vue_type_script_setup_true_lang-BGOYTj0h.js";import{S as M}from"./sweetalert2.esm.all-BQIkj5Wb.js";import{_ as u}from"./InputError.vue_vue_type_script_setup_true_lang-BCon8n8M.js";import"./LocationInput.vue_vue_type_style_index_0_scoped_0fe2f881_lang-Ay1pUOAN.js";import"./RovingFocusGroup-B0Y8hFFN.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DtVqRXXk.js";import"./createLucideIcon-sEmkw9Pt.js";import"./VisuallyHidden-DKr5urU_.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BH_Bl99z.js";import"./chevron-right-CmK6lVL2.js";import"./Input.vue_vue_type_script_setup_true_lang-D3J-Rw-h.js";import"./search-CRAqy-0D.js";const O={class:"flex gap-4"},T={class:"flex-1"},A={class:"flex gap-4"},F={class:"flex-1"},z={class:"flex gap-4"},G={class:"flex-1"},H={class:"flex gap-4"},J={class:"flex-1"},K={class:"flex-1"},L={class:"flex gap-4"},Q={class:"flex-1"},R={class:"flex gap-4"},W={class:"flex-1"},X={key:0,class:"mt-2"},Y=["src"],ye=h({__name:"Edit",props:{product:{},categories:{},image_url:{}},setup(g){const i=g,x=w(()=>i.categories.map(p=>({value:p.id,label:p.name}))),o=k({name:i.product.name,description:i.product.description,category_id:i.product.category_id??null,purchase_price:i.product.purchase_price,selling_price:i.product.selling_price,stock:i.product.stock,image:null}),y=[{title:"Products",href:"/products"},{title:"Edit Product",href:`/products/${i.product.id}/edit`}];function v(p){const e=p.target;e.files&&e.files.length>0?o.image=e.files[0]:o.image=null}function b(){o.post(route("products.update",i.product.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{M.fire({toast:!0,position:"top-end",icon:"success",title:"Product updated successfully",showConfirmButton:!1,timer:3e3,timerProgressBar:!0})},onError:()=>{},method:"post"})}return(p,e)=>(f(),V(E,{breadcrumbs:y},{default:l(()=>[t(s(P),{title:"Edit Product"}),e[16]||(e[16]=r("div",{class:"flex items-center justify-between mb-6"},[r("h1",{class:"text-2xl font-bold"},"Edit Product")],-1)),t(U,null,{default:l(()=>[t(N,null,{default:l(()=>[t(D,null,{default:l(()=>e[6]||(e[6]=[d("Edit Product")])),_:1,__:[6]})]),_:1}),t(q,null,{default:l(()=>[r("form",{onSubmit:S(b,["prevent"]),class:"space-y-6",enctype:"multipart/form-data"},[r("div",O,[r("div",T,[t(n,{for:"name"},{default:l(()=>e[7]||(e[7]=[d("Name")])),_:1,__:[7]}),m(r("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=a=>s(o).name=a),class:"w-full rounded border px-3 py-2 mt-1",required:"",placeholder:"Product name"},null,512),[[c,s(o).name]]),t(u,{message:s(o).errors.name},null,8,["message"])])]),r("div",A,[r("div",F,[t(n,{for:"description"},{default:l(()=>e[8]||(e[8]=[d("Description")])),_:1,__:[8]}),m(r("textarea",{id:"description","onUpdate:modelValue":e[1]||(e[1]=a=>s(o).description=a),class:"w-full rounded border px-3 py-2 mt-1",rows:"3",placeholder:"Optional details to help identify the product"},null,512),[[c,s(o).description]]),t(u,{message:s(o).errors.description},null,8,["message"])])]),r("div",z,[r("div",G,[t(n,{for:"category_id"},{default:l(()=>e[9]||(e[9]=[d("Category")])),_:1,__:[9]}),t(s(j),{id:"category_id",modelValue:s(o).category_id,"onUpdate:modelValue":e[2]||(e[2]=a=>s(o).category_id=a),options:x.value,placeholder:"Select category","search-placeholder":"Search categories...",class:"mt-1",required:""},null,8,["modelValue","options"]),t(u,{message:s(o).errors.category_id},null,8,["message"])])]),r("div",H,[r("div",J,[t(n,{for:"purchase_price"},{default:l(()=>e[10]||(e[10]=[d("Purchase Price")])),_:1,__:[10]}),m(r("input",{id:"purchase_price","onUpdate:modelValue":e[3]||(e[3]=a=>s(o).purchase_price=a),type:"number",min:"0",step:"0.01",class:"w-full rounded border px-3 py-2 mt-1",required:"",placeholder:"e.g., 120.00"},null,512),[[c,s(o).purchase_price]]),t(u,{message:s(o).errors.purchase_price},null,8,["message"])]),r("div",K,[t(n,{for:"selling_price"},{default:l(()=>e[11]||(e[11]=[d("Selling Price")])),_:1,__:[11]}),m(r("input",{id:"selling_price","onUpdate:modelValue":e[4]||(e[4]=a=>s(o).selling_price=a),type:"number",min:"0",step:"0.01",class:"w-full rounded border px-3 py-2 mt-1",required:"",placeholder:"e.g., 150.00"},null,512),[[c,s(o).selling_price]]),t(u,{message:s(o).errors.selling_price},null,8,["message"])])]),r("div",L,[r("div",Q,[t(n,{for:"stock"},{default:l(()=>e[12]||(e[12]=[d("Stock")])),_:1,__:[12]}),m(r("input",{id:"stock","onUpdate:modelValue":e[5]||(e[5]=a=>s(o).stock=a),type:"number",min:"0",class:"w-full rounded border px-3 py-2 mt-1",required:"",placeholder:"e.g., 100"},null,512),[[c,s(o).stock]]),t(u,{message:s(o).errors.stock},null,8,["message"])])]),r("div",R,[r("div",W,[t(n,{for:"image"},{default:l(()=>e[13]||(e[13]=[d("Image")])),_:1,__:[13]}),r("input",{id:"image",type:"file",accept:"image/*",onChange:v,class:"w-full rounded border px-3 py-2 mt-1"},null,32),t(u,{message:s(o).errors.image},null,8,["message"]),i.image_url?(f(),$("div",X,[r("img",{src:i.image_url,alt:"Current Image",class:"h-24 rounded border"},null,8,Y)])):C("",!0)])]),t(I,{class:"flex gap-2 justify-end"},{default:l(()=>[t(s(_),{type:"submit",variant:"default"},{default:l(()=>e[14]||(e[14]=[d("Update")])),_:1,__:[14]}),t(s(B),{href:p.route("products.index")},{default:l(()=>[t(s(_),{type:"button",variant:"ghost"},{default:l(()=>e[15]||(e[15]=[d("Cancel")])),_:1,__:[15]})]),_:1},8,["href"])]),_:1})],32)]),_:1})]),_:1})]),_:1,__:[16]}))}});export{ye as default};
