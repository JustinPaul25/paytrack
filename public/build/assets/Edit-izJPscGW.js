import{d as S,G as h,c as E,o as u,w as o,a as t,b as i,u as d,g as P,h as m,H as C,x as N,y as R,e as f,F as c,r as g,t as x,S as B}from"./app-qA0CnBWe.js";import{_ as b}from"./index-DKsLgjKN.js";import{_ as U}from"./AppLayout.vue_vue_type_script_setup_true_lang-BLollNnU.js";import{_ as V,a as j}from"./CardContent.vue_vue_type_script_setup_true_lang-DFxNC8fq.js";import{_ as q,a as D}from"./CardTitle.vue_vue_type_script_setup_true_lang-PsohhGio.js";import{_ as F}from"./CardFooter.vue_vue_type_script_setup_true_lang-DnKrTvmp.js";import{_ as G}from"./Checkbox.vue_vue_type_script_setup_true_lang-9a1IO3os.js";import{_}from"./Label.vue_vue_type_script_setup_true_lang-BTmEbTpp.js";import"./LocationInput.vue_vue_type_style_index_0_scoped_85568d9b_lang-C02RUasq.js";import"./useForwardPropsEmits-CwUzb49y.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-CLRWpV5h.js";import"./Teleport-DIfWgdf9.js";import"./RovingFocusGroup-gU1KHB92.js";import"./VisuallyHidden-qt70HzaR.js";import"./DialogPortal-BX8gIO6T.js";import"./x-Da1o-ysX.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-B1dhHsl6.js";import"./chevron-down-CCBk2xD7.js";import"./chevron-right-r24-WVSv.js";import"./RovingFocusItem-4Q8hBv91.js";import"./check-BujOPtAl.js";const M={class:"flex gap-4"},T={class:"flex-1"},A={class:"flex-1"},H={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},L={class:"flex items-center justify-between mb-2"},z={class:"font-semibold"},I=["onClick"],J={class:"grid gap-2"},_e=S({__name:"Edit",props:{role:{},groupedPermissions:{},rolePermissions:{}},setup(v){const l=v,s=h({name:l.role.name,guard_name:l.role.guard_name,permissions:[...l.rolePermissions]}),y=[{title:"Roles",href:"/roles"},{title:"Edit Role",href:`/roles/${l.role.id}/edit`}];function k(n){s.permissions.includes(n)?s.permissions=s.permissions.filter(e=>e!==n):s.permissions.push(n)}function $(n){const e=l.groupedPermissions[n].map(r=>r.id);e.every(r=>s.permissions.includes(r))?s.permissions=s.permissions.filter(r=>!e.includes(r)):s.permissions=[...new Set([...s.permissions,...e])]}function w(){s.put(route("roles.update",l.role.id),{preserveScroll:!0})}return(n,e)=>(u(),E(U,{breadcrumbs:y},{default:o(()=>[t(d(P),{title:"Edit Role"}),e[7]||(e[7]=i("div",{class:"flex items-center justify-between mb-6"},[i("h1",{class:"text-2xl font-bold"},"Edit Role")],-1)),t(V,null,{default:o(()=>[t(q,null,{default:o(()=>[t(D,null,{default:o(()=>e[1]||(e[1]=[m("Edit Role")])),_:1,__:[1]})]),_:1}),t(j,null,{default:o(()=>[i("form",{onSubmit:C(w,["prevent"]),class:"space-y-6"},[i("div",M,[i("div",T,[t(_,{for:"name"},{default:o(()=>e[2]||(e[2]=[m("Name *")])),_:1,__:[2]}),N(i("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=p=>d(s).name=p),class:"w-full rounded border px-3 py-2 mt-1",required:""},null,512),[[R,d(s).name]])]),i("div",A,[t(_,{for:"guard_name"},{default:o(()=>e[3]||(e[3]=[m("Guard Name *")])),_:1,__:[3]}),e[4]||(e[4]=i("input",{id:"guard_name","disabledv-model":"form.guard_name",class:"w-full rounded border px-3 py-2 mt-1",required:""},null,-1))])]),i("div",H,[(u(!0),f(c,null,g(l.groupedPermissions,(p,r)=>(u(),f("div",{key:r,class:"rounded border p-4"},[i("div",L,[i("span",z,x(r),1),i("button",{type:"button",class:"text-xs text-primary underline",onClick:a=>$(r)}," Select all ",8,I)]),i("div",J,[(u(!0),f(c,null,g(p,a=>(u(),f("div",{key:a.id,class:"flex items-center gap-2"},[t(G,{id:"perm-"+a.id,checked:d(s).permissions.includes(a.id),"onUpdate:checked":()=>k(a.id)},null,8,["id","checked","onUpdate:checked"]),t(_,{for:"perm-"+a.id},{default:o(()=>[m(x(a.name),1)]),_:2},1032,["for"])]))),128))])]))),128))]),t(F,{class:"flex gap-2 justify-end"},{default:o(()=>[t(d(b),{type:"submit",variant:"default"},{default:o(()=>e[5]||(e[5]=[m("Update")])),_:1,__:[5]}),t(d(B),{href:n.route("roles.index")},{default:o(()=>[t(d(b),{type:"button",variant:"ghost"},{default:o(()=>e[6]||(e[6]=[m("Cancel")])),_:1,__:[6]})]),_:1},8,["href"])]),_:1})],32)]),_:1})]),_:1})]),_:1,__:[7]}))}});export{_e as default};
