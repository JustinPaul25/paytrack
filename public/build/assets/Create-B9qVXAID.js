import{d as V,x as S,r as g,a as B,o as n,w as o,b as l,e as r,u as t,k as P,f as i,q as I,m as x,g as d,l as u,v as c,t as f,F as q,h as N,bL as j,S as L}from"./app-CY-R8p4I.js";import{_ as v}from"./index-ZrUxBZkM.js";import{_ as h}from"./AppLayout.vue_vue_type_script_setup_true_lang-B6LMl6Iv.js";import{_ as D,a as E}from"./CardContent.vue_vue_type_script_setup_true_lang-CtAQy_Ha.js";import{a as F,_ as M}from"./CardTitle.vue_vue_type_script_setup_true_lang-rWRg4ec-.js";import{_ as R}from"./CardFooter.vue_vue_type_script_setup_true_lang-DK-vYXXD.js";import{_ as p}from"./Label.vue_vue_type_script_setup_true_lang-CGVOjAWu.js";import{S as T}from"./sweetalert2.esm.all-BQIkj5Wb.js";import"./LocationInput.vue_vue_type_style_index_0_scoped_5601c0ff_lang-BzdxL_P_.js";import"./RovingFocusGroup-BIsjPPEl.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DPhOlZ_-.js";import"./createLucideIcon-B5ntUyXr.js";import"./VisuallyHidden-C6KiMAas.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BcPEPjiy.js";const O={class:"flex gap-4"},z={class:"flex-1"},G={key:0,class:"text-red-500 text-xs mt-1"},H={class:"flex-1"},J={key:0,class:"text-red-500 text-xs mt-1"},K={class:"flex gap-4"},Q={class:"flex-1"},W={key:0,class:"text-red-500 text-xs mt-1"},X={class:"flex-1"},Y={key:0,class:"text-red-500 text-xs mt-1"},Z={class:"flex gap-4"},A={class:"flex-1"},ee={key:0,class:"mt-2"},se=["src"],te={key:1,class:"text-red-500 text-xs mt-1"},re={class:"flex flex-wrap gap-2 mt-2"},oe=["value"],le={key:0,class:"text-red-500 text-xs mt-1"},ye=V({__name:"Create",props:{roles:{}},setup(y){const b=y,s=S({name:"",email:"",password:"",password_confirmation:"",roles:[],create_another:void 0,profile_image:null}),C=[{title:"Users",href:"/users"},{title:"Create User",href:"/users/create"}],k=g(null),_=g(null);function U(m){const e=m.target.files;e&&e[0]?(s.profile_image=e[0],_.value=URL.createObjectURL(e[0])):(s.profile_image=null,_.value=null)}function w(m=!1){m?s.create_another=1:delete s.create_another,s.post(route("users.store"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{if(T.fire({toast:!0,position:"top-end",icon:"success",title:"User created successfully",showConfirmButton:!1,timer:3e3,timerProgressBar:!0}),m){s.reset(),k.value=null,_.value=null;const e=document.getElementById("profile_image");e&&(e.value="")}else window.location.href=route("users.index")}})}return(m,e)=>(n(),B(h,{breadcrumbs:C},{default:o(()=>[l(t(P),{title:"Create User"}),e[17]||(e[17]=r("div",{class:"flex items-center justify-between mb-6"},[r("h1",{class:"text-2xl font-bold"},"Create User")],-1)),l(D,null,{default:o(()=>[l(F,null,{default:o(()=>[l(M,null,{default:o(()=>e[7]||(e[7]=[i("Create User")])),_:1,__:[7]})]),_:1}),l(E,null,{default:o(()=>[r("form",{onSubmit:e[6]||(e[6]=I(a=>w(),["prevent"])),class:"space-y-6"},[r("div",O,[r("div",z,[l(p,{for:"name"},{default:o(()=>e[8]||(e[8]=[i("Name")])),_:1,__:[8]}),x(r("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=a=>t(s).name=a),class:"w-full rounded border px-3 py-2 mt-1",required:""},null,512),[[c,t(s).name]]),t(s).errors.name?(n(),d("div",G,f(t(s).errors.name),1)):u("",!0)]),r("div",H,[l(p,{for:"email"},{default:o(()=>e[9]||(e[9]=[i("Email")])),_:1,__:[9]}),x(r("input",{id:"email","onUpdate:modelValue":e[1]||(e[1]=a=>t(s).email=a),class:"w-full rounded border px-3 py-2 mt-1",required:""},null,512),[[c,t(s).email]]),t(s).errors.email?(n(),d("div",J,f(t(s).errors.email),1)):u("",!0)])]),r("div",K,[r("div",Q,[l(p,{for:"password"},{default:o(()=>e[10]||(e[10]=[i("Password")])),_:1,__:[10]}),x(r("input",{id:"password",type:"password","onUpdate:modelValue":e[2]||(e[2]=a=>t(s).password=a),class:"w-full rounded border px-3 py-2 mt-1",required:""},null,512),[[c,t(s).password]]),t(s).errors.password?(n(),d("div",W,f(t(s).errors.password),1)):u("",!0)]),r("div",X,[l(p,{for:"password_confirmation"},{default:o(()=>e[11]||(e[11]=[i("Confirm Password")])),_:1,__:[11]}),x(r("input",{id:"password_confirmation",type:"password","onUpdate:modelValue":e[3]||(e[3]=a=>t(s).password_confirmation=a),class:"w-full rounded border px-3 py-2 mt-1",required:""},null,512),[[c,t(s).password_confirmation]]),t(s).errors.password_confirmation?(n(),d("div",Y,f(t(s).errors.password_confirmation),1)):u("",!0)])]),r("div",Z,[r("div",A,[l(p,{for:"profile_image"},{default:o(()=>e[12]||(e[12]=[i("Profile Image")])),_:1,__:[12]}),r("input",{id:"profile_image",name:"profile_image",type:"file",accept:"image/*",onChange:U,class:"w-full rounded border px-3 py-2 mt-1"},null,32),_.value?(n(),d("div",ee,[r("img",{src:_.value,alt:"Profile Preview",class:"h-20 w-20 object-cover rounded-full border"},null,8,se)])):u("",!0),t(s).errors.profile_image?(n(),d("div",te,f(t(s).errors.profile_image),1)):u("",!0)])]),r("div",null,[l(p,null,{default:o(()=>e[13]||(e[13]=[i("Roles")])),_:1,__:[13]}),r("div",re,[(n(!0),d(q,null,N(b.roles,a=>(n(),d("label",{key:a.id,class:"flex items-center gap-2"},[x(r("input",{type:"checkbox",value:a.id,"onUpdate:modelValue":e[4]||(e[4]=$=>t(s).roles=$)},null,8,oe),[[j,t(s).roles]]),i(" "+f(a.name),1)]))),128))]),t(s).errors.roles?(n(),d("div",le,f(t(s).errors.roles),1)):u("",!0)]),l(R,{class:"flex gap-2 justify-end"},{default:o(()=>[l(t(v),{type:"submit",variant:"default"},{default:o(()=>e[14]||(e[14]=[i("Create")])),_:1,__:[14]}),l(t(v),{type:"button",variant:"secondary",onClick:e[5]||(e[5]=a=>w(!0))},{default:o(()=>e[15]||(e[15]=[i("Create & create another")])),_:1,__:[15]}),l(t(L),{href:m.route("users.index")},{default:o(()=>[l(t(v),{type:"button",variant:"ghost"},{default:o(()=>e[16]||(e[16]=[i("Cancel")])),_:1,__:[16]})]),_:1},8,["href"])]),_:1})],32)]),_:1})]),_:1})]),_:1,__:[17]}))}});export{ye as default};
