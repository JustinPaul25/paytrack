import{d as x,c as b,o as a,w as s,a as o,b as t,u as g,g as w,S as k,e as i,f as n,F as p,r as h,t as r,n as v,h as S}from"./app-DUIMFX_A.js";import{_ as M}from"./AppLayout.vue_vue_type_script_setup_true_lang-DAHgTxb6.js";import{_ as m,a as f}from"./CardContent.vue_vue_type_script_setup_true_lang-ByRIc-rN.js";import{_,a as c}from"./CardTitle.vue_vue_type_script_setup_true_lang-BSH4amAy.js";import{_ as N}from"./index-Dxf5YqNL.js";import"./LocationInput.vue_vue_type_style_index_0_scoped_0fe2f881_lang-BY68ETEx.js";import"./RovingFocusGroup-DcxPmAMj.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DHUSPf84.js";import"./createLucideIcon-C1gR3juK.js";import"./VisuallyHidden-CZVcGhWB.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-C23Np2nS.js";import"./chevron-right-qIRM7f6o.js";const P={class:"flex items-center justify-between mb-6"},B={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},C={class:"space-y-2"},T={key:0,class:"text-sm text-muted-foreground"},$={class:"w-24 text-xs text-muted-foreground"},D={class:"flex-1 h-2 rounded bg-muted overflow-hidden"},F={class:"w-24 text-right text-sm"},V={class:"grid grid-cols-3 gap-4 text-center"},H={class:"text-2xl font-bold"},O={class:"text-2xl font-bold"},j={class:"text-2xl font-bold"},q={class:"min-w-full divide-y divide-border"},z={class:"px-4 py-2"},A={class:"px-4 py-2 text-right"},E={key:0},I={class:"space-y-2"},L={key:0,class:"text-sm text-muted-foreground"},Q={class:"w-40 text-xs text-muted-foreground truncate"},G={class:"flex-1 h-2 rounded bg-muted overflow-hidden"},J={class:"w-24 text-right text-sm"},K={class:"space-y-2"},R={key:0,class:"text-sm text-muted-foreground"},U={class:"w-24 text-xs text-muted-foreground"},W={class:"flex-1 h-2 rounded bg-muted overflow-hidden"},X={class:"w-24 text-right text-sm"},mt=x({__name:"CustomerDashboard",props:{customer:{},monthlySpend:{},statusBreakdown:{},topProducts:{},categorySpend:{},aovTrend:{}},setup(Y){function y(l){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(l)}return(l,e)=>(a(),b(M,null,{default:s(()=>[o(g(w),{title:"My Dashboard"}),t("div",P,[e[1]||(e[1]=t("h1",{class:"text-2xl font-bold"},"My Dashboard",-1)),o(g(k),{href:l.route("orders.create")},{default:s(()=>[o(g(N),{variant:"default"},{default:s(()=>e[0]||(e[0]=[t("span",{class:"mr-2"},"+",-1),i(" Create Order ")])),_:1,__:[0]})]),_:1},8,["href"])]),t("div",B,[o(m,null,{default:s(()=>[o(_,null,{default:s(()=>[o(c,null,{default:s(()=>e[2]||(e[2]=[i("Monthly spend (last 12 months)")])),_:1,__:[2]})]),_:1}),o(f,null,{default:s(()=>[t("div",C,[l.monthlySpend.length===0?(a(),n("div",T," No data yet. ")):(a(!0),n(p,{key:1},h(l.monthlySpend,d=>(a(),n("div",{key:d.month,class:"flex items-center gap-3"},[t("div",$,r(d.month),1),t("div",D,[t("div",{class:"h-2 bg-primary",style:v({width:Math.min(100,Math.round(d.total/(Math.max(...l.monthlySpend.map(u=>u.total))||1)*100))+"%"})},null,4)]),t("div",F,r(y(d.total)),1)]))),128))])]),_:1})]),_:1}),o(m,null,{default:s(()=>[o(_,null,{default:s(()=>[o(c,null,{default:s(()=>e[3]||(e[3]=[i("Order status")])),_:1,__:[3]})]),_:1}),o(f,null,{default:s(()=>[t("div",V,[t("div",null,[t("div",H,r(l.statusBreakdown.paid),1),e[4]||(e[4]=t("div",{class:"text-xs text-muted-foreground"},"Paid",-1))]),t("div",null,[t("div",O,r(l.statusBreakdown.pending),1),e[5]||(e[5]=t("div",{class:"text-xs text-muted-foreground"},"Pending",-1))]),t("div",null,[t("div",j,r(l.statusBreakdown.cancelled),1),e[6]||(e[6]=t("div",{class:"text-xs text-muted-foreground"},"Cancelled",-1))])])]),_:1})]),_:1}),o(m,null,{default:s(()=>[o(_,null,{default:s(()=>[o(c,null,{default:s(()=>e[7]||(e[7]=[i("Top products purchased")])),_:1,__:[7]})]),_:1}),o(f,null,{default:s(()=>[t("table",q,[e[9]||(e[9]=t("thead",null,[t("tr",null,[t("th",{class:"px-4 py-2 text-left"},"Product"),t("th",{class:"px-4 py-2 text-right"},"Qty")])],-1)),t("tbody",null,[(a(!0),n(p,null,h(l.topProducts,d=>(a(),n("tr",{key:d.id,class:"hover:bg-muted"},[t("td",z,r(d.name),1),t("td",A,r(d.total_quantity),1)]))),128)),l.topProducts.length===0?(a(),n("tr",E,e[8]||(e[8]=[t("td",{colspan:"2",class:"px-4 py-4 text-sm text-muted-foreground text-center"},"No purchases yet.",-1)]))):S("",!0)])])]),_:1})]),_:1}),o(m,null,{default:s(()=>[o(_,null,{default:s(()=>[o(c,null,{default:s(()=>e[10]||(e[10]=[i("Spend by category")])),_:1,__:[10]})]),_:1}),o(f,null,{default:s(()=>[t("div",I,[l.categorySpend.length===0?(a(),n("div",L," No spend yet. ")):(a(!0),n(p,{key:1},h(l.categorySpend,d=>(a(),n("div",{key:d.category,class:"flex items-center gap-3"},[t("div",Q,r(d.category),1),t("div",G,[t("div",{class:"h-2 bg-primary/70",style:v({width:Math.min(100,Math.round(d.total/(Math.max(...l.categorySpend.map(u=>u.total))||1)*100))+"%"})},null,4)]),t("div",J,r(y(d.total)),1)]))),128))])]),_:1})]),_:1}),o(m,{class:"lg:col-span-2"},{default:s(()=>[o(_,null,{default:s(()=>[o(c,null,{default:s(()=>e[11]||(e[11]=[i("Average order value (monthly)")])),_:1,__:[11]})]),_:1}),o(f,null,{default:s(()=>[t("div",K,[l.aovTrend.length===0?(a(),n("div",R," No data yet. ")):(a(!0),n(p,{key:1},h(l.aovTrend,d=>(a(),n("div",{key:d.month,class:"flex items-center gap-3"},[t("div",U,r(d.month),1),t("div",W,[t("div",{class:"h-2 bg-emerald-500",style:v({width:Math.min(100,Math.round(d.aov/(Math.max(...l.aovTrend.map(u=>u.aov))||1)*100))+"%"})},null,4)]),t("div",X,r(y(d.aov)),1)]))),128))])]),_:1})]),_:1})])]),_:1}))}});export{mt as default};
