import{d as S,D as h,c as E,o as u,w as o,a as t,b as i,u as d,g as P,h as m,E as C,x as N,y as R,e as f,F as c,r as g,t as x,S as B}from"./app-Dsysobr5.js";import{_ as b}from"./index-b3uWlJkI.js";import{_ as U}from"./AppLayout.vue_vue_type_script_setup_true_lang-DPp2QWhR.js";import{_ as V,a as j}from"./CardContent.vue_vue_type_script_setup_true_lang-CJKFCWMM.js";import{_ as D,a as q}from"./CardTitle.vue_vue_type_script_setup_true_lang-hN6WBOqU.js";import{_ as F}from"./CardFooter.vue_vue_type_script_setup_true_lang-XTUsz7Yc.js";import{_ as M}from"./Checkbox.vue_vue_type_script_setup_true_lang-37AD4t-q.js";import{_}from"./Label.vue_vue_type_script_setup_true_lang-BYXhyyHZ.js";import"./LocationInput.vue_vue_type_style_index_0_scoped_85568d9b_lang-CUoxO5Iv.js";import"./useForwardPropsEmits-DswLLRGZ.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-CdwfwCj8.js";import"./createLucideIcon-Btw9won4.js";import"./Teleport-CO0Lt4b3.js";import"./RovingFocusGroup-V81TNCcL.js";import"./VisuallyHidden-BMMLJr6b.js";import"./x-B6aUyW_M.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CkYgb37L.js";import"./circle-check-CuRLQxni.js";import"./chevron-right-C1rR1IYP.js";import"./RovingFocusItem-DXw5UrSj.js";import"./check-DHU-JS0O.js";const T={class:"flex gap-4"},A={class:"flex-1"},G={class:"flex-1"},L={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},z={class:"flex items-center justify-between mb-2"},H={class:"font-semibold"},I=["onClick"],J={class:"grid gap-2"},_e=S({__name:"Edit",props:{role:{},groupedPermissions:{},rolePermissions:{}},setup(v){const l=v,s=h({name:l.role.name,guard_name:l.role.guard_name,permissions:[...l.rolePermissions]}),y=[{title:"Roles",href:"/roles"},{title:"Edit Role",href:`/roles/${l.role.id}/edit`}];function k(n){s.permissions.includes(n)?s.permissions=s.permissions.filter(e=>e!==n):s.permissions.push(n)}function $(n){const e=l.groupedPermissions[n].map(r=>r.id);e.every(r=>s.permissions.includes(r))?s.permissions=s.permissions.filter(r=>!e.includes(r)):s.permissions=[...new Set([...s.permissions,...e])]}function w(){s.put(route("roles.update",l.role.id),{preserveScroll:!0})}return(n,e)=>(u(),E(U,{breadcrumbs:y},{default:o(()=>[t(d(P),{title:"Edit Role"}),e[7]||(e[7]=i("div",{class:"flex items-center justify-between mb-6"},[i("h1",{class:"text-2xl font-bold"},"Edit Role")],-1)),t(V,null,{default:o(()=>[t(D,null,{default:o(()=>[t(q,null,{default:o(()=>e[1]||(e[1]=[m("Edit Role")])),_:1,__:[1]})]),_:1}),t(j,null,{default:o(()=>[i("form",{onSubmit:C(w,["prevent"]),class:"space-y-6"},[i("div",T,[i("div",A,[t(_,{for:"name"},{default:o(()=>e[2]||(e[2]=[m("Name")])),_:1,__:[2]}),N(i("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=p=>d(s).name=p),class:"w-full rounded border px-3 py-2 mt-1",required:""},null,512),[[R,d(s).name]])]),i("div",G,[t(_,{for:"guard_name"},{default:o(()=>e[3]||(e[3]=[m("Guard Name")])),_:1,__:[3]}),e[4]||(e[4]=i("input",{id:"guard_name","disabledv-model":"form.guard_name",class:"w-full rounded border px-3 py-2 mt-1",required:""},null,-1))])]),i("div",L,[(u(!0),f(c,null,g(l.groupedPermissions,(p,r)=>(u(),f("div",{key:r,class:"rounded border p-4"},[i("div",z,[i("span",H,x(r),1),i("button",{type:"button",class:"text-xs text-primary underline",onClick:a=>$(r)}," Select all ",8,I)]),i("div",J,[(u(!0),f(c,null,g(p,a=>(u(),f("div",{key:a.id,class:"flex items-center gap-2"},[t(M,{id:"perm-"+a.id,checked:d(s).permissions.includes(a.id),"onUpdate:checked":()=>k(a.id)},null,8,["id","checked","onUpdate:checked"]),t(_,{for:"perm-"+a.id},{default:o(()=>[m(x(a.name),1)]),_:2},1032,["for"])]))),128))])]))),128))]),t(F,{class:"flex gap-2 justify-end"},{default:o(()=>[t(d(b),{type:"submit",variant:"default"},{default:o(()=>e[5]||(e[5]=[m("Update")])),_:1,__:[5]}),t(d(B),{href:n.route("roles.index")},{default:o(()=>[t(d(b),{type:"button",variant:"ghost"},{default:o(()=>e[6]||(e[6]=[m("Cancel")])),_:1,__:[6]})]),_:1},8,["href"])]),_:1})],32)]),_:1})]),_:1})]),_:1,__:[7]}))}});export{_e as default};
