import{d as B,i as _e,j as A,c as D,o as p,w as l,k as V,u as t,l as _,m as ye,a as s,n as z,h as Q,p as Ce,q as Pe,s as De,v as Be,f as $,x as O,b as e,e as P,t as m,r as L,F,y as J,z as Se,g as Te,A as ge,B as fe,W as Re}from"./app-BKBIjJ8s.js";import{_ as Me}from"./Select.vue_vue_type_script_setup_true_lang-BhFDqIyF.js";import{u as X,a as Ae,r as se}from"./LocationInput.vue_vue_type_style_index_0_scoped_0fe2f881_lang-uzdB4u8v.js";import{a as Ve,U as he,T as Le,P as G,b as E,c as U,d as W,C as Fe,_ as je}from"./AppLayout.vue_vue_type_script_setup_true_lang-8Bdy8szE.js";import{_ as R,a as M}from"./CardContent.vue_vue_type_script_setup_true_lang-DTZeO7bg.js";import{a as H,_ as N}from"./CardTitle.vue_vue_type_script_setup_true_lang-CMTFMfyV.js";import{P as ee,c as te}from"./index-BRmZJ9Xg.js";import{C as ae,a as le,L as oe,P as re,b as ne,p as ie,c as de,d as ue,i as ce,e as me,_ as be}from"./BaseChart.vue_vue_type_script_setup_true_lang-DgTnu5-V.js";import{T as I}from"./trending-up-78YGF-gH.js";import{T as Ie,a as He,C as Ne,b as q}from"./trophy-C26rGSen.js";import{u as ze,c as Oe,a as Ee,P as Ue,_ as We,b as qe}from"./RovingFocusGroup-BuaLcvw9.js";import{_ as Ze}from"./RovingFocusItem-rEcrqzTu.js";import{F as ve}from"./file-text-CvOhkxr1.js";import{C as Ye}from"./clock-BKCdFLTO.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DQ7D_30s.js";import"./createLucideIcon-CHp4SUBy.js";import"./VisuallyHidden-bjmLQ8MD.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BX0trGSH.js";function xe(y,n){return`${y}-trigger-${n}`}function ke(y,n){return`${y}-content-${n}`}const[pe,Ke]=Oe("TabsRoot"),Qe=B({__name:"TabsRoot",props:{defaultValue:{},orientation:{default:"horizontal"},dir:{},activationMode:{default:"automatic"},modelValue:{},unmountOnHide:{type:Boolean,default:!0},asChild:{type:Boolean},as:{}},emits:["update:modelValue"],setup(y,{emit:n}){const v=y,o=n,{orientation:k,unmountOnHide:h,dir:f}=_e(v),r=ze(f);X();const i=Ae(v,"modelValue",o,{defaultValue:v.defaultValue,passive:v.modelValue===void 0}),d=A();return Ke({modelValue:i,changeModelValue:c=>{i.value=c},orientation:k,dir:r,unmountOnHide:h,activationMode:v.activationMode,baseId:Ee(void 0,"reka-tabs"),tabsList:d}),(c,w)=>(p(),D(t(ee),{dir:t(r),"data-orientation":t(k),"as-child":c.asChild,as:c.as},{default:l(()=>[V(c.$slots,"default",{modelValue:t(i)})]),_:3},8,["dir","data-orientation","as-child","as"]))}}),Ge=B({__name:"TabsContent",props:{value:{},forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(y){const n=y,{forwardRef:v}=X(),o=pe(),k=_(()=>xe(o.baseId,n.value)),h=_(()=>ke(o.baseId,n.value)),f=_(()=>n.value===o.modelValue.value),r=A(f.value);return ye(()=>{requestAnimationFrame(()=>{r.value=!1})}),(i,d)=>(p(),D(t(Ue),{present:i.forceMount||f.value,"force-mount":""},{default:l(({present:c})=>[s(t(ee),{id:h.value,ref:t(v),"as-child":i.asChild,as:i.as,role:"tabpanel","data-state":f.value?"active":"inactive","data-orientation":t(o).orientation.value,"aria-labelledby":k.value,hidden:!c,tabindex:"0",style:z({animationDuration:r.value?"0s":void 0})},{default:l(()=>[!t(o).unmountOnHide.value||c?V(i.$slots,"default",{key:0}):Q("",!0)]),_:2},1032,["id","as-child","as","data-state","data-orientation","aria-labelledby","hidden","style"])]),_:3},8,["present"]))}}),Je=B({__name:"TabsList",props:{loop:{type:Boolean,default:!0},asChild:{type:Boolean},as:{}},setup(y){const n=y,{loop:v}=_e(n),{forwardRef:o,currentElement:k}=X(),h=pe();return h.tabsList=k,(f,r)=>(p(),D(t(We),{"as-child":"",orientation:t(h).orientation.value,dir:t(h).dir.value,loop:t(v)},{default:l(()=>[s(t(ee),{ref:t(o),role:"tablist","as-child":f.asChild,as:f.as,"aria-orientation":t(h).orientation.value},{default:l(()=>[V(f.$slots,"default")]),_:3},8,["as-child","as","aria-orientation"])]),_:3},8,["orientation","dir","loop"]))}}),Xe=B({__name:"TabsTrigger",props:{value:{},disabled:{type:Boolean,default:!1},asChild:{type:Boolean},as:{default:"button"}},setup(y){const n=y,{forwardRef:v}=X(),o=pe(),k=_(()=>xe(o.baseId,n.value)),h=_(()=>ke(o.baseId,n.value)),f=_(()=>n.value===o.modelValue.value);return(r,i)=>(p(),D(t(Ze),{"as-child":"",focusable:!r.disabled,active:f.value},{default:l(()=>[s(t(ee),{id:k.value,ref:t(v),role:"tab",type:r.as==="button"?"button":void 0,as:r.as,"as-child":r.asChild,"aria-selected":f.value?"true":"false","aria-controls":h.value,"data-state":f.value?"active":"inactive",disabled:r.disabled,"data-disabled":r.disabled?"":void 0,"data-orientation":t(o).orientation.value,onMousedown:i[0]||(i[0]=Pe(d=>{!r.disabled&&d.ctrlKey===!1?t(o).changeModelValue(r.value):d.preventDefault()},["left"])),onKeydown:i[1]||(i[1]=Ce(d=>t(o).changeModelValue(r.value),["enter","space"])),onFocus:i[2]||(i[2]=()=>{const d=t(o).activationMode!=="manual";!f.value&&!r.disabled&&d&&t(o).changeModelValue(r.value)})},{default:l(()=>[V(r.$slots,"default")]),_:3},8,["id","type","as","as-child","aria-selected","aria-controls","data-state","disabled","data-disabled","data-orientation"])]),_:3},8,["focusable","active"]))}}),et=B({__name:"TooltipProvider",props:{delayDuration:{default:0},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(y){const n=y;return(v,o)=>(p(),D(t(Ve),De(Be(n)),{default:l(()=>[V(v.$slots,"default")]),_:3},16))}}),Z=B({__name:"CardDescription",props:{class:{}},setup(y){const n=y;return(v,o)=>(p(),$("p",{"data-slot":"card-description",class:O(t(te)("text-muted-foreground text-sm",n.class))},[V(v.$slots,"default")],2))}}),tt={class:"flex items-center justify-between"},st={class:"space-y-6"},at={class:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950/20 dark:to-indigo-950/20 rounded-lg p-6"},lt={class:"flex items-center justify-between"},ot={class:"text-3xl font-bold text-blue-600"},rt={class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},nt={class:"text-right"},it={class:"text-2xl font-bold text-green-600"},dt={class:"space-y-3"},ut={class:"flex items-center gap-3"},ct={class:"w-8 h-8 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center"},mt={class:"text-sm font-medium text-blue-600"},pt={class:"font-medium text-gray-900 dark:text-gray-100"},gt={class:"text-sm text-gray-600 dark:text-gray-400"},ft={class:"text-right"},bt={class:"font-semibold text-gray-900 dark:text-gray-100"},vt={class:"flex items-center gap-1 mt-1"},_t={class:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",style:{width:"60px"}},yt={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},ht={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},xt={class:"flex items-center justify-between mb-3"},kt={class:"font-semibold text-gray-900 dark:text-gray-100"},$t={class:"flex items-center gap-2"},wt={class:"text-green-600 text-sm font-medium"},Ct={class:"border-t pt-4"},Pt={class:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400"},Dt={key:0},Bt={key:1},St=B({__name:"SalesPredictionWidget",props:{salesData:{}},setup(y){ae.register(le,oe,re,ne,ie,de,ue,ce);const n=A(!1),v=_(()=>{const g=new Date;return g.setDate(g.getDate()+1),g}),o=A([]),k=_(()=>o.value.length?o.value.reduce((u,C)=>u+(C.confidence??.7),0)/o.value.length:.7),h=_(()=>o.value.slice(0,7).map(g=>g.predicted_sales)),f=_(()=>{var g;return((g=o.value[0])==null?void 0:g.predicted_sales)??0}),r=_(()=>o.value.length>=30?o.value.slice(0,30).reduce((g,u)=>g+u.predicted_sales,0):o.value.length>0?o.value.reduce((u,C)=>u+C.predicted_sales,0)/o.value.length*30:0),i=_(()=>Math.max(0,Math.min(25,(k.value-.6)*100))),d=A(!1),c=_(()=>({labels:h.value.map((g,u)=>{const C=x(u);return b(C).split(" ")[1]}),datasets:[{label:"Predicted Sales",data:h.value,borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4,pointBackgroundColor:"rgb(59, 130, 246)",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:5},{label:"Confidence Range",data:h.value.map(g=>g*.95),borderColor:"rgba(59, 130, 246, 0.3)",backgroundColor:"rgba(59, 130, 246, 0.05)",fill:!1,tension:.4,borderDash:[5,5],pointRadius:0}]})),w=_(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:20,font:{size:12}}},tooltip:{mode:"index",intersect:!1,callbacks:{label:function(g){return`${g.dataset.label}: ${T(g.parsed.y)}`}}}},scales:{y:{beginAtZero:!1,min:Math.min(...h.value,0),max:Math.max(...h.value,1)*1.1,grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{callback:function(g){return T(g)},font:{size:11}}},x:{grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{font:{size:11}}}},interaction:{mode:"nearest",axis:"x",intersect:!1}})),S=_(()=>Math.max(...h.value,0));_(()=>h.value.map((u,C)=>{const j=C/6*100,we=100-u/S.value*100;return`${j},${we}`}).join(" ")),_(()=>h.value.map((g,u)=>{const C=u/6*100,j=100-g/S.value*100;return{x:C,y:j}}));function T(g){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0,maximumFractionDigits:0}).format(g)}function b(g){return g.toLocaleDateString("en-US",{month:"short",day:"numeric"})}function a(g){return g.toLocaleDateString("en-US",{weekday:"short"})}function x(g){const u=new Date;return u.setDate(u.getDate()+g+1),u}function $e(g){const u=Math.max(...h.value,0);return u>0?g/u*100:0}return ye(async()=>{var g;try{const u=await fetch("/sales/predictions?period=month&days_ahead=30",{headers:{Accept:"application/json"}});if(!u.ok)throw new Error(`Failed to fetch predictions: ${u.status}`);const C=await u.json();d.value=!!((g=C==null?void 0:C.model_info)!=null&&g.note),o.value=Array.isArray(C==null?void 0:C.predictions)?C.predictions:[]}catch(u){d.value=!0,o.value=[],console.error(u)}}),(g,u)=>(p(),D(t(R),null,{default:l(()=>[s(t(N),null,{default:l(()=>[e("div",tt,[s(t(H),{class:"flex items-center gap-2"},{default:l(()=>[s(t(I),{class:"w-5 h-5 text-blue-600"}),u[0]||(u[0]=P(" Sales Prediction "))]),_:1,__:[0]})])]),_:1}),e("div",{class:O(["overflow-hidden transition-all duration-300 ease-in-out",{"max-h-0":n.value,"max-h-[2000px]":!n.value}])},[s(t(M),null,{default:l(()=>[e("div",st,[e("div",at,[e("div",lt,[e("div",null,[u[1]||(u[1]=e("h4",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100"}," Tomorrow's Prediction ",-1)),e("p",ot,m(T(f.value)),1),e("p",rt," Expected sales for "+m(b(v.value)),1)]),e("div",nt,[u[2]||(u[2]=e("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"Confidence",-1)),e("div",it,m((k.value*100).toFixed(0))+"% ",1)])])]),e("div",null,[u[3]||(u[3]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"Next 7 Days Forecast",-1)),e("div",dt,[(p(!0),$(F,null,L(h.value,(C,j)=>(p(),$("div",{key:j,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},[e("div",ut,[e("div",ct,[e("span",mt,m(j+1),1)]),e("div",null,[e("p",pt,m(b(x(j))),1),e("p",gt,m(a(x(j))),1)])]),e("div",ft,[e("p",bt,m(T(C)),1),e("div",vt,[e("div",_t,[e("div",{class:"h-full bg-blue-500 rounded-full transition-all duration-300",style:z({width:$e(C)+"%"})},null,4)])])])]))),128))])]),e("div",null,[u[4]||(u[4]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"Sales Forecast Trend",-1)),e("div",yt,[s(t(me),{data:c.value,options:w.value,height:"200px"},null,8,["data","options"])])]),e("div",null,[u[6]||(u[6]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"Monthly Trend",-1)),e("div",ht,[e("div",xt,[u[5]||(u[5]=e("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Predicted Monthly Revenue",-1)),e("span",kt,m(T(r.value)),1)]),e("div",$t,[s(t(I),{class:"w-4 h-4 text-green-600"}),e("span",wt," +"+m(i.value.toFixed(1))+"% vs current month ",1)])])]),e("div",Ct,[e("div",Pt,[d.value?(p(),$("span",Dt,"Using sample data")):(p(),$("span",Bt,"Live predictions")),u[7]||(u[7]=e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-2 h-2 bg-green-500 rounded-full"}),e("span",null,"Ready")],-1))])])])]),_:1})],2)]),_:1}))}}),Tt={class:"flex items-center justify-between"},Rt={class:"space-y-6"},Mt={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},At={class:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded-lg p-4"},Vt={class:"flex items-center justify-between"},Lt={class:"text-2xl font-bold text-red-700 dark:text-red-300"},Ft={class:"p-2 bg-red-100 dark:bg-red-900/30 rounded-full"},jt={class:"bg-green-50 dark:bg-green-950/20 border border-green-200 dark:border-green-800 rounded-lg p-4"},It={class:"flex items-center justify-between"},Ht={class:"text-2xl font-bold text-green-700 dark:text-green-300"},Nt={class:"p-2 bg-green-100 dark:bg-green-900/30 rounded-full"},zt={class:"bg-yellow-50 dark:bg-yellow-950/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4"},Ot={class:"flex items-center justify-between"},Et={class:"text-2xl font-bold text-yellow-700 dark:text-yellow-300"},Ut={class:"p-2 bg-yellow-100 dark:bg-yellow-900/30 rounded-full"},Wt={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},qt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Zt={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},Yt={key:0,class:"space-y-3"},Kt={class:"flex items-center gap-2"},Qt={class:"text-sm text-gray-700 dark:text-gray-300"},Gt={class:"flex items-center gap-2"},Jt={class:"w-16 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"},Xt={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},es={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},ts={key:0,class:"space-y-3"},ss={class:"text-sm text-gray-700 dark:text-gray-300"},as={class:"flex items-center gap-2"},ls={class:"w-16 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"},os={class:"text-sm font-medium text-red-600"},rs={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},ns={class:"space-y-3"},is={class:"flex items-center gap-3"},ds={class:"w-8 h-8 bg-yellow-100 dark:bg-yellow-900/20 rounded-full flex items-center justify-center"},us={class:"text-sm font-medium text-yellow-600"},cs={class:"font-medium text-gray-900 dark:text-gray-100"},ms={class:"text-sm text-gray-600 dark:text-gray-400"},ps={class:"text-right"},gs={class:"text-sm font-medium text-yellow-600"},fs={class:"text-xs text-gray-600 dark:text-gray-400"},bs={class:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4"},vs={class:"space-y-3"},_s={class:"text-sm font-medium text-blue-900 dark:text-blue-100"},ys={class:"text-sm text-blue-700 dark:text-blue-300"},hs=B({__name:"CustomerChurnWidget",props:{metrics:{}},setup(y){ae.register(le,oe,re,ne,ie,de,ue,ce);const n=A(!1),v=y,o=_(()=>v.metrics),k=_(()=>({labels:(o.value.churnTrend||[]).map(f=>f.month),datasets:[{label:"Churn Rate",data:(o.value.churnTrend||[]).map(f=>f.rate),borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.1)",fill:!0,tension:.4,pointBackgroundColor:"rgb(239, 68, 68)",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:5},{label:"Retention Rate",data:(o.value.churnTrend||[]).map(f=>100-f.rate),borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.1)",fill:!1,tension:.4,borderDash:[5,5],pointBackgroundColor:"rgb(34, 197, 94)",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4}]})),h=_(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:20,font:{size:12}}},tooltip:{mode:"index",intersect:!1,callbacks:{label:function(f){return`${f.dataset.label}: ${f.parsed.y.toFixed(1)}%`}}}},scales:{y:{beginAtZero:!0,max:15,grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{callback:function(f){return f+"%"},font:{size:11}}},x:{grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{font:{size:11}}}},interaction:{mode:"nearest",axis:"x",intersect:!1}}));return _(()=>(o.value.churnTrend||[]).map((r,i)=>{const d=i/5*100,c=100-r.rate/8*100;return`${d},${c}`}).join(" ")),_(()=>(o.value.churnTrend||[]).map((f,r)=>{const i=r/5*100,d=100-f.rate/8*100;return{x:i,y:d}})),(f,r)=>(p(),D(t(R),null,{default:l(()=>[s(t(N),null,{default:l(()=>[e("div",Tt,[s(t(H),{class:"flex items-center gap-2"},{default:l(()=>[s(t(he),{class:"w-5 h-5 text-red-600"}),r[0]||(r[0]=P(" Customer Churn Analysis "))]),_:1,__:[0]})])]),_:1}),e("div",{class:O(["overflow-hidden transition-all duration-300 ease-in-out",{"max-h-0":n.value,"max-h-[2000px]":!n.value}])},[s(t(M),null,{default:l(()=>[e("div",Rt,[e("div",Mt,[e("div",At,[e("div",Vt,[e("div",null,[r[1]||(r[1]=e("p",{class:"text-sm font-medium text-red-600 dark:text-red-400"},"Churn Rate",-1)),e("p",Lt,m(o.value.churnRate)+"% ",1)]),e("div",Ft,[s(t(Le),{class:"w-5 h-5 text-red-600"})])]),r[2]||(r[2]=e("p",{class:"text-xs text-red-600 dark:text-red-400 mt-1"}," Last 30 days ",-1))]),e("div",jt,[e("div",It,[e("div",null,[r[3]||(r[3]=e("p",{class:"text-sm font-medium text-green-600 dark:text-green-400"},"Retention Rate",-1)),e("p",Ht,m(o.value.retentionRate)+"% ",1)]),e("div",Nt,[s(t(I),{class:"w-5 h-5 text-green-600"})])]),r[4]||(r[4]=e("p",{class:"text-xs text-green-600 dark:text-green-400 mt-1"}," Last 30 days ",-1))]),e("div",zt,[e("div",Ot,[e("div",null,[r[5]||(r[5]=e("p",{class:"text-sm font-medium text-yellow-600 dark:text-yellow-400"},"At Risk",-1)),e("p",Et,m(o.value.atRiskCustomers),1)]),e("div",Ut,[s(t(Ie),{class:"w-5 h-5 text-yellow-600"})])]),r[6]||(r[6]=e("p",{class:"text-xs text-yellow-600 dark:text-yellow-400 mt-1"}," Need attention ",-1))])]),e("div",null,[r[7]||(r[7]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"Churn Trend (Last 6 Months)",-1)),e("div",Wt,[s(t(me),{data:k.value,options:h.value,height:"200px"},null,8,["data","options"])])]),e("div",null,[r[10]||(r[10]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"Customer Segments",-1)),e("div",qt,[e("div",Zt,[r[8]||(r[8]=e("h5",{class:"font-medium text-gray-900 dark:text-gray-100 mb-3"},"Segment Distribution",-1)),o.value.customerSegments&&o.value.customerSegments.length?(p(),$("div",Yt,[(p(!0),$(F,null,L(o.value.customerSegments,i=>(p(),$("div",{key:i.name,class:"flex items-center justify-between"},[e("div",Kt,[e("div",{class:"w-3 h-3 rounded-full",style:z({backgroundColor:i.color})},null,4),e("span",Qt,m(i.name),1)]),e("div",Gt,[e("div",Jt,[e("div",{class:"h-full rounded-full transition-all duration-300",style:z({width:i.percentage+"%",backgroundColor:i.color})},null,4)]),e("span",Xt,m(i.percentage)+"% ",1)])]))),128))])):Q("",!0)]),e("div",es,[r[9]||(r[9]=e("h5",{class:"font-medium text-gray-900 dark:text-gray-100 mb-3"},"Churn by Segment",-1)),o.value.churnBySegment&&o.value.churnBySegment.length?(p(),$("div",ts,[(p(!0),$(F,null,L(o.value.churnBySegment,i=>(p(),$("div",{key:i.name,class:"flex items-center justify-between"},[e("span",ss,m(i.name),1),e("div",as,[e("div",ls,[e("div",{class:"h-full bg-red-500 rounded-full transition-all duration-300",style:z({width:i.churnRate+"%"})},null,4)]),e("span",os,m(i.churnRate)+"% ",1)])]))),128))])):Q("",!0)])])]),e("div",null,[r[11]||(r[11]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"At-Risk Customers",-1)),e("div",rs,[e("div",ns,[(p(!0),$(F,null,L(o.value.atRiskCustomerList,i=>(p(),$("div",{key:i.id,class:"flex items-center justify-between p-3 bg-white dark:bg-gray-700 rounded-lg border border-yellow-200 dark:border-yellow-800"},[e("div",is,[e("div",ds,[e("span",us,m(i.name.charAt(0)),1)]),e("div",null,[e("p",cs,m(i.name),1),e("p",ms," Last purchase: "+m(i.lastPurchase),1)])]),e("div",ps,[e("p",gs,m(i.riskLevel),1),e("p",fs,m(i.daysSincePurchase)+" days ago ",1)])]))),128))])])]),e("div",null,[r[13]||(r[13]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"Recommendations",-1)),e("div",bs,[e("div",vs,[(p(!0),$(F,null,L(o.value.recommendations,i=>(p(),$("div",{key:i.id,class:"flex items-start gap-3"},[r[12]||(r[12]=e("div",{class:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"},null,-1)),e("div",null,[e("p",_s,m(i.title),1),e("p",ys,m(i.description),1)])]))),128))])])])])]),_:1})],2)]),_:1}))}}),xs={class:"flex items-center justify-between"},ks={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"},$s={class:"bg-indigo-50 dark:bg-indigo-950/20 border border-indigo-200 dark:border-indigo-800 rounded-lg p-4"},ws={class:"flex items-center justify-between"},Cs={class:"bg-emerald-50 dark:bg-emerald-950/20 border border-emerald-200 dark:border-emerald-800 rounded-lg p-4"},Ps={class:"flex items-center justify-between"},Ds={class:"bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4"},Bs={class:"flex items-center justify-between"},Ss={class:"mb-6"},Ts={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},Rs={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ms={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},As={class:"space-y-3"},Vs={class:"flex items-center gap-3"},Ls={class:"w-8 h-8 bg-indigo-100 dark:bg-indigo-900/20 rounded-full flex items-center justify-center"},Fs={class:"text-sm font-medium text-indigo-600"},js={class:"font-medium text-gray-900 dark:text-gray-100"},Is={class:"text-right"},Hs={class:"font-semibold text-gray-900 dark:text-gray-100"},Ns={class:"text-sm text-gray-600 dark:text-gray-400"},zs={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},Os={class:"space-y-3"},Es={class:"flex items-center gap-2"},Us={class:"text-sm text-gray-700 dark:text-gray-300"},Ws={class:"flex items-center gap-2"},qs={class:"w-16 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"},Zs={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},Ys=B({__name:"ProductSalesTrendWidget",props:{salesByDate:{},topProducts:{}},setup(y){ae.register(le,oe,re,ne,ie,de,ue,ce);const n=A(!1),v=y,o=_(()=>v.salesByDate.slice(-7)),k=_(()=>({labels:o.value.map(d=>new Date(d.date).toLocaleDateString("en-US",{weekday:"short"})),datasets:[{label:"Daily Sales",data:o.value.map(d=>d.sales),borderColor:"rgb(99, 102, 241)",backgroundColor:"rgba(99, 102, 241, 0.1)",fill:!0,tension:.4,pointBackgroundColor:"rgb(99, 102, 241)",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:5}]})),h=_(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:20,font:{size:12}}},tooltip:{mode:"index",intersect:!1,callbacks:{label:function(d){return d.datasetIndex===0?`${d.dataset.label}: ${d.parsed.y} units`:`${d.dataset.label}: ${d.parsed.y} units`}}}},scales:{y:{beginAtZero:!0,min:0,max:400,grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{stepSize:100,font:{size:11}}},x:{grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{font:{size:11}}}},interaction:{mode:"nearest",axis:"x",intersect:!1}})),f=_(()=>v.topProducts.map(d=>({name:d.name,units:d.total_quantity,revenue:d.total_revenue}))),r=[{name:"High Performance",percentage:35,color:"#10B981"},{name:"Medium Performance",percentage:45,color:"#3B82F6"},{name:"Low Performance",percentage:20,color:"#F59E0B"}];_(()=>{const d=o.value,c=Math.max(...d.map(T=>T.sales),1),w=0;return d.map((T,b)=>{const a=b/Math.max(1,d.length-1)*100,x=100-((T.sales-w)/(c-w)*80+10);return`${a},${x}`}).join(" ")}),_(()=>{const d=o.value,c=Math.max(...d.map(S=>S.sales),1),w=0;return d.map((S,T)=>{const b=T/Math.max(1,d.length-1)*100,a=100-((S.sales-w)/(c-w)*80+10);return{x:b,y:a}})});function i(d){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0,maximumFractionDigits:0}).format(d)}return(d,c)=>(p(),D(t(R),null,{default:l(()=>[s(t(N),null,{default:l(()=>[e("div",xs,[s(t(H),{class:"flex items-center gap-2"},{default:l(()=>[s(t(G),{class:"w-5 h-5 text-indigo-600"}),c[0]||(c[0]=P(" Product Sales Trend "))]),_:1,__:[0]})])]),_:1}),e("div",{class:O(["overflow-hidden transition-all duration-300 ease-in-out",{"max-h-0":n.value,"max-h-[2000px]":!n.value}])},[s(t(M),null,{default:l(()=>[e("div",ks,[e("div",$s,[e("div",ws,[c[1]||(c[1]=e("div",null,[e("p",{class:"text-sm font-medium text-indigo-600 dark:text-indigo-400"},"Total Products Sold"),e("p",{class:"text-2xl font-bold text-indigo-700 dark:text-indigo-300"},"8,456")],-1)),s(t(G),{class:"w-8 h-8 text-indigo-600"})]),c[2]||(c[2]=e("p",{class:"text-xs text-indigo-600 dark:text-indigo-400 mt-1"},"+15% from last month",-1))]),e("div",Cs,[e("div",Ps,[c[3]||(c[3]=e("div",null,[e("p",{class:"text-sm font-medium text-emerald-600 dark:text-emerald-400"},"Top Product"),e("p",{class:"text-lg font-bold text-emerald-700 dark:text-emerald-300"},"Ink Cartridge")],-1)),s(t(He),{class:"w-8 h-8 text-emerald-600"})]),c[4]||(c[4]=e("p",{class:"text-xs text-emerald-600 dark:text-emerald-400 mt-1"},"1,247 units sold",-1))]),e("div",Ds,[e("div",Bs,[c[5]||(c[5]=e("div",null,[e("p",{class:"text-sm font-medium text-amber-600 dark:text-amber-400"},"Avg Daily Sales"),e("p",{class:"text-2xl font-bold text-amber-700 dark:text-amber-300"},"282")],-1)),s(t(I),{class:"w-8 h-8 text-amber-600"})]),c[6]||(c[6]=e("p",{class:"text-xs text-amber-600 dark:text-amber-400 mt-1"},"+8% from last week",-1))])]),e("div",Ss,[c[7]||(c[7]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"Product Sales Trend (Last 7 Days)",-1)),e("div",Ts,[s(t(me),{data:k.value,options:h.value,height:"200px"},null,8,["data","options"])])]),e("div",Rs,[e("div",null,[c[8]||(c[8]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"Top Selling Products",-1)),e("div",Ms,[e("div",As,[(p(!0),$(F,null,L(f.value,w=>(p(),$("div",{key:w.name,class:"flex items-center justify-between"},[e("div",Vs,[e("div",Ls,[e("span",Fs,m(w.name.charAt(0)),1)]),e("div",null,[e("p",js,m(w.name),1)])]),e("div",Is,[e("p",Hs,m(w.units)+" units",1),e("p",Ns,m(i(w.revenue)),1)])]))),128))])])]),e("div",null,[c[9]||(c[9]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"Product Performance",-1)),e("div",zs,[e("div",Os,[(p(),$(F,null,L(r,w=>e("div",{key:w.name,class:"flex items-center justify-between"},[e("div",Es,[e("div",{class:"w-3 h-3 rounded-full",style:z({backgroundColor:w.color})},null,4),e("span",Us,m(w.name),1)]),e("div",Ws,[e("div",qs,[e("div",{class:"h-full rounded-full transition-all duration-300",style:z({width:w.percentage+"%",backgroundColor:w.color})},null,4)]),e("span",Zs,m(w.percentage)+"%",1)])])),64))])])])])]),_:1})],2)]),_:1}))}}),Ks=B({__name:"Tabs",props:{defaultValue:{default:"sales-prediction"},orientation:{},dir:{},activationMode:{},modelValue:{},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["update:modelValue"],setup(y,{emit:n}){const k=qe(y,n);return(h,f)=>(p(),D(t(Qe),J({"data-slot":"tabs"},t(k)),{default:l(()=>[V(h.$slots,"default")]),_:3},16))}}),Qs=B({__name:"TabsList",props:{loop:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(y){const n=y,v=se(n,"class");return(o,k)=>(p(),D(t(Je),J({"data-slot":"tabs-list"},t(v),{class:t(te)("inline-flex h-10 items-center justify-center rounded-md bg-muted text-muted-foreground overflow-hidden",n.class)}),{default:l(()=>[V(o.$slots,"default")]),_:3},16,["class"]))}}),Y=B({__name:"TabsTrigger",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(y){const n=y,v=se(n,"class");return(o,k)=>(p(),D(t(Xe),J({"data-slot":"tabs-trigger"},t(v),{class:t(te)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",n.class)}),{default:l(()=>[V(o.$slots,"default")]),_:3},16,["class"]))}}),K=B({__name:"TabsContent",props:{value:{},forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(y){const n=y,v=se(n,"class");return(o,k)=>(p(),D(t(Ge),J({"data-slot":"tabs-content"},t(v),{class:t(te)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n.class)}),{default:l(()=>[V(o.$slots,"default")]),_:3},16,["class"]))}}),Gs={class:"dashboard-wrapper"},Js={class:"dashboard-header"},Xs={class:"dashboard-filters"},ea={class:"filter-group"},ta={class:"filter-label"},sa={key:0,class:"date-range-group"},aa={class:"date-input-group"},la={class:"date-input-group"},oa={class:"metrics-grid"},ra={class:"metric-header"},na={class:"metric-info"},ia={class:"metric-label-group"},da={class:"metric-value"},ua={class:"metric-header"},ca={class:"metric-info"},ma={class:"metric-label-group"},pa={class:"metric-value"},ga={class:"metric-icon-wrapper metric-icon-green"},fa={class:"metric-header"},ba={class:"metric-info"},va={class:"metric-label-group"},_a={class:"metric-value"},ya={class:"metric-icon-wrapper metric-icon-yellow"},ha={class:"metric-header"},xa={class:"metric-info"},ka={class:"metric-label-group"},$a={class:"metric-value"},wa={class:"metric-icon-wrapper metric-icon-orange"},Ca={class:"analytics-tabs-wrapper"},Pa={class:"category-section"},Da={key:0,class:"empty-state"},Ba={class:"tables-grid"},Sa={class:"table-wrapper"},Ta={class:"data-table"},Ra={class:"table-cell table-cell-bold"},Ma={class:"table-cell table-cell-right"},Aa={class:"table-cell table-cell-right table-cell-highlight"},Va={class:"table-wrapper"},La={class:"data-table"},Fa={class:"table-cell"},ja=["href"],Ia={class:"table-cell"},Ha={class:"table-cell table-cell-right table-cell-bold"},Na={class:"table-cell table-cell-center"},ol=B({__name:"Dashboard",props:{salesData:{},topProducts:{},salesByDate:{},salesByCategory:{},recentInvoices:{},churnMetrics:{},filters:{}},setup(y){const n=y,v=A(n.filters.period),o=A(n.filters.start_date),k=A(n.filters.end_date),h=[{title:"Dashboard",href:"/dashboard"}],f=[{value:"week",label:"Last 7 Days"},{value:"month",label:"Last 30 Days"},{value:"quarter",label:"Last 3 Months"},{value:"year",label:"Last 12 Months"},{value:"custom",label:"Choose Dates"}];function r(){Re.get("/dashboard",{period:v.value,start_date:o.value,end_date:k.value},{preserveState:!0,replace:!0})}Se([v,o,k],()=>{r()});const i=_(()=>({labels:n.salesByDate.map(b=>new Date(b.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})),datasets:[{label:"Daily Sales",data:n.salesByDate.map(b=>b.sales),borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4},{label:"Invoices",data:n.salesByDate.map(b=>b.invoices),borderColor:"rgb(16, 185, 129)",backgroundColor:"rgba(16, 185, 129, 0.1)",fill:!1,tension:.4,yAxisID:"y1"}]})),d=_(()=>({plugins:{title:{display:!0,text:"Sales Trend"},legend:{position:"top"}},scales:{y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"Sales Amount (₱)"}},y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:"Number of Invoices"},grid:{drawOnChartArea:!1}}}})),c=_(()=>({labels:n.salesByCategory.map(b=>b.category_name),datasets:[{data:n.salesByCategory.map(b=>b.total_revenue),backgroundColor:["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16","#F97316","#EC4899","#6366F1"],borderWidth:2,borderColor:"#ffffff"}]})),w=_(()=>({plugins:{title:{display:!0,text:"Sales by Category"},legend:{position:"bottom"}}}));_(()=>({labels:n.topProducts.map(b=>b.name),datasets:[{label:"Revenue",data:n.topProducts.map(b=>b.total_revenue),backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgb(59, 130, 246)",borderWidth:1}]})),_(()=>({plugins:{title:{display:!0,text:"Top Products by Revenue"},legend:{display:!1}},scales:{y:{title:{display:!0,text:"Revenue (₱)"}}}}));function S(b){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(b)}return A(!1),[{id:1,title:"New Order Received",message:"Order #1234 has been placed for ₱2,500",time:"2 minutes ago",type:"order",read:!1},{id:2,title:"Low Stock Alert",message:"Ink (brother 500 C, Cyan) is running low on stock",time:"15 minutes ago",type:"alert",read:!1},{id:3,title:"Sales Target Achieved",message:"Congratulations! You've reached 85% of your monthly sales target",time:"1 hour ago",type:"success",read:!0},{id:4,title:"Payment Received",message:"Payment of ₱1,800 has been received for Invoice #5678",time:"2 hours ago",type:"payment",read:!0}].filter(b=>!b.read).length,(b,a)=>(p(),D(je,{breadcrumbs:h},{default:l(()=>[s(t(Te),{title:"Dashboard"}),s(t(et),null,{default:l(()=>[e("div",Gs,[e("div",Js,[a[6]||(a[6]=e("div",null,[e("h1",{class:"dashboard-title"},"Dashboard"),e("p",{class:"dashboard-subtitle"},"View your business performance at a glance")],-1)),e("div",Xs,[e("div",ea,[e("label",ta,[s(t(Ne),{class:"w-4 h-4"}),a[3]||(a[3]=P(" View Period "))]),s(t(Me),{modelValue:v.value,"onUpdate:modelValue":a[0]||(a[0]=x=>v.value=x),options:f,placeholder:"Choose time period",class:"period-select"},null,8,["modelValue"])]),v.value==="custom"?(p(),$("div",sa,[e("div",aa,[a[4]||(a[4]=e("label",{class:"date-label"},"Start Date",-1)),ge(e("input",{"onUpdate:modelValue":a[1]||(a[1]=x=>o.value=x),type:"date",class:"date-input"},null,512),[[fe,o.value]])]),e("div",la,[a[5]||(a[5]=e("label",{class:"date-label"},"End Date",-1)),ge(e("input",{"onUpdate:modelValue":a[2]||(a[2]=x=>k.value=x),type:"date",class:"date-input"},null,512),[[fe,k.value]])])])):Q("",!0)])]),a[35]||(a[35]=e("div",{class:"metrics-section"},[e("h2",{class:"section-title"},"Your Business Overview"),e("p",{class:"section-description"},"Quick summary of your sales performance")],-1)),e("div",oa,[s(R,{class:"metric-card"},{default:l(()=>[s(M,{class:"metric-card-content"},{default:l(()=>[e("div",ra,[e("div",na,[e("div",ia,[a[8]||(a[8]=e("span",{class:"metric-label"},"Total Revenue",-1)),s(t(E),null,{default:l(()=>[s(t(U),{"as-child":""},{default:l(()=>[s(t(q),{class:"help-icon"})]),_:1}),s(t(W),null,{default:l(()=>a[7]||(a[7]=[e("p",null,"The total amount of money you've earned from all sales",-1)])),_:1,__:[7]})]),_:1})]),e("p",da,m(S(b.salesData.total_sales)),1),a[9]||(a[9]=e("p",{class:"metric-description"},"All sales combined",-1))]),a[10]||(a[10]=e("div",{class:"metric-icon-wrapper metric-icon-blue"},[e("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 119.43 122.88",class:"metric-icon"},[e("path",{d:"M118.45,51l1,1-.74,9.11H99A40.52,40.52,0,0,1,81.88,78.43q-11.44,6.28-27.71,7h-15l.5,37.43H21.42l.74-36.94-.24-24.87H1L0,59.84.74,51H21.92l-.25-15.26H1l-1-1,.74-9.11H21.67L21.42.25,63.29,0Q78.8,0,88.65,6.53T102,25.61h16.5l1,1.23-.74,8.87h-15v3.94A53.17,53.17,0,0,1,102.44,51ZM39.65,25.61H81.26Q74.85,14,58.61,13.3L39.89,14l-.24,11.57ZM39.4,51H83.23a39.51,39.51,0,0,0,1.23-9.6,46.17,46.17,0,0,0-.24-5.66H39.65L39.4,51ZM58.61,71.91q12.56-2.72,19.21-10.84H39.4l-.25,10.1,19.46.74Z"})])],-1))])]),_:1})]),_:1}),s(R,{class:"metric-card"},{default:l(()=>[s(M,{class:"metric-card-content"},{default:l(()=>[e("div",ua,[e("div",ca,[e("div",ma,[a[12]||(a[12]=e("span",{class:"metric-label"},"Total Invoices",-1)),s(t(E),null,{default:l(()=>[s(t(U),{"as-child":""},{default:l(()=>[s(t(q),{class:"help-icon"})]),_:1}),s(t(W),null,{default:l(()=>a[11]||(a[11]=[e("p",null,"The number of sales transactions you've completed",-1)])),_:1,__:[11]})]),_:1})]),e("p",pa,m(b.salesData.total_invoices),1),a[13]||(a[13]=e("p",{class:"metric-description"},"Sales transactions",-1))]),e("div",ga,[s(t(ve),{class:"metric-icon"})])])]),_:1})]),_:1}),s(R,{class:"metric-card"},{default:l(()=>[s(M,{class:"metric-card-content"},{default:l(()=>[e("div",fa,[e("div",ba,[e("div",va,[a[15]||(a[15]=e("span",{class:"metric-label"},"Average Sale Amount",-1)),s(t(E),null,{default:l(()=>[s(t(U),{"as-child":""},{default:l(()=>[s(t(q),{class:"help-icon"})]),_:1}),s(t(W),null,{default:l(()=>a[14]||(a[14]=[e("p",null,"The average amount customers spend per transaction",-1)])),_:1,__:[14]})]),_:1})]),e("p",_a,m(S(b.salesData.average_order_value)),1),a[16]||(a[16]=e("p",{class:"metric-description"},"Per transaction",-1))]),e("div",ya,[s(t(I),{class:"metric-icon"})])])]),_:1})]),_:1}),s(R,{class:"metric-card"},{default:l(()=>[s(M,{class:"metric-card-content"},{default:l(()=>[e("div",ha,[e("div",xa,[e("div",ka,[a[18]||(a[18]=e("span",{class:"metric-label"},"Awaiting Payment",-1)),s(t(E),null,{default:l(()=>[s(t(U),{"as-child":""},{default:l(()=>[s(t(q),{class:"help-icon"})]),_:1}),s(t(W),null,{default:l(()=>a[17]||(a[17]=[e("p",null,"Invoices that are still waiting to be paid",-1)])),_:1,__:[17]})]),_:1})]),e("p",$a,m(b.salesData.pending_invoices),1),a[19]||(a[19]=e("p",{class:"metric-description"},"Need attention",-1))]),e("div",wa,[s(t(Ye),{class:"metric-icon"})])])]),_:1})]),_:1})]),a[36]||(a[36]=e("div",{class:"analytics-section"},[e("div",{class:"section-header"},[e("h2",{class:"section-title"},"Sales Trends & Insights"),e("p",{class:"section-description"},"Track how your sales are performing over time")])],-1)),e("div",Ca,[s(t(Ks),{defaultValue:"sales-trend",class:"analytics-tabs-full"},{default:l(()=>[s(t(Qs),{class:"tabs-list-full"},{default:l(()=>[s(t(Y),{value:"sales-trend",class:"tab-trigger-full"},{default:l(()=>[s(t(I),{class:"tab-icon"}),a[20]||(a[20]=P(" Your Sales Trend "))]),_:1,__:[20]}),s(t(Y),{value:"sales-prediction",class:"tab-trigger-full"},{default:l(()=>[s(t(I),{class:"tab-icon"}),a[21]||(a[21]=P(" Sales Prediction "))]),_:1,__:[21]}),s(t(Y),{value:"customer-churn",class:"tab-trigger-full"},{default:l(()=>[s(t(he),{class:"tab-icon"}),a[22]||(a[22]=P(" Customer Churn Analysis "))]),_:1,__:[22]}),s(t(Y),{value:"product-trend",class:"tab-trigger-full"},{default:l(()=>[s(t(Fe),{class:"tab-icon"}),a[23]||(a[23]=P(" Product Sales Trend "))]),_:1,__:[23]})]),_:1}),s(t(K),{value:"sales-trend",class:"tab-content-full"},{default:l(()=>[s(R,{class:"chart-card"},{default:l(()=>[s(N,null,{default:l(()=>[s(H,{class:"chart-title"},{default:l(()=>[s(t(I),{class:"chart-title-icon"}),a[24]||(a[24]=P(" Your Sales Trend "))]),_:1,__:[24]}),s(Z,null,{default:l(()=>a[25]||(a[25]=[P(" See how your daily sales and number of transactions change over time ")])),_:1,__:[25]})]),_:1}),s(M,null,{default:l(()=>[s(be,{type:"line",data:i.value,options:d.value,height:"350px"},null,8,["data","options"])]),_:1})]),_:1})]),_:1}),s(t(K),{value:"sales-prediction",class:"tab-content-full"},{default:l(()=>[s(St,{"sales-data":b.salesByDate},null,8,["sales-data"])]),_:1}),s(t(K),{value:"customer-churn",class:"tab-content-full"},{default:l(()=>[s(hs,{metrics:b.churnMetrics},null,8,["metrics"])]),_:1}),s(t(K),{value:"product-trend",class:"tab-content-full"},{default:l(()=>[s(Ys,{"sales-by-date":b.salesByDate,"top-products":b.topProducts},null,8,["sales-by-date","top-products"])]),_:1})]),_:1})]),e("div",Pa,[s(R,{class:"chart-card"},{default:l(()=>[s(N,null,{default:l(()=>[s(H,{class:"chart-title"},{default:l(()=>[s(t(G),{class:"chart-title-icon"}),a[26]||(a[26]=P(" Sales by Product Category "))]),_:1,__:[26]}),s(Z,null,{default:l(()=>a[27]||(a[27]=[P(" See which product categories bring in the most revenue ")])),_:1,__:[27]})]),_:1}),s(M,null,{default:l(()=>[n.salesByCategory.length===0?(p(),$("div",Da,a[28]||(a[28]=[e("p",{class:"empty-title"},"No category data for the selected period",-1),e("p",{class:"empty-subtitle"},"Try expanding the date range or confirming there are paid invoices.",-1)]))):(p(),D(be,{key:1,type:"doughnut",data:c.value,options:w.value,height:"300px"},null,8,["data","options"]))]),_:1})]),_:1})]),a[37]||(a[37]=e("div",{class:"section-header"},[e("h2",{class:"section-title"},"Product Performance & Recent Activity"),e("p",{class:"section-description"},"Your best-selling products and latest transactions")],-1)),e("div",Ba,[s(R,{class:"table-card"},{default:l(()=>[s(N,null,{default:l(()=>[s(H,{class:"table-title"},{default:l(()=>[s(t(G),{class:"table-title-icon"}),a[29]||(a[29]=P(" Best-Selling Products "))]),_:1,__:[29]}),s(Z,null,{default:l(()=>a[30]||(a[30]=[P(" Products that have generated the most revenue ")])),_:1,__:[30]})]),_:1}),s(M,null,{default:l(()=>[e("div",Sa,[e("table",Ta,[a[31]||(a[31]=e("thead",null,[e("tr",{class:"table-header-row"},[e("th",{class:"table-header"},"Product Name"),e("th",{class:"table-header table-header-right"},"Units Sold"),e("th",{class:"table-header table-header-right"},"Revenue")])],-1)),e("tbody",null,[(p(!0),$(F,null,L(b.topProducts,x=>(p(),$("tr",{key:x.id,class:"table-row"},[e("td",Ra,m(x.name),1),e("td",Ma,m(x.total_quantity.toLocaleString()),1),e("td",Aa,m(S(x.total_revenue)),1)]))),128))])])])]),_:1})]),_:1}),s(R,{class:"table-card"},{default:l(()=>[s(N,null,{default:l(()=>[s(H,{class:"table-title"},{default:l(()=>[s(t(ve),{class:"table-title-icon"}),a[32]||(a[32]=P(" Recent Transactions "))]),_:1,__:[32]}),s(Z,null,{default:l(()=>a[33]||(a[33]=[P(" Your most recent sales and invoices ")])),_:1,__:[33]})]),_:1}),s(M,null,{default:l(()=>[e("div",Va,[e("table",La,[a[34]||(a[34]=e("thead",null,[e("tr",{class:"table-header-row"},[e("th",{class:"table-header"},"Invoice #"),e("th",{class:"table-header"},"Customer"),e("th",{class:"table-header table-header-right"},"Amount"),e("th",{class:"table-header table-header-center"},"Status")])],-1)),e("tbody",null,[(p(!0),$(F,null,L(b.recentInvoices,x=>(p(),$("tr",{key:x.id,class:"table-row"},[e("td",Fa,[e("a",{href:`/invoices/${x.id}`,class:"invoice-link"}," #"+m(x.id),9,ja)]),e("td",Ia,m(x.customer_name),1),e("td",Ha,m(S(x.total_amount)),1),e("td",Na,[e("span",{class:O({"status-badge":!0,"status-paid":x.status==="paid","status-pending":x.status==="pending","status-cancelled":x.status==="cancelled"})},m(x.status.charAt(0).toUpperCase()+x.status.slice(1)),3)])]))),128))])])])]),_:1})]),_:1})])])]),_:1})]),_:1}))}});export{ol as default};
