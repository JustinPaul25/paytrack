import{d as S,D as w,c as U,o as f,w as i,a as o,b as s,u as t,g as k,e as a,q as P,A as p,B as m,f as _,F as h,r as V,t as $,bN as C,h as B,S as K}from"./app-skRLxAbO.js";import{_ as g}from"./index-DfFRnXuf.js";import{_ as E}from"./AppLayout.vue_vue_type_script_setup_true_lang-kujIzfyQ.js";import{_ as q,a as N}from"./CardContent.vue_vue_type_script_setup_true_lang-D-KEdp5E.js";import{_ as D,a as F}from"./CardTitle.vue_vue_type_script_setup_true_lang-CafT2mXi.js";import{_ as I}from"./CardFooter.vue_vue_type_script_setup_true_lang-DrZ-EA_6.js";import{_ as n}from"./Label.vue_vue_type_script_setup_true_lang-8aEQ4Ze0.js";import{S as M}from"./sweetalert2.esm.all-BQIkj5Wb.js";import{_ as u}from"./InputError.vue_vue_type_script_setup_true_lang-pU5ORhU-.js";import"./LocationInput.vue_vue_type_style_index_0_scoped_0fe2f881_lang-CD7IxCC7.js";import"./RovingFocusGroup-C1bNn9t-.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-RFo3jNxP.js";import"./createLucideIcon-DUFGdYn_.js";import"./VisuallyHidden-CKRNAuTF.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BkTPavAo.js";const j={class:"flex gap-4"},A={class:"flex-1"},T={class:"flex gap-4"},G={class:"flex-1"},L={class:"flex gap-4"},O={class:"flex-1"},z=["value"],H={class:"flex gap-4"},J={class:"flex-1"},Q={class:"flex-1"},R={class:"flex gap-4"},W={class:"flex-1"},X={class:"flex-1"},Y={class:"flex gap-4"},Z={class:"flex-1"},ee={key:0,class:"mt-2"},se=["src"],xe=S({__name:"Edit",props:{product:{},categories:{},image_url:{}},setup(x){const d=x,r=w({name:d.product.name,description:d.product.description,category_id:d.product.category_id??null,purchase_price:d.product.purchase_price,selling_price:d.product.selling_price,stock:d.product.stock,SKU:d.product.SKU,image:null}),y=[{title:"Products",href:"/products"},{title:"Edit Product",href:`/products/${d.product.id}/edit`}];function v(c){const e=c.target;e.files&&e.files.length>0?r.image=e.files[0]:r.image=null}function b(){r.post(route("products.update",d.product.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{M.fire({toast:!0,position:"top-end",icon:"success",title:"Product updated successfully",showConfirmButton:!1,timer:3e3,timerProgressBar:!0})},onError:()=>{},method:"post"})}return(c,e)=>(f(),U(E,{breadcrumbs:y},{default:i(()=>[o(t(k),{title:"Edit Product"}),e[19]||(e[19]=s("div",{class:"flex items-center justify-between mb-6"},[s("h1",{class:"text-2xl font-bold"},"Edit Product")],-1)),o(q,null,{default:i(()=>[o(D,null,{default:i(()=>[o(F,null,{default:i(()=>e[7]||(e[7]=[a("Edit Product")])),_:1,__:[7]})]),_:1}),o(N,null,{default:i(()=>[s("form",{onSubmit:P(b,["prevent"]),class:"space-y-6",enctype:"multipart/form-data"},[s("div",j,[s("div",A,[o(n,{for:"name"},{default:i(()=>e[8]||(e[8]=[a("Name")])),_:1,__:[8]}),p(s("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=l=>t(r).name=l),class:"w-full rounded border px-3 py-2 mt-1",required:"",placeholder:"Product name"},null,512),[[m,t(r).name]]),o(u,{message:t(r).errors.name},null,8,["message"])])]),s("div",T,[s("div",G,[o(n,{for:"description"},{default:i(()=>e[9]||(e[9]=[a("Description")])),_:1,__:[9]}),p(s("textarea",{id:"description","onUpdate:modelValue":e[1]||(e[1]=l=>t(r).description=l),class:"w-full rounded border px-3 py-2 mt-1",rows:"3",placeholder:"Optional details to help identify the product"},null,512),[[m,t(r).description]]),o(u,{message:t(r).errors.description},null,8,["message"])])]),s("div",L,[s("div",O,[o(n,{for:"category_id"},{default:i(()=>e[10]||(e[10]=[a("Category")])),_:1,__:[10]}),p(s("select",{id:"category_id","onUpdate:modelValue":e[2]||(e[2]=l=>t(r).category_id=l),class:"w-full rounded border px-3 py-2 mt-1"},[e[11]||(e[11]=s("option",{value:null},"Select category",-1)),(f(!0),_(h,null,V(d.categories,l=>(f(),_("option",{key:l.id,value:l.id},$(l.name),9,z))),128))],512),[[C,t(r).category_id]]),o(u,{message:t(r).errors.category_id},null,8,["message"])])]),s("div",H,[s("div",J,[o(n,{for:"purchase_price"},{default:i(()=>e[12]||(e[12]=[a("Purchase Price")])),_:1,__:[12]}),p(s("input",{id:"purchase_price","onUpdate:modelValue":e[3]||(e[3]=l=>t(r).purchase_price=l),type:"number",min:"0",step:"0.01",class:"w-full rounded border px-3 py-2 mt-1",required:"",placeholder:"e.g., 120.00"},null,512),[[m,t(r).purchase_price]]),o(u,{message:t(r).errors.purchase_price},null,8,["message"])]),s("div",Q,[o(n,{for:"selling_price"},{default:i(()=>e[13]||(e[13]=[a("Selling Price")])),_:1,__:[13]}),p(s("input",{id:"selling_price","onUpdate:modelValue":e[4]||(e[4]=l=>t(r).selling_price=l),type:"number",min:"0",step:"0.01",class:"w-full rounded border px-3 py-2 mt-1",required:"",placeholder:"e.g., 150.00"},null,512),[[m,t(r).selling_price]]),o(u,{message:t(r).errors.selling_price},null,8,["message"])])]),s("div",R,[s("div",W,[o(n,{for:"stock"},{default:i(()=>e[14]||(e[14]=[a("Stock")])),_:1,__:[14]}),p(s("input",{id:"stock","onUpdate:modelValue":e[5]||(e[5]=l=>t(r).stock=l),type:"number",min:"0",class:"w-full rounded border px-3 py-2 mt-1",required:"",placeholder:"e.g., 100"},null,512),[[m,t(r).stock]]),o(u,{message:t(r).errors.stock},null,8,["message"])]),s("div",X,[o(n,{for:"SKU"},{default:i(()=>e[15]||(e[15]=[a("SKU")])),_:1,__:[15]}),p(s("input",{id:"SKU","onUpdate:modelValue":e[6]||(e[6]=l=>t(r).SKU=l),class:"w-full rounded border px-3 py-2 mt-1",required:"",placeholder:"e.g., BP-A4-80G-500"},null,512),[[m,t(r).SKU]]),o(u,{message:t(r).errors.SKU},null,8,["message"])])]),s("div",Y,[s("div",Z,[o(n,{for:"image"},{default:i(()=>e[16]||(e[16]=[a("Image")])),_:1,__:[16]}),s("input",{id:"image",type:"file",accept:"image/*",onChange:v,class:"w-full rounded border px-3 py-2 mt-1"},null,32),o(u,{message:t(r).errors.image},null,8,["message"]),d.image_url?(f(),_("div",ee,[s("img",{src:d.image_url,alt:"Current Image",class:"h-24 rounded border"},null,8,se)])):B("",!0)])]),o(I,{class:"flex gap-2 justify-end"},{default:i(()=>[o(t(g),{type:"submit",variant:"default"},{default:i(()=>e[17]||(e[17]=[a("Update")])),_:1,__:[17]}),o(t(K),{href:c.route("products.index")},{default:i(()=>[o(t(g),{type:"button",variant:"ghost"},{default:i(()=>e[18]||(e[18]=[a("Cancel")])),_:1,__:[18]})]),_:1},8,["href"])]),_:1})],32)]),_:1})]),_:1})]),_:1,__:[19]}))}});export{xe as default};
