import{d as T,i as ce,j as F,c as B,o as v,w as l,k as R,u as s,l as p,m as se,a,n as Y,h as ue,p as Ce,q as Pe,s as De,v as Se,f as D,x as K,b as e,e as P,t as b,r as U,F as W,y as Q,z as Be,A as Te,W as oe,g as Me,B as re,C as ne}from"./app-CQ0dTuBi.js";import{_ as Ve}from"./Select.vue_vue_type_script_setup_true_lang-Ck7TIzFW.js";import{u as G,a as Ae,r as ae}from"./LocationInput.vue_vue_type_style_index_0_scoped_0fe2f881_lang-Du6fIJlj.js";import{a as Fe,P as Z,b as O,c as N,d as z,S as Re,C as Ie,_ as Le}from"./AppLayout.vue_vue_type_script_setup_true_lang-L16mJxSa.js";import{_ as V,a as A}from"./CardContent.vue_vue_type_script_setup_true_lang-D0NQqx67.js";import{a as j,_ as H}from"./CardTitle.vue_vue_type_script_setup_true_lang-CqjApL30.js";import{P as J,c as X}from"./index-C-pNDAkT.js";import{C as me,a as pe,L as fe,P as ge,b as be,p as ve,c as _e,d as he,i as ye,e as xe,_ as ie}from"./BaseChart.vue_vue_type_script_setup_true_lang-9hWOFuND.js";import{T as L}from"./trending-up-BfVnoj2h.js";import{T as je,C as He,a as E}from"./trophy-BwSxlCa_.js";import{u as Oe,c as Ne,a as ze,P as Ee,_ as Ue,b as We}from"./RovingFocusGroup-Olk4Ba_G.js";import{_ as qe}from"./RovingFocusItem-DHeQx8iL.js";import{S as Ye}from"./sweetalert2.esm.all-BQIkj5Wb.js";import{F as de}from"./file-text-DBS4XTH4.js";import{C as Ze}from"./clock-CnbSdkB4.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-BnbTjzHA.js";import"./createLucideIcon-lO1Uj2f5.js";import"./VisuallyHidden-8pKfiKpj.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-R7IKe_xB.js";import"./chevron-right-BxZCnxCh.js";function we(f,r){return`${f}-trigger-${r}`}function ke(f,r){return`${f}-content-${r}`}const[le,Ke]=Ne("TabsRoot"),Qe=T({__name:"TabsRoot",props:{defaultValue:{},orientation:{default:"horizontal"},dir:{},activationMode:{default:"automatic"},modelValue:{},unmountOnHide:{type:Boolean,default:!0},asChild:{type:Boolean},as:{}},emits:["update:modelValue"],setup(f,{emit:r}){const m=f,n=r,{orientation:y,unmountOnHide:g,dir:w}=ce(m),h=Oe(w);G();const x=Ae(m,"modelValue",n,{defaultValue:m.defaultValue,passive:m.modelValue===void 0}),$=F();return Ke({modelValue:x,changeModelValue:C=>{x.value=C},orientation:y,dir:h,unmountOnHide:g,activationMode:m.activationMode,baseId:ze(void 0,"reka-tabs"),tabsList:$}),(C,d)=>(v(),B(s(J),{dir:s(h),"data-orientation":s(y),"as-child":C.asChild,as:C.as},{default:l(()=>[R(C.$slots,"default",{modelValue:s(x)})]),_:3},8,["dir","data-orientation","as-child","as"]))}}),Ge=T({__name:"TabsContent",props:{value:{},forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(f){const r=f,{forwardRef:m}=G(),n=le(),y=p(()=>we(n.baseId,r.value)),g=p(()=>ke(n.baseId,r.value)),w=p(()=>r.value===n.modelValue.value),h=F(w.value);return se(()=>{requestAnimationFrame(()=>{h.value=!1})}),(x,$)=>(v(),B(s(Ee),{present:x.forceMount||w.value,"force-mount":""},{default:l(({present:C})=>[a(s(J),{id:g.value,ref:s(m),"as-child":x.asChild,as:x.as,role:"tabpanel","data-state":w.value?"active":"inactive","data-orientation":s(n).orientation.value,"aria-labelledby":y.value,hidden:!C,tabindex:"0",style:Y({animationDuration:h.value?"0s":void 0})},{default:l(()=>[!s(n).unmountOnHide.value||C?R(x.$slots,"default",{key:0}):ue("",!0)]),_:2},1032,["id","as-child","as","data-state","data-orientation","aria-labelledby","hidden","style"])]),_:3},8,["present"]))}}),Je=T({__name:"TabsList",props:{loop:{type:Boolean,default:!0},asChild:{type:Boolean},as:{}},setup(f){const r=f,{loop:m}=ce(r),{forwardRef:n,currentElement:y}=G(),g=le();return g.tabsList=y,(w,h)=>(v(),B(s(Ue),{"as-child":"",orientation:s(g).orientation.value,dir:s(g).dir.value,loop:s(m)},{default:l(()=>[a(s(J),{ref:s(n),role:"tablist","as-child":w.asChild,as:w.as,"aria-orientation":s(g).orientation.value},{default:l(()=>[R(w.$slots,"default")]),_:3},8,["as-child","as","aria-orientation"])]),_:3},8,["orientation","dir","loop"]))}}),Xe=T({__name:"TabsTrigger",props:{value:{},disabled:{type:Boolean,default:!1},asChild:{type:Boolean},as:{default:"button"}},setup(f){const r=f,{forwardRef:m}=G(),n=le(),y=p(()=>we(n.baseId,r.value)),g=p(()=>ke(n.baseId,r.value)),w=p(()=>r.value===n.modelValue.value);return(h,x)=>(v(),B(s(qe),{"as-child":"",focusable:!h.disabled,active:w.value},{default:l(()=>[a(s(J),{id:y.value,ref:s(m),role:"tab",type:h.as==="button"?"button":void 0,as:h.as,"as-child":h.asChild,"aria-selected":w.value?"true":"false","aria-controls":g.value,"data-state":w.value?"active":"inactive",disabled:h.disabled,"data-disabled":h.disabled?"":void 0,"data-orientation":s(n).orientation.value,onMousedown:x[0]||(x[0]=Pe($=>{!h.disabled&&$.ctrlKey===!1?s(n).changeModelValue(h.value):$.preventDefault()},["left"])),onKeydown:x[1]||(x[1]=Ce($=>s(n).changeModelValue(h.value),["enter","space"])),onFocus:x[2]||(x[2]=()=>{const $=s(n).activationMode!=="manual";!w.value&&!h.disabled&&$&&s(n).changeModelValue(h.value)})},{default:l(()=>[R(h.$slots,"default")]),_:3},8,["id","type","as","as-child","aria-selected","aria-controls","data-state","disabled","data-disabled","data-orientation"])]),_:3},8,["focusable","active"]))}}),et=T({__name:"TooltipProvider",props:{delayDuration:{default:0},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(f){const r=f;return(m,n)=>(v(),B(s(Fe),De(Se(r)),{default:l(()=>[R(m.$slots,"default")]),_:3},16))}}),q=T({__name:"CardDescription",props:{class:{}},setup(f){const r=f;return(m,n)=>(v(),D("p",{"data-slot":"card-description",class:K(s(X)("text-muted-foreground text-sm",r.class))},[R(m.$slots,"default")],2))}}),tt={class:"flex items-center justify-between"},st={class:"space-y-6"},at={class:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950/20 dark:to-indigo-950/20 rounded-lg p-6"},lt={class:"flex items-center justify-between"},ot={class:"text-3xl font-bold text-blue-600"},rt={class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},nt={class:"text-right"},it={class:"text-2xl font-bold text-green-600"},dt={class:"space-y-3"},ct={class:"flex items-center gap-3"},ut={class:"w-8 h-8 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center"},mt={class:"text-sm font-medium text-blue-600"},pt={class:"font-medium text-gray-900 dark:text-gray-100"},ft={class:"text-sm text-gray-600 dark:text-gray-400"},gt={class:"text-right"},bt={class:"font-semibold text-gray-900 dark:text-gray-100"},vt={class:"flex items-center gap-1 mt-1"},_t={class:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",style:{width:"60px"}},ht={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},yt={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},xt={class:"flex items-center justify-between mb-3"},wt={class:"font-semibold text-gray-900 dark:text-gray-100"},kt={class:"flex items-center gap-2"},$t={class:"text-green-600 text-sm font-medium"},Ct={class:"border-t pt-4"},Pt={class:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400"},Dt={key:0},St={key:1},Bt=T({__name:"SalesPredictionWidget",props:{salesData:{}},setup(f){me.register(pe,fe,ge,be,ve,_e,he,ye);const r=F(!1),m=p(()=>{const t=new Date;return t.setDate(t.getDate()+1),t}),n=F([]),y=p(()=>n.value.length?n.value.reduce((o,_)=>o+(_.confidence??.7),0)/n.value.length:.7),g=p(()=>n.value.slice(0,7).map(t=>t.predicted_sales)),w=p(()=>{var t;return((t=n.value[0])==null?void 0:t.predicted_sales)??0}),h=p(()=>n.value.length>=30?n.value.slice(0,30).reduce((t,o)=>t+o.predicted_sales,0):n.value.length>0?n.value.reduce((o,_)=>o+_.predicted_sales,0)/n.value.length*30:0),x=p(()=>Math.max(0,Math.min(25,(y.value-.6)*100))),$=F(!1),C=p(()=>({labels:g.value.map((t,o)=>{const _=S(o);return k(_).split(" ")[1]}),datasets:[{label:"Predicted Sales",data:g.value,borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4,pointBackgroundColor:"rgb(59, 130, 246)",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:5},{label:"Confidence Range",data:g.value.map(t=>t*.95),borderColor:"rgba(59, 130, 246, 0.3)",backgroundColor:"rgba(59, 130, 246, 0.05)",fill:!1,tension:.4,borderDash:[5,5],pointRadius:0}]})),d=p(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:20,font:{size:12}}},tooltip:{mode:"index",intersect:!1,callbacks:{label:function(t){return`${t.dataset.label}: ${u(t.parsed.y)}`}}}},scales:{y:{beginAtZero:!1,min:Math.min(...g.value,0),max:Math.max(...g.value,1)*1.1,grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{callback:function(t){return u(t)},font:{size:11}}},x:{grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{font:{size:11}}}},interaction:{mode:"nearest",axis:"x",intersect:!1}})),c=p(()=>Math.max(...g.value,0));p(()=>g.value.map((o,_)=>{const I=_/6*100,$e=100-o/c.value*100;return`${I},${$e}`}).join(" ")),p(()=>g.value.map((t,o)=>{const _=o/6*100,I=100-t/c.value*100;return{x:_,y:I}}));function u(t){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}function k(t){return t.toLocaleDateString("en-US",{month:"short",day:"numeric"})}function M(t){return t.toLocaleDateString("en-US",{weekday:"short"})}function S(t){const o=new Date;return o.setDate(o.getDate()+t+1),o}function i(t){const o=Math.max(...g.value,0);return o>0?t/o*100:0}return se(async()=>{var t;try{const o=await fetch("/sales/predictions?period=month&days_ahead=30",{headers:{Accept:"application/json"}});if(!o.ok)throw new Error(`Failed to fetch predictions: ${o.status}`);const _=await o.json();$.value=!!((t=_==null?void 0:_.model_info)!=null&&t.note),n.value=Array.isArray(_==null?void 0:_.predictions)?_.predictions:[]}catch(o){$.value=!0,n.value=[],console.error(o)}}),(t,o)=>(v(),B(s(V),null,{default:l(()=>[a(s(H),null,{default:l(()=>[e("div",tt,[a(s(j),{class:"flex items-center gap-2"},{default:l(()=>[a(s(L),{class:"w-5 h-5 text-blue-600"}),o[0]||(o[0]=P(" Sales Prediction "))]),_:1,__:[0]})])]),_:1}),e("div",{class:K(["overflow-hidden transition-all duration-300 ease-in-out",{"max-h-0":r.value,"max-h-[2000px]":!r.value}])},[a(s(A),null,{default:l(()=>[e("div",st,[e("div",at,[e("div",lt,[e("div",null,[o[1]||(o[1]=e("h4",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100"}," Tomorrow's Prediction ",-1)),e("p",ot,b(u(w.value)),1),e("p",rt," Expected sales for "+b(k(m.value)),1)]),e("div",nt,[o[2]||(o[2]=e("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"Confidence",-1)),e("div",it,b((y.value*100).toFixed(0))+"% ",1)])])]),e("div",null,[o[3]||(o[3]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"Next 7 Days Forecast",-1)),e("div",dt,[(v(!0),D(W,null,U(g.value,(_,I)=>(v(),D("div",{key:I,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},[e("div",ct,[e("div",ut,[e("span",mt,b(I+1),1)]),e("div",null,[e("p",pt,b(k(S(I))),1),e("p",ft,b(M(S(I))),1)])]),e("div",gt,[e("p",bt,b(u(_)),1),e("div",vt,[e("div",_t,[e("div",{class:"h-full bg-blue-500 rounded-full transition-all duration-300",style:Y({width:i(_)+"%"})},null,4)])])])]))),128))])]),e("div",null,[o[4]||(o[4]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"Sales Forecast Trend",-1)),e("div",ht,[a(s(xe),{data:C.value,options:d.value,height:"200px"},null,8,["data","options"])])]),e("div",null,[o[6]||(o[6]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"Monthly Trend",-1)),e("div",yt,[e("div",xt,[o[5]||(o[5]=e("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Predicted Monthly Revenue",-1)),e("span",wt,b(u(h.value)),1)]),e("div",kt,[a(s(L),{class:"w-4 h-4 text-green-600"}),e("span",$t," +"+b(x.value.toFixed(1))+"% vs current month ",1)])])]),e("div",Ct,[e("div",Pt,[$.value?(v(),D("span",Dt,"Using sample data")):(v(),D("span",St,"Live predictions")),o[7]||(o[7]=e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-2 h-2 bg-green-500 rounded-full"}),e("span",null,"Ready")],-1))])])])]),_:1})],2)]),_:1}))}}),Tt={class:"flex items-center justify-between"},Mt={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"},Vt={class:"bg-indigo-50 dark:bg-indigo-950/20 border border-indigo-200 dark:border-indigo-800 rounded-lg p-4"},At={class:"flex items-center justify-between"},Ft={class:"bg-emerald-50 dark:bg-emerald-950/20 border border-emerald-200 dark:border-emerald-800 rounded-lg p-4"},Rt={class:"flex items-center justify-between"},It={class:"bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4"},Lt={class:"flex items-center justify-between"},jt={class:"mb-6"},Ht={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},Ot={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Nt={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},zt={class:"space-y-3"},Et={class:"flex items-center gap-3"},Ut={class:"w-8 h-8 bg-indigo-100 dark:bg-indigo-900/20 rounded-full flex items-center justify-center"},Wt={class:"text-sm font-medium text-indigo-600"},qt={class:"font-medium text-gray-900 dark:text-gray-100"},Yt={class:"text-right"},Zt={class:"font-semibold text-gray-900 dark:text-gray-100"},Kt={class:"text-sm text-gray-600 dark:text-gray-400"},Qt={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},Gt={class:"space-y-3"},Jt={class:"flex items-center gap-2"},Xt={class:"text-sm text-gray-700 dark:text-gray-300"},es={class:"flex items-center gap-2"},ts={class:"w-16 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"},ss={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},as=T({__name:"ProductSalesTrendWidget",props:{salesByDate:{},topProducts:{}},setup(f){me.register(pe,fe,ge,be,ve,_e,he,ye);const r=F(!1),m=f,n=p(()=>{const d=new Date,c=[];for(let u=6;u>=0;u--){const k=new Date(d);k.setDate(k.getDate()-u);const M=k.toISOString().split("T")[0],S=m.salesByDate.find(i=>i.date===M);c.push({date:M,dateObj:k,sales:S?S.sales:0})}return c}),y=p(()=>({labels:n.value.map(d=>d.dateObj.toLocaleDateString("en-US",{weekday:"short"})),datasets:[{label:"Daily Sales",data:n.value.map(d=>d.sales),borderColor:"rgb(99, 102, 241)",backgroundColor:"rgba(99, 102, 241, 0.1)",fill:!0,tension:.4,pointBackgroundColor:"rgb(99, 102, 241)",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:5}]})),g=p(()=>{const d=Math.max(...n.value.map(u=>u.sales),0);if(d===0)return 100;const c=Math.ceil(d/50)*50;return Math.max(c,100)}),w=p(()=>{const d=Math.max(...n.value.map(u=>u.sales),0);return d===0?50:Math.ceil(d/50)*50>=400?100:50}),h=p(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:20,font:{size:12}}},tooltip:{mode:"index",intersect:!1,callbacks:{label:function(d){return d.datasetIndex===0?`${d.dataset.label}: ${d.parsed.y} units`:`${d.dataset.label}: ${d.parsed.y} units`}}}},scales:{y:{beginAtZero:!0,min:0,suggestedMax:g.value,grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{stepSize:w.value,font:{size:11}}},x:{grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{font:{size:11}}}},interaction:{mode:"nearest",axis:"x",intersect:!1}})),x=p(()=>m.topProducts.map(d=>({name:d.name,units:d.total_quantity,revenue:d.total_revenue}))),$=[{name:"High Performance",percentage:35,color:"#10B981"},{name:"Medium Performance",percentage:45,color:"#3B82F6"},{name:"Low Performance",percentage:20,color:"#F59E0B"}];p(()=>{const d=n.value,c=Math.max(...d.map(M=>M.sales),1),u=0;return d.map((M,S)=>{const i=S/Math.max(1,d.length-1)*100,t=100-((M.sales-u)/(c-u)*80+10);return`${i},${t}`}).join(" ")}),p(()=>{const d=n.value,c=Math.max(...d.map(k=>k.sales),1),u=0;return d.map((k,M)=>{const S=M/Math.max(1,d.length-1)*100,i=100-((k.sales-u)/(c-u)*80+10);return{x:S,y:i}})});function C(d){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0,maximumFractionDigits:0}).format(d)}return(d,c)=>(v(),B(s(V),null,{default:l(()=>[a(s(H),null,{default:l(()=>[e("div",Tt,[a(s(j),{class:"flex items-center gap-2"},{default:l(()=>[a(s(Z),{class:"w-5 h-5 text-indigo-600"}),c[0]||(c[0]=P(" Product Sales Trend "))]),_:1,__:[0]})])]),_:1}),e("div",{class:K(["overflow-hidden transition-all duration-300 ease-in-out",{"max-h-0":r.value,"max-h-[2000px]":!r.value}])},[a(s(A),null,{default:l(()=>[e("div",Mt,[e("div",Vt,[e("div",At,[c[1]||(c[1]=e("div",null,[e("p",{class:"text-sm font-medium text-indigo-600 dark:text-indigo-400"},"Total Products Sold"),e("p",{class:"text-2xl font-bold text-indigo-700 dark:text-indigo-300"},"8,456")],-1)),a(s(Z),{class:"w-8 h-8 text-indigo-600"})]),c[2]||(c[2]=e("p",{class:"text-xs text-indigo-600 dark:text-indigo-400 mt-1"},"+15% from last month",-1))]),e("div",Ft,[e("div",Rt,[c[3]||(c[3]=e("div",null,[e("p",{class:"text-sm font-medium text-emerald-600 dark:text-emerald-400"},"Top Product"),e("p",{class:"text-lg font-bold text-emerald-700 dark:text-emerald-300"},"Ink Cartridge")],-1)),a(s(je),{class:"w-8 h-8 text-emerald-600"})]),c[4]||(c[4]=e("p",{class:"text-xs text-emerald-600 dark:text-emerald-400 mt-1"},"1,247 units sold",-1))]),e("div",It,[e("div",Lt,[c[5]||(c[5]=e("div",null,[e("p",{class:"text-sm font-medium text-amber-600 dark:text-amber-400"},"Avg Daily Sales"),e("p",{class:"text-2xl font-bold text-amber-700 dark:text-amber-300"},"282")],-1)),a(s(L),{class:"w-8 h-8 text-amber-600"})]),c[6]||(c[6]=e("p",{class:"text-xs text-amber-600 dark:text-amber-400 mt-1"},"+8% from last week",-1))])]),e("div",jt,[c[7]||(c[7]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"Product Sales Trend (Last 7 Days)",-1)),e("div",Ht,[a(s(xe),{data:y.value,options:h.value,height:"200px"},null,8,["data","options"])])]),e("div",Ot,[e("div",null,[c[8]||(c[8]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"Top Selling Products",-1)),e("div",Nt,[e("div",zt,[(v(!0),D(W,null,U(x.value,u=>(v(),D("div",{key:u.name,class:"flex items-center justify-between"},[e("div",Et,[e("div",Ut,[e("span",Wt,b(u.name.charAt(0)),1)]),e("div",null,[e("p",qt,b(u.name),1)])]),e("div",Yt,[e("p",Zt,b(u.units)+" units",1),e("p",Kt,b(C(u.revenue)),1)])]))),128))])])]),e("div",null,[c[9]||(c[9]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"Product Performance",-1)),e("div",Qt,[e("div",Gt,[(v(),D(W,null,U($,u=>e("div",{key:u.name,class:"flex items-center justify-between"},[e("div",Jt,[e("div",{class:"w-3 h-3 rounded-full",style:Y({backgroundColor:u.color})},null,4),e("span",Xt,b(u.name),1)]),e("div",es,[e("div",ts,[e("div",{class:"h-full rounded-full transition-all duration-300",style:Y({width:u.percentage+"%",backgroundColor:u.color})},null,4)]),e("span",ss,b(u.percentage)+"%",1)])])),64))])])])])]),_:1})],2)]),_:1}))}}),ls=T({__name:"Tabs",props:{defaultValue:{default:"sales-prediction"},orientation:{},dir:{},activationMode:{},modelValue:{},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["update:modelValue"],setup(f,{emit:r}){const y=We(f,r);return(g,w)=>(v(),B(s(Qe),Q({"data-slot":"tabs"},s(y)),{default:l(()=>[R(g.$slots,"default")]),_:3},16))}}),os=T({__name:"TabsList",props:{loop:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(f){const r=f,m=ae(r,"class");return(n,y)=>(v(),B(s(Je),Q({"data-slot":"tabs-list"},s(m),{class:s(X)("inline-flex h-10 items-center justify-center rounded-md bg-muted text-muted-foreground overflow-hidden",r.class)}),{default:l(()=>[R(n.$slots,"default")]),_:3},16,["class"]))}}),ee=T({__name:"TabsTrigger",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(f){const r=f,m=ae(r,"class");return(n,y)=>(v(),B(s(Xe),Q({"data-slot":"tabs-trigger"},s(m),{class:s(X)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r.class)}),{default:l(()=>[R(n.$slots,"default")]),_:3},16,["class"]))}}),te=T({__name:"TabsContent",props:{value:{},forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(f){const r=f,m=ae(r,"class");return(n,y)=>(v(),B(s(Ge),Q({"data-slot":"tabs-content"},s(m),{class:s(X)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r.class)}),{default:l(()=>[R(n.$slots,"default")]),_:3},16,["class"]))}}),rs={class:"dashboard-wrapper"},ns={class:"dashboard-header"},is={class:"dashboard-filters"},ds={class:"filter-group"},cs={class:"filter-label"},us={key:0,class:"date-range-group"},ms={class:"date-input-group"},ps={class:"date-input-group"},fs={class:"metrics-grid",style:{"grid-template-columns":"repeat(auto-fit, minmax(280px, 1fr))"}},gs={class:"metric-header"},bs={class:"metric-info"},vs={class:"metric-label-group"},_s={class:"metric-value"},hs={class:"metric-header"},ys={class:"metric-info"},xs={class:"metric-label-group"},ws={class:"metric-value"},ks={class:"metric-icon-wrapper metric-icon-green"},$s={class:"metric-header"},Cs={class:"metric-info"},Ps={class:"metric-label-group"},Ds={class:"metric-value"},Ss={class:"metric-icon-wrapper metric-icon-yellow"},Bs={class:"metric-header"},Ts={class:"metric-info"},Ms={class:"metric-label-group"},Vs={class:"metric-value"},As={class:"metric-icon-wrapper metric-icon-orange"},Fs={class:"metric-header"},Rs={class:"metric-info"},Is={class:"metric-label-group"},Ls={class:"metric-value"},js={class:"metric-icon-wrapper metric-icon-purple"},Hs={class:"analytics-tabs-wrapper"},Os={class:"category-section"},Ns={key:0,class:"empty-state"},zs={class:"tables-grid"},Es={class:"table-wrapper"},Us={class:"data-table"},Ws={class:"table-cell table-cell-bold"},qs={class:"table-cell table-cell-right"},Ys={class:"table-cell table-cell-right table-cell-highlight"},Zs={class:"table-wrapper"},Ks={class:"data-table"},Qs={class:"table-cell"},Gs=["href"],Js={class:"table-cell"},Xs={class:"table-cell table-cell-right table-cell-bold"},ea={class:"table-cell table-cell-center"},xa=T({__name:"Dashboard",props:{salesData:{},topProducts:{},salesByDate:{},salesByCategory:{},recentInvoices:{},filters:{},lowStockProducts:{}},setup(f){var S;const r=f,m=F(r.filters.period),n=F(r.filters.start_date),y=F(r.filters.end_date),g=[{title:"Dashboard",href:"/dashboard"}],w=[{value:"week",label:"Last 7 Days"},{value:"month",label:"Last 30 Days"},{value:"quarter",label:"Last 3 Months"},{value:"year",label:"Last 12 Months"},{value:"custom",label:"Choose Dates"}];function h(){oe.get("/dashboard",{period:m.value,start_date:n.value,end_date:y.value},{preserveState:!0,replace:!0})}Be([m,n,y],()=>{h()});const x=Te(),$=Array.isArray((S=x.props.auth)==null?void 0:S.userRoles)&&(x.props.auth.userRoles.includes("Staff")||x.props.auth.userRoles.includes("Admin"));se(()=>{if($&&r.lowStockProducts&&r.lowStockProducts.length>0){const i=r.lowStockProducts.slice(0,10).map(_=>`<li><strong>${_.name}</strong> (${_.category}) - Stock: <span style="color: #dc2626; font-weight: bold;">${_.stock}</span></li>`).join(""),t=r.lowStockProducts.length>10?r.lowStockProducts.length-10:0,o=t>0?`<br><br><strong>And ${t} more product(s) with low stock.</strong>`:"";Ye.fire({icon:"warning",title:"Low Stock Alert",html:`
                <p>There are <strong>${r.lowStockProducts.length}</strong> product(s) with low stock (≤10 units):</p>
                <ul style="text-align: left; margin: 15px 0; padding-left: 20px;">
                    ${i}
                </ul>
                ${o}
                <p style="margin-top: 15px;">Please review and restock these items soon.</p>
            `,confirmButtonText:"View Products",confirmButtonColor:"#8f5be8",showCancelButton:!0,cancelButtonText:"Dismiss",cancelButtonColor:"#6b7280",width:"600px"}).then(_=>{_.isConfirmed&&oe.visit("/products?low_stock=1")})}});const C=p(()=>({labels:r.salesByDate.map(i=>new Date(i.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})),datasets:[{label:"Daily Sales",data:r.salesByDate.map(i=>i.sales),borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4},{label:"Invoices",data:r.salesByDate.map(i=>i.invoices),borderColor:"rgb(16, 185, 129)",backgroundColor:"rgba(16, 185, 129, 0.1)",fill:!1,tension:.4,yAxisID:"y1"}]})),d=p(()=>({plugins:{title:{display:!0,text:"Sales Trend"},legend:{position:"top"}},scales:{y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"Sales Amount (₱)"}},y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:"Number of Invoices"},grid:{drawOnChartArea:!1}}}})),c=p(()=>({labels:r.salesByCategory.map(i=>i.category_name),datasets:[{data:r.salesByCategory.map(i=>i.total_revenue),backgroundColor:["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16","#F97316","#EC4899","#6366F1"],borderWidth:2,borderColor:"#ffffff"}]})),u=p(()=>({plugins:{title:{display:!0,text:"Sales by Category"},legend:{position:"bottom"}}}));p(()=>({labels:r.topProducts.map(i=>i.name),datasets:[{label:"Revenue",data:r.topProducts.map(i=>i.total_revenue),backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgb(59, 130, 246)",borderWidth:1}]})),p(()=>({plugins:{title:{display:!0,text:"Top Products by Revenue"},legend:{display:!1}},scales:{y:{title:{display:!0,text:"Revenue (₱)"}}}}));function k(i){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(i)}return F(!1),[{id:1,title:"New Order Received",message:"Order #1234 has been placed for ₱2,500",time:"2 minutes ago",type:"order",read:!1},{id:2,title:"Low Stock Alert",message:"Ink (brother 500 C, Cyan) is running low on stock",time:"15 minutes ago",type:"alert",read:!1},{id:3,title:"Sales Target Achieved",message:"Congratulations! You've reached 85% of your monthly sales target",time:"1 hour ago",type:"success",read:!0},{id:4,title:"Payment Received",message:"Payment of ₱1,800 has been received for Invoice #5678",time:"2 hours ago",type:"payment",read:!0}].filter(i=>!i.read).length,(i,t)=>(v(),B(Le,{breadcrumbs:g},{default:l(()=>[a(s(Me),{title:"Dashboard"}),a(s(et),null,{default:l(()=>[e("div",rs,[e("div",ns,[t[6]||(t[6]=e("div",null,[e("h1",{class:"dashboard-title"},"Dashboard"),e("p",{class:"dashboard-subtitle"},"View your business performance at a glance")],-1)),e("div",is,[e("div",ds,[e("label",cs,[a(s(He),{class:"w-4 h-4"}),t[3]||(t[3]=P(" View Period "))]),a(s(Ve),{modelValue:m.value,"onUpdate:modelValue":t[0]||(t[0]=o=>m.value=o),options:w,placeholder:"Choose time period",class:"period-select"},null,8,["modelValue"])]),m.value==="custom"?(v(),D("div",us,[e("div",ms,[t[4]||(t[4]=e("label",{class:"date-label"},"Start Date",-1)),re(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>n.value=o),type:"date",class:"date-input"},null,512),[[ne,n.value]])]),e("div",ps,[t[5]||(t[5]=e("label",{class:"date-label"},"End Date",-1)),re(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>y.value=o),type:"date",class:"date-input"},null,512),[[ne,y.value]])])])):ue("",!0)])]),t[37]||(t[37]=e("div",{class:"metrics-section"},[e("h2",{class:"section-title"},"Your Business Overview"),e("p",{class:"section-description"},"Quick summary of your sales performance")],-1)),e("div",fs,[a(V,{class:"metric-card"},{default:l(()=>[a(A,{class:"metric-card-content"},{default:l(()=>[e("div",gs,[e("div",bs,[e("div",vs,[t[8]||(t[8]=e("span",{class:"metric-label"},"Total Revenue",-1)),a(s(O),null,{default:l(()=>[a(s(N),{"as-child":""},{default:l(()=>[a(s(E),{class:"help-icon"})]),_:1}),a(s(z),null,{default:l(()=>t[7]||(t[7]=[e("p",null,"The total amount of money you've earned from all sales",-1)])),_:1,__:[7]})]),_:1})]),e("p",_s,b(k(i.salesData.total_sales)),1),t[9]||(t[9]=e("p",{class:"metric-description"},"All sales combined",-1))]),t[10]||(t[10]=e("div",{class:"metric-icon-wrapper metric-icon-blue"},[e("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 119.43 122.88",class:"metric-icon"},[e("path",{d:"M118.45,51l1,1-.74,9.11H99A40.52,40.52,0,0,1,81.88,78.43q-11.44,6.28-27.71,7h-15l.5,37.43H21.42l.74-36.94-.24-24.87H1L0,59.84.74,51H21.92l-.25-15.26H1l-1-1,.74-9.11H21.67L21.42.25,63.29,0Q78.8,0,88.65,6.53T102,25.61h16.5l1,1.23-.74,8.87h-15v3.94A53.17,53.17,0,0,1,102.44,51ZM39.65,25.61H81.26Q74.85,14,58.61,13.3L39.89,14l-.24,11.57ZM39.4,51H83.23a39.51,39.51,0,0,0,1.23-9.6,46.17,46.17,0,0,0-.24-5.66H39.65L39.4,51ZM58.61,71.91q12.56-2.72,19.21-10.84H39.4l-.25,10.1,19.46.74Z"})])],-1))])]),_:1})]),_:1}),a(V,{class:"metric-card"},{default:l(()=>[a(A,{class:"metric-card-content"},{default:l(()=>[e("div",hs,[e("div",ys,[e("div",xs,[t[12]||(t[12]=e("span",{class:"metric-label"},"Total Invoices",-1)),a(s(O),null,{default:l(()=>[a(s(N),{"as-child":""},{default:l(()=>[a(s(E),{class:"help-icon"})]),_:1}),a(s(z),null,{default:l(()=>t[11]||(t[11]=[e("p",null,"The number of sales transactions you've completed",-1)])),_:1,__:[11]})]),_:1})]),e("p",ws,b(i.salesData.total_invoices),1),t[13]||(t[13]=e("p",{class:"metric-description"},"Sales transactions",-1))]),e("div",ks,[a(s(de),{class:"metric-icon"})])])]),_:1})]),_:1}),a(V,{class:"metric-card"},{default:l(()=>[a(A,{class:"metric-card-content"},{default:l(()=>[e("div",$s,[e("div",Cs,[e("div",Ps,[t[15]||(t[15]=e("span",{class:"metric-label"},"Average Sale Amount",-1)),a(s(O),null,{default:l(()=>[a(s(N),{"as-child":""},{default:l(()=>[a(s(E),{class:"help-icon"})]),_:1}),a(s(z),null,{default:l(()=>t[14]||(t[14]=[e("p",null,"The average amount customers spend per transaction",-1)])),_:1,__:[14]})]),_:1})]),e("p",Ds,b(k(i.salesData.average_order_value)),1),t[16]||(t[16]=e("p",{class:"metric-description"},"Per transaction",-1))]),e("div",Ss,[a(s(L),{class:"metric-icon"})])])]),_:1})]),_:1}),a(V,{class:"metric-card"},{default:l(()=>[a(A,{class:"metric-card-content"},{default:l(()=>[e("div",Bs,[e("div",Ts,[e("div",Ms,[t[18]||(t[18]=e("span",{class:"metric-label"},"Awaiting Payment",-1)),a(s(O),null,{default:l(()=>[a(s(N),{"as-child":""},{default:l(()=>[a(s(E),{class:"help-icon"})]),_:1}),a(s(z),null,{default:l(()=>t[17]||(t[17]=[e("p",null,"Invoices that are still waiting to be paid",-1)])),_:1,__:[17]})]),_:1})]),e("p",Vs,b(i.salesData.pending_invoices),1),t[19]||(t[19]=e("p",{class:"metric-description"},"Need attention",-1))]),e("div",As,[a(s(Ze),{class:"metric-icon"})])])]),_:1})]),_:1}),a(V,{class:"metric-card"},{default:l(()=>[a(A,{class:"metric-card-content"},{default:l(()=>[e("div",Fs,[e("div",Rs,[e("div",Is,[t[21]||(t[21]=e("span",{class:"metric-label"},"Pending Orders",-1)),a(s(O),null,{default:l(()=>[a(s(N),{"as-child":""},{default:l(()=>[a(s(E),{class:"help-icon"})]),_:1}),a(s(z),null,{default:l(()=>t[20]||(t[20]=[e("p",null,"Customer orders waiting for staff approval",-1)])),_:1,__:[20]})]),_:1})]),e("p",Ls,b(i.salesData.pending_orders),1),t[22]||(t[22]=e("p",{class:"metric-description"},"Require review",-1))]),e("div",js,[a(s(Re),{class:"metric-icon"})])])]),_:1})]),_:1})]),t[38]||(t[38]=e("div",{class:"analytics-section"},[e("div",{class:"section-header"},[e("h2",{class:"section-title"},"Sales Trends & Insights"),e("p",{class:"section-description"},"Track how your sales are performing over time")])],-1)),e("div",Hs,[a(s(ls),{defaultValue:"sales-trend",class:"analytics-tabs-full"},{default:l(()=>[a(s(os),{class:"tabs-list-full"},{default:l(()=>[a(s(ee),{value:"sales-trend",class:"tab-trigger-full"},{default:l(()=>[a(s(L),{class:"tab-icon"}),t[23]||(t[23]=P(" Your Sales Trend "))]),_:1,__:[23]}),a(s(ee),{value:"sales-prediction",class:"tab-trigger-full"},{default:l(()=>[a(s(L),{class:"tab-icon"}),t[24]||(t[24]=P(" Sales Prediction "))]),_:1,__:[24]}),a(s(ee),{value:"product-trend",class:"tab-trigger-full"},{default:l(()=>[a(s(Ie),{class:"tab-icon"}),t[25]||(t[25]=P(" Product Sales Trend "))]),_:1,__:[25]})]),_:1}),a(s(te),{value:"sales-trend",class:"tab-content-full"},{default:l(()=>[a(V,{class:"chart-card"},{default:l(()=>[a(H,null,{default:l(()=>[a(j,{class:"chart-title"},{default:l(()=>[a(s(L),{class:"chart-title-icon"}),t[26]||(t[26]=P(" Your Sales Trend "))]),_:1,__:[26]}),a(q,null,{default:l(()=>t[27]||(t[27]=[P(" See how your daily sales and number of transactions change over time ")])),_:1,__:[27]})]),_:1}),a(A,null,{default:l(()=>[a(ie,{type:"line",data:C.value,options:d.value,height:"350px"},null,8,["data","options"])]),_:1})]),_:1})]),_:1}),a(s(te),{value:"sales-prediction",class:"tab-content-full"},{default:l(()=>[a(Bt,{"sales-data":i.salesByDate},null,8,["sales-data"])]),_:1}),a(s(te),{value:"product-trend",class:"tab-content-full"},{default:l(()=>[a(as,{"sales-by-date":i.salesByDate,"top-products":i.topProducts},null,8,["sales-by-date","top-products"])]),_:1})]),_:1})]),e("div",Os,[a(V,{class:"chart-card"},{default:l(()=>[a(H,null,{default:l(()=>[a(j,{class:"chart-title"},{default:l(()=>[a(s(Z),{class:"chart-title-icon"}),t[28]||(t[28]=P(" Sales by Product Category "))]),_:1,__:[28]}),a(q,null,{default:l(()=>t[29]||(t[29]=[P(" See which product categories bring in the most revenue ")])),_:1,__:[29]})]),_:1}),a(A,null,{default:l(()=>[r.salesByCategory.length===0?(v(),D("div",Ns,t[30]||(t[30]=[e("p",{class:"empty-title"},"No category data for the selected period",-1),e("p",{class:"empty-subtitle"},"Try expanding the date range or confirming there are paid invoices.",-1)]))):(v(),B(ie,{key:1,type:"doughnut",data:c.value,options:u.value,height:"300px"},null,8,["data","options"]))]),_:1})]),_:1})]),t[39]||(t[39]=e("div",{class:"section-header"},[e("h2",{class:"section-title"},"Product Performance & Recent Activity"),e("p",{class:"section-description"},"Your best-selling products and latest transactions")],-1)),e("div",zs,[a(V,{class:"table-card"},{default:l(()=>[a(H,null,{default:l(()=>[a(j,{class:"table-title"},{default:l(()=>[a(s(Z),{class:"table-title-icon"}),t[31]||(t[31]=P(" Best-Selling Products "))]),_:1,__:[31]}),a(q,null,{default:l(()=>t[32]||(t[32]=[P(" Products that have generated the most revenue ")])),_:1,__:[32]})]),_:1}),a(A,null,{default:l(()=>[e("div",Es,[e("table",Us,[t[33]||(t[33]=e("thead",null,[e("tr",{class:"table-header-row"},[e("th",{class:"table-header"},"Product Name"),e("th",{class:"table-header table-header-right"},"Units Sold"),e("th",{class:"table-header table-header-right"},"Revenue")])],-1)),e("tbody",null,[(v(!0),D(W,null,U(i.topProducts,o=>(v(),D("tr",{key:o.id,class:"table-row"},[e("td",Ws,b(o.name),1),e("td",qs,b(o.total_quantity.toLocaleString()),1),e("td",Ys,b(k(o.total_revenue)),1)]))),128))])])])]),_:1})]),_:1}),a(V,{class:"table-card"},{default:l(()=>[a(H,null,{default:l(()=>[a(j,{class:"table-title"},{default:l(()=>[a(s(de),{class:"table-title-icon"}),t[34]||(t[34]=P(" Recent Transactions "))]),_:1,__:[34]}),a(q,null,{default:l(()=>t[35]||(t[35]=[P(" Your most recent sales and invoices ")])),_:1,__:[35]})]),_:1}),a(A,null,{default:l(()=>[e("div",Zs,[e("table",Ks,[t[36]||(t[36]=e("thead",null,[e("tr",{class:"table-header-row"},[e("th",{class:"table-header"},"Invoice #"),e("th",{class:"table-header"},"Customer"),e("th",{class:"table-header table-header-right"},"Amount"),e("th",{class:"table-header table-header-center"},"Status")])],-1)),e("tbody",null,[(v(!0),D(W,null,U(i.recentInvoices,o=>(v(),D("tr",{key:o.id,class:"table-row"},[e("td",Qs,[e("a",{href:`/invoices/${o.id}`,class:"invoice-link"}," #"+b(o.id),9,Gs)]),e("td",Js,b(o.customer_name),1),e("td",Xs,b(k(o.total_amount)),1),e("td",ea,[e("span",{class:K({"status-badge":!0,"status-paid":o.status==="paid","status-pending":o.status==="pending","status-cancelled":o.status==="cancelled"})},b(o.status.charAt(0).toUpperCase()+o.status.slice(1)),3)])]))),128))])])])]),_:1})]),_:1})])])]),_:1})]),_:1}))}});export{xa as default};
