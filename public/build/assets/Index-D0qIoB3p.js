import{d as U,v as W,m as Y,c as _,o as i,w as d,a as u,b as e,e as l,f as r,u as n,g as G,t as a,h as c,W as g,F as q,r as A,S as k,n as $}from"./app-BJGGIgA8.js";import{_ as J}from"./AppLayout.vue_vue_type_script_setup_true_lang-6OmCq4tp.js";import{_ as z,a as D}from"./CardContent.vue_vue_type_script_setup_true_lang-DPB8yWHX.js";import{_ as j,a as N}from"./CardTitle.vue_vue_type_script_setup_true_lang-DvxTgNYv.js";import{_ as f}from"./index-riohrRak.js";import{_ as O,a as X,b as T,c as E}from"./TabsContent.vue_vue_type_script_setup_true_lang-DnezG5qh.js";import{_ as b}from"./Icon.vue_vue_type_script_setup_true_lang-DK3Ddpru.js";import{S as w}from"./sweetalert2.esm.all-BQIkj5Wb.js";import"./LocationInput.vue_vue_type_style_index_0_scoped_85568d9b_lang-CX_goT8l.js";import"./useForwardPropsEmits-CZzI8B5e.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-MrJHOVsW.js";import"./Teleport-MSIji786.js";import"./RovingFocusGroup-gSG5KO_4.js";import"./VisuallyHidden-BC0AEIfW.js";import"./DialogPortal-Dpb7jdpY.js";import"./x-BjkU5bBK.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DSD56j4j.js";import"./chevron-down-B83M1Caq.js";import"./chevron-right-CjvrEjDl.js";import"./RovingFocusItem-X-qoiq86.js";import"./square-pen-BALro00M.js";import"./calendar-C8vvPkHy.js";import"./check-CuaqBRk8.js";import"./chevron-left-Czs0_KEi.js";import"./circle-alert-C-R8aAcF.js";import"./piggy-bank-DQw4-LKJ.js";import"./circle-check-big-gvrLbzHW.js";import"./circle-check-BuF8fqTY.js";import"./trophy-B5vnFol2.js";import"./circle-x-C9HF6h3m.js";import"./clock-CUJ54ABb.js";import"./dollar-sign-BFWObhvv.js";import"./eye-off-dgfcsi04.js";import"./eye-BztToSRT.js";import"./loader-circle-ZvNwhMCX.js";import"./mail-tmHC_MiF.js";import"./map-pin-D8FvW8n7.js";import"./message-square-Cf895NaZ.js";import"./sun-Bomsfx5Q.js";import"./plus-CntaVqKq.js";import"./printer-_fQTJVRW.js";import"./search-BUl39vHB.js";import"./shopping-bag-DsL7THBq.js";import"./trash-2-DcMzLwyY.js";import"./trending-up-CSTqz3kz.js";const Z={class:"flex items-center justify-between my-6"},ee={class:"text-2xl font-bold"},te={class:"flex items-center justify-between"},se=["value"],oe={key:0,class:"py-8 text-center text-sm text-gray-500"},ie={key:0},ne={class:"mt-3"},le={key:1},ae={key:1},re={class:"min-w-full divide-y divide-border"},de={key:0,class:"px-4 py-2 text-left"},ue={class:"px-4 py-2"},pe={class:"flex items-center gap-2"},me={class:"font-medium"},ce={key:0,class:"px-2 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",title:"Damaged items"},ve={key:0,class:"text-xs text-gray-500 truncate max-w-64"},fe={class:"px-4 py-2"},xe={key:1,class:"text-sm"},_e={key:0,class:"px-4 py-2"},ge={class:"text-sm"},ye={key:0,class:"text-xs text-gray-500"},be={class:"px-4 py-2"},he={class:"px-4 py-2"},ke={class:"px-4 py-2 text-sm text-gray-500"},we={class:"px-4 py-2"},Ce={class:"flex gap-2"},Re={class:"flex items-center justify-between"},Se=["value"],qe={key:0,class:"py-8 text-center text-sm text-gray-500"},Ae={key:0},$e={class:"mt-3"},Be={key:1},Ie={key:1},Pe={class:"min-w-full divide-y divide-border"},ze={class:"px-4 py-2 font-medium"},De={class:"px-4 py-2"},je={class:"px-4 py-2"},Ne={class:"flex items-center gap-2"},Te={key:0,class:"px-2 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",title:"Damaged items will not be returned to stock"},Ee={class:"px-4 py-2"},Le={class:"px-4 py-2 font-medium"},Ve={class:"px-4 py-2"},Me={class:"px-4 py-2"},Fe={class:"flex gap-2"},He={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},Ke={class:"relative bg-background rounded-lg shadow-lg w-full max-w-3xl max-h-[90vh] overflow-y-auto p-6"},Qe={class:"flex items-center justify-between mb-6 border-b pb-4"},Ue={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},We={class:"space-y-4"},Ye={class:"font-semibold text-lg"},Ge={key:0},Je={key:1,class:"font-medium"},Oe={key:0,class:"mt-1 text-sm text-gray-600"},Xe={key:0},Ze={key:1},et={class:"font-medium"},tt={class:"space-y-1"},st={class:"font-medium"},ot={key:0,class:"text-sm text-gray-600"},it={key:1,class:"text-sm text-gray-600"},nt={class:"text-sm"},lt={key:0,class:"text-xs text-gray-500 mt-1"},at={class:"space-y-4"},rt={key:0},dt={class:"font-medium"},ut={key:0,class:"mt-1 text-sm text-gray-600 space-y-1"},pt={key:0},mt={class:"font-medium text-lg"},ct={key:1},vt={class:"font-medium text-lg text-green-600"},ft={key:2},xt={class:"whitespace-pre-wrap text-sm bg-gray-50 p-3 rounded-md border"},_t={key:3},gt={class:"whitespace-pre-wrap text-sm bg-gray-50 p-3 rounded-md border"},yt={key:4},bt={class:"whitespace-pre-wrap text-sm bg-blue-50 p-3 rounded-md border border-blue-200"},ht={key:5},kt={class:"grid grid-cols-2 md:grid-cols-3 gap-2 mt-2"},wt=["href"],Ct=["src","alt"],Rt={key:6},St=["href"],qt={key:7},At={key:8},$t={class:"whitespace-pre-wrap text-sm bg-yellow-50 p-3 rounded-md border border-yellow-200"},Bt={key:9},It={class:"text-sm font-medium text-green-600"},Pt={class:"mt-6 pt-4 border-t flex justify-end gap-2"},Rs=U({__name:"Index",setup(zt){var B,I,P;function C(p){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(p)}const v=W(),y=v.props.filters||{},R=Array.isArray((B=v.props.auth)==null?void 0:B.userRoles)&&v.props.auth.userRoles.includes("Customer"),L=Array.isArray((I=v.props.auth)==null?void 0:I.userRoles)&&v.props.auth.userRoles.includes("Admin"),V=Array.isArray((P=v.props.auth)==null?void 0:P.userRoles)&&v.props.auth.userRoles.includes("Staff"),h=L||V,o=Y(null);function M(p){w.fire({title:"Approve this refund request?",icon:"question",showCancelButton:!0,confirmButtonText:"Approve",confirmButtonColor:"#10b981",input:"textarea",inputLabel:"Approval notes (optional)",inputPlaceholder:"Notes for this approval...",inputAttributes:{"aria-label":"Approval notes (optional)"}}).then(t=>{t.isConfirmed&&g.post(route("refundRequests.approve",p),{review_notes:t.value||void 0},{preserveScroll:!0})})}function F(p){w.fire({title:"Decline this refund request?",text:"This will mark the request as rejected. You can't undo this.",icon:"warning",showCancelButton:!0,confirmButtonText:"Decline",confirmButtonColor:"#ef4444",input:"textarea",inputLabel:"Reason (required)",inputPlaceholder:"Provide a reason for declining...",inputAttributes:{"aria-label":"Reason (required)"},inputValidator:t=>{if(!t||!t.trim())return"Please provide a brief reason."}}).then(t=>{t.isConfirmed&&g.post(route("refundRequests.reject",p),{review_notes:t.value},{preserveScroll:!0})})}function H(p){w.fire({title:"Mark as Processed",html:`
        <div style="text-align:left">
            <label style="display:block;margin-bottom:4px;font-size:12px">Method</label>
            <select id="method" class="swal2-input" style="width:100%">
                <option value="cash">cash</option>
                <option value="bank_transfer">bank_transfer</option>
                <option value="e-wallet">e-wallet</option>
                <option value="credit_note">credit_note</option>
            </select>
            <label style="display:block;margin:10px 0 4px;font-size:12px">Reference #</label>
            <input id="ref" class="swal2-input" placeholder="Reference number (optional)" />
            <label style="display:block;margin:10px 0 4px;font-size:12px">Notes</label>
            <textarea id="notes" class="swal2-textarea" placeholder="Notes (optional)"></textarea>
        </div>
        `,showCancelButton:!0,confirmButtonText:"Save",preConfirm:()=>{const t=document.getElementById("method").value,x=document.getElementById("ref").value,s=document.getElementById("notes").value;return{refund_method:t,reference_number:x||void 0,notes:s||void 0}}}).then(t=>{t.isConfirmed&&g.post(route("refunds.process",p),t.value,{preserveScroll:!0})})}function K(p){const t=v.props.refunds.data.find(s=>s.id===p),x=(t==null?void 0:t.is_damaged)??!1;w.fire({title:"Complete refund",html:`
        <div style="text-align:left">
            ${x?'<div style="background:#fef3c7;border:1px solid #fbbf24;padding:8px;border-radius:4px;margin-bottom:12px;font-size:13px;color:#92400e;"><strong>⚠️ Damaged Items:</strong> These items will not be returned to inventory stock.</div>':""}
            <label style="display:flex;align-items:center;gap:8px;">
                <input id="return" type="checkbox" ${x?"":"checked"} ${x?"disabled":""} />
                Return to stock
            </label>
            ${x?'<p style="font-size:11px;color:#6b7280;margin-top:4px;margin-left:24px;">Disabled for damaged items</p>':""}
            <label style="display:block;margin:10px 0 4px;font-size:12px">Inspection notes</label>
            <textarea id="notes" class="swal2-textarea" placeholder="Notes (optional)"></textarea>
        </div>
        `,showCancelButton:!0,confirmButtonText:"Complete",confirmButtonColor:"#10b981",preConfirm:()=>{const s=x?!1:document.getElementById("return").checked,m=document.getElementById("notes").value;return{return_to_stock:s,notes:m||void 0}}}).then(s=>{s.isConfirmed&&g.post(route("refunds.complete",p),s.value,{preserveScroll:!0})})}function Q(p){w.fire({title:"Cancel this refund?",text:"This will mark the refund as cancelled. A short reason is required.",icon:"warning",showCancelButton:!0,confirmButtonText:"Cancel refund",confirmButtonColor:"#ef4444",input:"textarea",inputLabel:"Reason (required)",inputPlaceholder:"Provide a brief reason...",inputAttributes:{"aria-label":"Reason (required)"},inputValidator:t=>{if(!t||!t.trim())return"Please provide a brief reason."}}).then(t=>{t.isConfirmed&&g.post(route("refunds.cancel",p),{review_notes:t.value},{preserveScroll:!0})})}return(p,t)=>(i(),_(J,null,{default:d(()=>{var x;return[u(n(G),{title:"Refunds"}),e("div",Z,[e("h1",ee,a(n(R)?"My Refunds":"Refunds"),1)]),u(n(O),{"default-value":"requests",class:"w-full"},{default:d(()=>[u(n(X),{class:"grid w-full grid-cols-2"},{default:d(()=>[u(n(T),{value:"requests"},{default:d(()=>t[8]||(t[8]=[c("Refund Requests")])),_:1,__:[8]}),u(n(T),{value:"refunds"},{default:d(()=>t[9]||(t[9]=[c("Refunds")])),_:1,__:[9]})]),_:1}),u(n(E),{value:"requests"},{default:d(()=>[u(z,null,{default:d(()=>[u(j,null,{default:d(()=>[e("div",te,[u(N,null,{default:d(()=>t[10]||(t[10]=[c("Refund Requests")])),_:1,__:[10]}),e("select",{class:"rounded-md border border-input bg-background px-3 py-2 text-sm",value:n(y).status||"all",onChange:t[0]||(t[0]=s=>{const m=s.target.value==="all"?"":s.target.value;n(g).get(p.route("refundRequests.index"),m?{status:m}:{},{preserveState:!0,replace:!0})})},t[11]||(t[11]=[e("option",{value:"all"},"All",-1),e("option",{value:"pending"},"Pending",-1),e("option",{value:"approved"},"Approved",-1),e("option",{value:"rejected"},"Rejected",-1),e("option",{value:"completed"},"Completed",-1)]),40,se)])]),_:1}),u(D,null,{default:d(()=>[n(v).props.refundRequests.data.length?(i(),l("div",ae,[e("table",re,[e("thead",null,[e("tr",null,[t[14]||(t[14]=e("th",{class:"px-4 py-2 text-left"},"Tracking",-1)),t[15]||(t[15]=e("th",{class:"px-4 py-2 text-left"},"Type",-1)),t[16]||(t[16]=e("th",{class:"px-4 py-2 text-left"},"Invoice",-1)),n(R)?r("",!0):(i(),l("th",de,"Customer")),t[17]||(t[17]=e("th",{class:"px-4 py-2 text-left"},"Qty",-1)),t[18]||(t[18]=e("th",{class:"px-4 py-2 text-left"},"Status",-1)),t[19]||(t[19]=e("th",{class:"px-4 py-2 text-left"},"Submitted",-1)),t[20]||(t[20]=e("th",{class:"px-4 py-2 text-left"},"Actions",-1))])]),e("tbody",null,[(i(!0),l(q,null,A(n(v).props.refundRequests.data,s=>(i(),l("tr",{key:s.id,class:"hover:bg-muted"},[e("td",ue,[e("div",pe,[e("span",me,a(s.tracking_number),1),s.is_damaged?(i(),l("span",ce," ⚠️ ")):r("",!0)]),s.reason?(i(),l("div",ve,a(s.reason),1)):r("",!0)]),t[21]||(t[21]=e("td",{class:"px-4 py-2"},[e("span",{class:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800"}," Refund ")],-1)),e("td",fe,[s.invoice_id?(i(),_(n(k),{key:0,href:p.route("invoices.show",s.invoice_id),class:"text-sm text-blue-600 hover:underline"},{default:d(()=>[c(a(s.invoice_reference||"#"+s.invoice_id),1)]),_:2},1032,["href"])):(i(),l("div",xe,a(s.invoice_reference||"#"+s.invoice_id),1))]),n(R)?r("",!0):(i(),l("td",_e,[e("div",ge,a(s.customer_name),1),s.email?(i(),l("div",ye,a(s.email),1)):r("",!0)])),e("td",be,a(s.quantity),1),e("td",he,[e("span",{class:$(["px-2 py-1 rounded-full text-xs font-medium",{"bg-yellow-100 text-yellow-800":s.status==="pending","bg-green-100 text-green-800":s.status==="approved"||s.status==="completed","bg-red-100 text-red-800":s.status==="rejected"}])},a(s.status),3)]),e("td",ke,a(new Date(s.created_at).toLocaleString()),1),e("td",we,[e("div",Ce,[n(h)&&s.status==="pending"?(i(),_(n(f),{key:0,size:"sm",variant:"default",onClick:m=>M(s.id),title:"Approve"},{default:d(()=>[u(b,{name:"check",class:"h-4 w-4"})]),_:2},1032,["onClick"])):r("",!0),n(h)&&s.status==="pending"?(i(),_(n(f),{key:1,size:"sm",variant:"destructive",onClick:m=>F(s.id),title:"Decline"},{default:d(()=>[u(b,{name:"x",class:"h-4 w-4"})]),_:2},1032,["onClick"])):r("",!0),u(n(f),{size:"sm",variant:"ghost",onClick:m=>o.value=s,title:"View details"},{default:d(()=>[u(b,{name:"eye",class:"h-4 w-4"})]),_:2},1032,["onClick"]),s.invoice_id&&!n(R)?(i(),_(n(k),{key:2,href:p.route("invoices.show",s.invoice_id)},{default:d(()=>[u(n(f),{size:"sm",variant:"ghost",title:"View Invoice"},{default:d(()=>[u(b,{name:"file-text",class:"h-4 w-4"})]),_:1})]),_:2},1032,["href"])):r("",!0)])])]))),128))])])])):(i(),l("div",oe,[n(y).status&&n(y).status!==""&&n(y).status!=="all"?(i(),l("div",ie,[t[13]||(t[13]=c(" No refund requests for the selected filter. ")),e("div",ne,[u(n(f),{variant:"outline",onClick:t[1]||(t[1]=s=>n(g).get(p.route("refundRequests.index"),{},{preserveState:!0,replace:!0}))},{default:d(()=>t[12]||(t[12]=[c(" Clear filters ")])),_:1,__:[12]})])])):(i(),l("div",le," No refund requests. "))]))]),_:1})]),_:1})]),_:1}),u(n(E),{value:"refunds"},{default:d(()=>[u(z,null,{default:d(()=>[u(j,null,{default:d(()=>[e("div",Re,[u(N,null,{default:d(()=>t[22]||(t[22]=[c("Refunds")])),_:1,__:[22]}),e("select",{class:"rounded-md border border-input bg-background px-3 py-2 text-sm",value:n(y).status||"all",onChange:t[2]||(t[2]=s=>{const m=s.target.value==="all"?"":s.target.value;n(g).get(p.route("refunds.index"),m?{status:m}:{},{preserveState:!0,replace:!0})})},t[23]||(t[23]=[e("option",{value:"all"},"All",-1),e("option",{value:"approved"},"Approved",-1),e("option",{value:"processed"},"Processed",-1),e("option",{value:"completed"},"Completed",-1),e("option",{value:"cancelled"},"Cancelled",-1)]),40,Se)])]),_:1}),u(D,null,{default:d(()=>[n(v).props.refunds.data.length?(i(),l("div",Ie,[e("table",Pe,[t[26]||(t[26]=e("thead",null,[e("tr",null,[e("th",{class:"px-4 py-2 text-left"},"Refund #"),e("th",{class:"px-4 py-2 text-left"},"Invoice"),e("th",{class:"px-4 py-2 text-left"},"Product"),e("th",{class:"px-4 py-2 text-left"},"Qty"),e("th",{class:"px-4 py-2 text-left"},"Amount"),e("th",{class:"px-4 py-2 text-left"},"Status"),e("th",{class:"px-4 py-2 text-left"},"Actions")])],-1)),e("tbody",null,[(i(!0),l(q,null,A(n(v).props.refunds.data,s=>{var m;return i(),l("tr",{key:s.id,class:"hover:bg-muted"},[e("td",ze,a(s.refund_number),1),e("td",De,[u(n(k),{href:p.route("invoices.show",s.invoice_id),class:"text-blue-500 underline"},{default:d(()=>[c("#"+a(s.invoice_id),1)]),_:2},1032,["href"])]),e("td",je,[e("div",Ne,[e("span",null,a(((m=s.product)==null?void 0:m.name)||"—"),1),s.is_damaged?(i(),l("span",Te," ⚠️ Damaged ")):r("",!0)])]),e("td",Ee,a(s.quantity_refunded),1),e("td",Le,a(C(s.refund_amount)),1),e("td",Ve,[e("span",{class:$(["px-2 py-1 rounded-full text-xs font-medium",{"bg-blue-100 text-blue-800":s.status==="approved","bg-yellow-100 text-yellow-800":s.status==="processed","bg-green-100 text-green-800":s.status==="completed","bg-red-100 text-red-800":s.status==="cancelled"}])},a(s.status),3)]),e("td",Me,[e("div",Fe,[n(h)&&(s.status==="approved"||s.status==="processed")?(i(),_(n(f),{key:0,size:"sm",variant:"outline",onClick:S=>H(s.id),title:"Process"},{default:d(()=>[u(b,{name:"play",class:"h-4 w-4"})]),_:2},1032,["onClick"])):r("",!0),n(h)&&(s.status==="approved"||s.status==="processed")?(i(),_(n(f),{key:1,size:"sm",variant:"default",onClick:S=>K(s.id),title:"Complete"},{default:d(()=>[u(b,{name:"check-circle",class:"h-4 w-4"})]),_:2},1032,["onClick"])):r("",!0),n(h)&&s.status!=="completed"&&s.status!=="cancelled"?(i(),_(n(f),{key:2,size:"sm",variant:"destructive",onClick:S=>Q(s.id),title:"Cancel"},{default:d(()=>[u(b,{name:"x-circle",class:"h-4 w-4"})]),_:2},1032,["onClick"])):r("",!0)])])])}),128))])])])):(i(),l("div",qe,[n(y).status&&n(y).status!==""&&n(y).status!=="all"?(i(),l("div",Ae,[t[25]||(t[25]=c(" No refunds found for the selected filter. ")),e("div",$e,[u(n(f),{variant:"outline",onClick:t[3]||(t[3]=s=>n(g).get(p.route("refunds.index"),{},{preserveState:!0,replace:!0}))},{default:d(()=>t[24]||(t[24]=[c(" Clear filters ")])),_:1,__:[24]})])])):(i(),l("div",Be," No refunds found. "))]))]),_:1})]),_:1})]),_:1})]),_:1}),o.value?(i(),l("div",He,[e("div",{class:"absolute inset-0 bg-black/50",onClick:t[4]||(t[4]=s=>o.value=null)}),e("div",Ke,[e("div",Qe,[t[27]||(t[27]=e("h3",{class:"text-xl font-semibold"},"Refund Request Details",-1)),e("button",{class:"text-sm text-gray-500 hover:text-gray-700",onClick:t[5]||(t[5]=s=>o.value=null)},"Close")]),e("div",Ue,[e("div",We,[e("div",null,[t[28]||(t[28]=e("div",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1"},"Tracking Number",-1)),e("div",Ye,a(o.value.tracking_number),1)]),e("div",null,[t[29]||(t[29]=e("div",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1"},"Status",-1)),e("span",{class:$(["px-3 py-1 rounded-full text-sm font-medium inline-block",{"bg-yellow-100 text-yellow-800":o.value.status==="pending","bg-green-100 text-green-800":o.value.status==="approved"||o.value.status==="completed","bg-red-100 text-red-800":o.value.status==="rejected"}])},a(o.value.status),3)]),o.value.invoice?(i(),l("div",Ge,[t[30]||(t[30]=e("div",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1"},"Invoice",-1)),e("div",null,[o.value.invoice_id?(i(),_(n(k),{key:0,href:p.route("invoices.show",o.value.invoice_id),class:"text-blue-600 hover:underline font-medium"},{default:d(()=>[c(a(o.value.invoice.reference_number||o.value.invoice_reference||`#${o.value.invoice_id}`),1)]),_:1},8,["href"])):(i(),l("span",Je,a(o.value.invoice_reference||"N/A"),1))]),o.value.invoice?(i(),l("div",Oe,[e("div",null,"Amount: "+a(C(o.value.invoice.total_amount)),1),e("div",null,"Status: "+a(o.value.invoice.status),1),o.value.invoice.payment_status?(i(),l("div",Xe,"Payment: "+a(o.value.invoice.payment_status),1)):r("",!0)])):r("",!0)])):o.value.invoice_reference?(i(),l("div",Ze,[t[31]||(t[31]=e("div",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1"},"Invoice Reference",-1)),e("div",et,a(o.value.invoice_reference),1)])):r("",!0),e("div",null,[t[32]||(t[32]=e("div",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1"},"Customer Information",-1)),e("div",tt,[e("div",st,a(o.value.customer_name),1),o.value.email?(i(),l("div",ot,a(o.value.email),1)):r("",!0),o.value.phone?(i(),l("div",it,a(o.value.phone),1)):r("",!0)])]),e("div",null,[t[33]||(t[33]=e("div",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1"},"Submitted",-1)),e("div",nt,a(new Date(o.value.created_at).toLocaleString()),1),o.value.updated_at&&o.value.updated_at!==o.value.created_at?(i(),l("div",lt," Last updated: "+a(new Date(o.value.updated_at).toLocaleString()),1)):r("",!0)])]),e("div",at,[o.value.product||o.value.product_name?(i(),l("div",rt,[t[34]||(t[34]=e("div",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1"},"Product",-1)),e("div",null,[e("div",dt,a(((x=o.value.product)==null?void 0:x.name)||o.value.product_name||"N/A"),1),o.value.product?(i(),l("div",ut,[o.value.product.SKU?(i(),l("div",pt,"SKU: "+a(o.value.product.SKU),1)):r("",!0),e("div",null,"Price: "+a(C(o.value.product.selling_price)),1)])):r("",!0)])])):r("",!0),e("div",null,[t[35]||(t[35]=e("div",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1"},"Quantity",-1)),e("div",mt,a(o.value.quantity),1)]),o.value.amount_requested?(i(),l("div",ct,[t[36]||(t[36]=e("div",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1"},"Amount Requested",-1)),e("div",vt,a(C(o.value.amount_requested)),1)])):r("",!0),o.value.reason?(i(),l("div",ft,[t[37]||(t[37]=e("div",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1"},"Reason",-1)),e("div",xt,a(o.value.reason),1)])):r("",!0),o.value.notes?(i(),l("div",_t,[t[38]||(t[38]=e("div",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1"},"Additional Notes",-1)),e("div",gt,a(o.value.notes),1)])):r("",!0),o.value.review_notes?(i(),l("div",yt,[t[39]||(t[39]=e("div",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1"},"Review Notes",-1)),e("div",bt,a(o.value.review_notes),1)])):r("",!0),o.value.proof_images&&o.value.proof_images.length>0?(i(),l("div",ht,[t[41]||(t[41]=e("div",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1"},"Proof Images",-1)),e("div",kt,[(i(!0),l(q,null,A(o.value.proof_images,(s,m)=>(i(),l("a",{key:s.id||m,href:s.url,target:"_blank",rel:"noopener noreferrer",class:"relative group block overflow-hidden rounded-md border border-gray-300 hover:border-blue-500 transition-all"},[e("img",{src:s.url,alt:`Proof image ${m+1}`,class:"w-full h-32 object-cover transition-transform group-hover:scale-105 bg-gray-100",onError:t[6]||(t[6]=S=>{S.target.src="data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22100%22 height=%22100%22%3E%3Crect fill=%22%23f3f4f6%22 width=%22100%22 height=%22100%22/%3E%3Ctext fill=%22%239ca3af%22 font-family=%22sans-serif%22 font-size=%2214%22 x=%2250%%22 y=%2250%%22 text-anchor=%22middle%22 dominant-baseline=%22middle%22%3EImage%3C/text%3E%3C/svg%3E"}),loading:"lazy"},null,40,Ct),t[40]||(t[40]=e("div",{class:"absolute inset-0 flex items-center justify-center"},[e("div",{class:"bg-blue-600 text-white px-3 py-1.5 rounded-md text-sm font-medium opacity-0 group-hover:opacity-100 transform translate-y-2 group-hover:translate-y-0 transition-all flex items-center gap-1.5 shadow-lg"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]),c(" View ")])],-1))],8,wt))),128))])])):r("",!0),o.value.media_link?(i(),l("div",Rt,[t[43]||(t[43]=e("div",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1"},"Media Link (Legacy)",-1)),e("a",{href:o.value.media_link,target:"_blank",rel:"noopener noreferrer",class:"text-blue-600 hover:underline break-all text-sm flex items-center gap-2"},t[42]||(t[42]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})],-1),c(" View Media ")]),8,St)])):r("",!0),o.value.is_damaged?(i(),l("div",qt,t[44]||(t[44]=[e("div",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1"},"Item Status",-1),e("div",{class:"inline-flex items-center gap-2 px-3 py-1.5 rounded-md bg-orange-100 text-orange-800 text-sm font-medium"}," ⚠️ Damaged Items ",-1),e("p",{class:"text-xs text-gray-600 mt-2"},"These items will not be returned to inventory stock when the refund is completed.",-1)]))):r("",!0),o.value.damaged_items_terms?(i(),l("div",At,[t[45]||(t[45]=e("div",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1"},"Damaged Items Terms",-1)),e("div",$t,a(o.value.damaged_items_terms),1)])):r("",!0),o.value.completed_refund_id?(i(),l("div",Bt,[t[46]||(t[46]=e("div",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1"},"Completed to Refund",-1)),e("div",It,"Refund ID: #"+a(o.value.completed_refund_id),1)])):r("",!0)])]),e("div",Pt,[u(n(f),{variant:"outline",onClick:t[7]||(t[7]=s=>o.value=null)},{default:d(()=>t[47]||(t[47]=[c("Close")])),_:1,__:[47]}),o.value.invoice_id?(i(),_(n(k),{key:0,href:p.route("invoices.show",o.value.invoice_id)},{default:d(()=>[u(n(f),{variant:"default"},{default:d(()=>t[48]||(t[48]=[c("View Invoice")])),_:1,__:[48]})]),_:1},8,["href"])):r("",!0)])])])):r("",!0)]}),_:1}))}});export{Rs as default};
