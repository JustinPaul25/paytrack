import{d as k,E as w,j as S,z as C,W as f,c as m,o as d,w as a,a as l,b as e,u as s,g as B,A as P,B as $,S as D,e as u,f as _,h as x,F as N,r as T,t as n}from"./app-BppbanFS.js";import{_ as V}from"./AppLayout.vue_vue_type_script_setup_true_lang-D5Pq10W9.js";import{_ as z,a as j}from"./CardContent.vue_vue_type_script_setup_true_lang-Cp4AVxHx.js";import{_ as A,a as R}from"./CardTitle.vue_vue_type_script_setup_true_lang-pPrA6o1g.js";import{_ as c}from"./index-DdAVKVaq.js";import{S as v}from"./sweetalert2.esm.all-BQIkj5Wb.js";import"./LocationInput.vue_vue_type_style_index_0_scoped_0fe2f881_lang-CQ7Ev6Bh.js";import"./RovingFocusGroup-6gC7THRb.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-ux9OOYtp.js";import"./createLucideIcon-DxD9bzKd.js";import"./VisuallyHidden-DrnV714O.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BHfjNyTC.js";const U={class:"flex items-center justify-between mt-4 mb-2"},E={class:"flex gap-2 items-center"},F={class:"min-w-full divide-y divide-border"},K={class:"px-4 py-2 font-medium"},L={class:"px-4 py-2 text-sm text-gray-500"},W={class:"px-4 py-2 text-sm text-gray-500"},q={class:"px-4 py-2 text-sm text-gray-500"},M={class:"px-4 py-2"},Y={class:"flex gap-2"},G={key:0,class:"flex items-center justify-between mt-6"},H={class:"text-sm text-gray-700"},I={class:"flex gap-2"},dt=k({__name:"Trashed",setup(J){var y;const o=w(),p=S(((y=o.props.filters)==null?void 0:y.search)??""),h=[{title:"Products",href:"/products"},{title:"Deleted",href:"/products/trashed"}];C(p,i=>{f.get(route("products.trashed.index"),{search:i},{preserveState:!0,replace:!0})});function g(i){f.get(route("products.trashed.index"),{search:p.value,page:i},{preserveState:!0,replace:!0})}async function b(i){(await v.fire({title:"Restore Product?",text:"This will make the product available again.",icon:"question",showCancelButton:!0,confirmButtonColor:"#8f5be8",cancelButtonColor:"#d33",confirmButtonText:"Yes, restore product"})).isConfirmed&&f.post(route("products.restore",i),{},{onSuccess:()=>{v.fire("Restored","Product restored successfully.","success")}})}return(i,t)=>(d(),m(V,{breadcrumbs:h},{default:a(()=>[l(s(B),{title:"Deleted Products"}),e("div",U,[t[4]||(t[4]=e("h1",{class:"text-2xl font-bold"},"Deleted Products",-1)),e("div",E,[P(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>p.value=r),type:"text",placeholder:"Search deleted products...",class:"rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"},null,512),[[$,p.value]]),l(s(D),{href:i.route("products.index")},{default:a(()=>[l(s(c),{variant:"outline"},{default:a(()=>t[3]||(t[3]=[u("Back to Products")])),_:1,__:[3]})]),_:1},8,["href"])])]),l(z,null,{default:a(()=>[l(A,null,{default:a(()=>[l(R,null,{default:a(()=>t[5]||(t[5]=[u("Trashed")])),_:1,__:[5]})]),_:1}),l(j,null,{default:a(()=>[e("table",F,[t[7]||(t[7]=e("thead",null,[e("tr",null,[e("th",{class:"px-4 py-2 text-left"},"Name"),e("th",{class:"px-4 py-2 text-left"},"Category"),e("th",{class:"px-4 py-2 text-left"},"SKU"),e("th",{class:"px-4 py-2 text-left"},"Deleted At"),e("th",{class:"px-4 py-2 text-left"},"Actions")])],-1)),e("tbody",null,[(d(!0),_(N,null,T(s(o).props.products.data,r=>(d(),_("tr",{key:r.id,class:"hover:bg-muted"},[e("td",K,n(r.name),1),e("td",L,n(r.category?r.category.name:"No category"),1),e("td",W,n(r.SKU),1),e("td",q,n(new Date(r.deleted_at).toLocaleString()),1),e("td",M,[e("div",Y,[l(s(c),{variant:"default",size:"sm",onClick:O=>b(r.id)},{default:a(()=>t[6]||(t[6]=[u(" Restore ")])),_:2,__:[6]},1032,["onClick"])])])]))),128))])]),s(o).props.products.last_page>1?(d(),_("div",G,[e("div",H," Showing "+n(s(o).props.products.from)+" to "+n(s(o).props.products.to)+" of "+n(s(o).props.products.total)+" results ",1),e("div",I,[s(o).props.products.prev_page_url?(d(),m(s(c),{key:0,variant:"outline",size:"sm",onClick:t[1]||(t[1]=r=>g(s(o).props.products.current_page-1))},{default:a(()=>t[8]||(t[8]=[u(" Previous ")])),_:1,__:[8]})):x("",!0),s(o).props.products.next_page_url?(d(),m(s(c),{key:1,variant:"outline",size:"sm",onClick:t[2]||(t[2]=r=>g(s(o).props.products.current_page+1))},{default:a(()=>t[9]||(t[9]=[u(" Next ")])),_:1,__:[9]})):x("",!0)])])):x("",!0)]),_:1})]),_:1})]),_:1}))}});export{dt as default};
