import{d as T,i as ie,j as F,c as B,o as y,w as l,k as I,u as t,l as g,m as de,a,n as Y,h as ue,p as we,q as Ce,s as De,v as Pe,f as S,x as K,b as e,e as P,t as _,r as U,F as W,y as Q,z as Se,g as Be,A as le,B as oe,W as Te}from"./app-D8GMqoQL.js";import{_ as Me}from"./Select.vue_vue_type_script_setup_true_lang-NzKcQ-CX.js";import{u as G,a as Ve,r as ae}from"./LocationInput.vue_vue_type_style_index_0_scoped_0fe2f881_lang-Ay1pUOAN.js";import{a as Fe,P as Z,b as O,c as N,d as z,S as Ie,C as Ae,_ as Le}from"./AppLayout.vue_vue_type_script_setup_true_lang-B7FY6UE4.js";import{_ as M,a as V}from"./CardContent.vue_vue_type_script_setup_true_lang-zCpbmRui.js";import{a as j,_ as H}from"./CardTitle.vue_vue_type_script_setup_true_lang-COI8iZOX.js";import{P as J,c as X}from"./index-CKTUUg4B.js";import{C as ce,a as me,L as pe,P as fe,b as ge,p as be,c as ve,d as _e,i as ye,e as he,_ as ne}from"./BaseChart.vue_vue_type_script_setup_true_lang-CowZsac4.js";import{T as R}from"./trending-up-BBrANU0Y.js";import{T as Re,C as je,a as E}from"./trophy-5ajK0_4D.js";import{u as He,c as Oe,a as Ne,P as ze,_ as Ee,b as Ue}from"./RovingFocusGroup-B0Y8hFFN.js";import{_ as We}from"./RovingFocusItem-Bxwh9FLF.js";import{F as re}from"./file-text-CJ4o7IbB.js";import{C as qe}from"./clock-DhEJaBsK.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DtVqRXXk.js";import"./createLucideIcon-sEmkw9Pt.js";import"./VisuallyHidden-DKr5urU_.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BH_Bl99z.js";import"./chevron-right-CmK6lVL2.js";function xe(b,n){return`${b}-trigger-${n}`}function $e(b,n){return`${b}-content-${n}`}const[se,Ye]=Oe("TabsRoot"),Ze=T({__name:"TabsRoot",props:{defaultValue:{},orientation:{default:"horizontal"},dir:{},activationMode:{default:"automatic"},modelValue:{},unmountOnHide:{type:Boolean,default:!0},asChild:{type:Boolean},as:{}},emits:["update:modelValue"],setup(b,{emit:n}){const m=b,o=n,{orientation:x,unmountOnHide:v,dir:$}=ie(m),h=He($);G();const k=Ve(m,"modelValue",o,{defaultValue:m.defaultValue,passive:m.modelValue===void 0}),C=F();return Ye({modelValue:k,changeModelValue:D=>{k.value=D},orientation:x,dir:h,unmountOnHide:v,activationMode:m.activationMode,baseId:Ne(void 0,"reka-tabs"),tabsList:C}),(D,c)=>(y(),B(t(J),{dir:t(h),"data-orientation":t(x),"as-child":D.asChild,as:D.as},{default:l(()=>[I(D.$slots,"default",{modelValue:t(k)})]),_:3},8,["dir","data-orientation","as-child","as"]))}}),Ke=T({__name:"TabsContent",props:{value:{},forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(b){const n=b,{forwardRef:m}=G(),o=se(),x=g(()=>xe(o.baseId,n.value)),v=g(()=>$e(o.baseId,n.value)),$=g(()=>n.value===o.modelValue.value),h=F($.value);return de(()=>{requestAnimationFrame(()=>{h.value=!1})}),(k,C)=>(y(),B(t(ze),{present:k.forceMount||$.value,"force-mount":""},{default:l(({present:D})=>[a(t(J),{id:v.value,ref:t(m),"as-child":k.asChild,as:k.as,role:"tabpanel","data-state":$.value?"active":"inactive","data-orientation":t(o).orientation.value,"aria-labelledby":x.value,hidden:!D,tabindex:"0",style:Y({animationDuration:h.value?"0s":void 0})},{default:l(()=>[!t(o).unmountOnHide.value||D?I(k.$slots,"default",{key:0}):ue("",!0)]),_:2},1032,["id","as-child","as","data-state","data-orientation","aria-labelledby","hidden","style"])]),_:3},8,["present"]))}}),Qe=T({__name:"TabsList",props:{loop:{type:Boolean,default:!0},asChild:{type:Boolean},as:{}},setup(b){const n=b,{loop:m}=ie(n),{forwardRef:o,currentElement:x}=G(),v=se();return v.tabsList=x,($,h)=>(y(),B(t(Ee),{"as-child":"",orientation:t(v).orientation.value,dir:t(v).dir.value,loop:t(m)},{default:l(()=>[a(t(J),{ref:t(o),role:"tablist","as-child":$.asChild,as:$.as,"aria-orientation":t(v).orientation.value},{default:l(()=>[I($.$slots,"default")]),_:3},8,["as-child","as","aria-orientation"])]),_:3},8,["orientation","dir","loop"]))}}),Ge=T({__name:"TabsTrigger",props:{value:{},disabled:{type:Boolean,default:!1},asChild:{type:Boolean},as:{default:"button"}},setup(b){const n=b,{forwardRef:m}=G(),o=se(),x=g(()=>xe(o.baseId,n.value)),v=g(()=>$e(o.baseId,n.value)),$=g(()=>n.value===o.modelValue.value);return(h,k)=>(y(),B(t(We),{"as-child":"",focusable:!h.disabled,active:$.value},{default:l(()=>[a(t(J),{id:x.value,ref:t(m),role:"tab",type:h.as==="button"?"button":void 0,as:h.as,"as-child":h.asChild,"aria-selected":$.value?"true":"false","aria-controls":v.value,"data-state":$.value?"active":"inactive",disabled:h.disabled,"data-disabled":h.disabled?"":void 0,"data-orientation":t(o).orientation.value,onMousedown:k[0]||(k[0]=Ce(C=>{!h.disabled&&C.ctrlKey===!1?t(o).changeModelValue(h.value):C.preventDefault()},["left"])),onKeydown:k[1]||(k[1]=we(C=>t(o).changeModelValue(h.value),["enter","space"])),onFocus:k[2]||(k[2]=()=>{const C=t(o).activationMode!=="manual";!$.value&&!h.disabled&&C&&t(o).changeModelValue(h.value)})},{default:l(()=>[I(h.$slots,"default")]),_:3},8,["id","type","as","as-child","aria-selected","aria-controls","data-state","disabled","data-disabled","data-orientation"])]),_:3},8,["focusable","active"]))}}),Je=T({__name:"TooltipProvider",props:{delayDuration:{default:0},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(b){const n=b;return(m,o)=>(y(),B(t(Fe),De(Pe(n)),{default:l(()=>[I(m.$slots,"default")]),_:3},16))}}),q=T({__name:"CardDescription",props:{class:{}},setup(b){const n=b;return(m,o)=>(y(),S("p",{"data-slot":"card-description",class:K(t(X)("text-muted-foreground text-sm",n.class))},[I(m.$slots,"default")],2))}}),Xe={class:"flex items-center justify-between"},et={class:"space-y-6"},tt={class:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950/20 dark:to-indigo-950/20 rounded-lg p-6"},at={class:"flex items-center justify-between"},st={class:"text-3xl font-bold text-blue-600"},lt={class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},ot={class:"text-right"},nt={class:"text-2xl font-bold text-green-600"},rt={class:"space-y-3"},it={class:"flex items-center gap-3"},dt={class:"w-8 h-8 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center"},ut={class:"text-sm font-medium text-blue-600"},ct={class:"font-medium text-gray-900 dark:text-gray-100"},mt={class:"text-sm text-gray-600 dark:text-gray-400"},pt={class:"text-right"},ft={class:"font-semibold text-gray-900 dark:text-gray-100"},gt={class:"flex items-center gap-1 mt-1"},bt={class:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",style:{width:"60px"}},vt={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},_t={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},yt={class:"flex items-center justify-between mb-3"},ht={class:"font-semibold text-gray-900 dark:text-gray-100"},xt={class:"flex items-center gap-2"},$t={class:"text-green-600 text-sm font-medium"},kt={class:"border-t pt-4"},wt={class:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400"},Ct={key:0},Dt={key:1},Pt=T({__name:"SalesPredictionWidget",props:{salesData:{}},setup(b){ce.register(me,pe,fe,ge,be,ve,_e,ye);const n=F(!1),m=g(()=>{const d=new Date;return d.setDate(d.getDate()+1),d}),o=F([]),x=g(()=>o.value.length?o.value.reduce((i,w)=>i+(w.confidence??.7),0)/o.value.length:.7),v=g(()=>o.value.slice(0,7).map(d=>d.predicted_sales)),$=g(()=>{var d;return((d=o.value[0])==null?void 0:d.predicted_sales)??0}),h=g(()=>o.value.length>=30?o.value.slice(0,30).reduce((d,i)=>d+i.predicted_sales,0):o.value.length>0?o.value.reduce((i,w)=>i+w.predicted_sales,0)/o.value.length*30:0),k=g(()=>Math.max(0,Math.min(25,(x.value-.6)*100))),C=F(!1),D=g(()=>({labels:v.value.map((d,i)=>{const w=f(i);return r(w).split(" ")[1]}),datasets:[{label:"Predicted Sales",data:v.value,borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4,pointBackgroundColor:"rgb(59, 130, 246)",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:5},{label:"Confidence Range",data:v.value.map(d=>d*.95),borderColor:"rgba(59, 130, 246, 0.3)",backgroundColor:"rgba(59, 130, 246, 0.05)",fill:!1,tension:.4,borderDash:[5,5],pointRadius:0}]})),c=g(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:20,font:{size:12}}},tooltip:{mode:"index",intersect:!1,callbacks:{label:function(d){return`${d.dataset.label}: ${p(d.parsed.y)}`}}}},scales:{y:{beginAtZero:!1,min:Math.min(...v.value,0),max:Math.max(...v.value,1)*1.1,grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{callback:function(d){return p(d)},font:{size:11}}},x:{grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{font:{size:11}}}},interaction:{mode:"nearest",axis:"x",intersect:!1}})),u=g(()=>Math.max(...v.value,0));g(()=>v.value.map((i,w)=>{const A=w/6*100,ke=100-i/u.value*100;return`${A},${ke}`}).join(" ")),g(()=>v.value.map((d,i)=>{const w=i/6*100,A=100-d/u.value*100;return{x:w,y:A}}));function p(d){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0,maximumFractionDigits:0}).format(d)}function r(d){return d.toLocaleDateString("en-US",{month:"short",day:"numeric"})}function s(d){return d.toLocaleDateString("en-US",{weekday:"short"})}function f(d){const i=new Date;return i.setDate(i.getDate()+d+1),i}function L(d){const i=Math.max(...v.value,0);return i>0?d/i*100:0}return de(async()=>{var d;try{const i=await fetch("/sales/predictions?period=month&days_ahead=30",{headers:{Accept:"application/json"}});if(!i.ok)throw new Error(`Failed to fetch predictions: ${i.status}`);const w=await i.json();C.value=!!((d=w==null?void 0:w.model_info)!=null&&d.note),o.value=Array.isArray(w==null?void 0:w.predictions)?w.predictions:[]}catch(i){C.value=!0,o.value=[],console.error(i)}}),(d,i)=>(y(),B(t(M),null,{default:l(()=>[a(t(H),null,{default:l(()=>[e("div",Xe,[a(t(j),{class:"flex items-center gap-2"},{default:l(()=>[a(t(R),{class:"w-5 h-5 text-blue-600"}),i[0]||(i[0]=P(" Sales Prediction "))]),_:1,__:[0]})])]),_:1}),e("div",{class:K(["overflow-hidden transition-all duration-300 ease-in-out",{"max-h-0":n.value,"max-h-[2000px]":!n.value}])},[a(t(V),null,{default:l(()=>[e("div",et,[e("div",tt,[e("div",at,[e("div",null,[i[1]||(i[1]=e("h4",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100"}," Tomorrow's Prediction ",-1)),e("p",st,_(p($.value)),1),e("p",lt," Expected sales for "+_(r(m.value)),1)]),e("div",ot,[i[2]||(i[2]=e("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"Confidence",-1)),e("div",nt,_((x.value*100).toFixed(0))+"% ",1)])])]),e("div",null,[i[3]||(i[3]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"Next 7 Days Forecast",-1)),e("div",rt,[(y(!0),S(W,null,U(v.value,(w,A)=>(y(),S("div",{key:A,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},[e("div",it,[e("div",dt,[e("span",ut,_(A+1),1)]),e("div",null,[e("p",ct,_(r(f(A))),1),e("p",mt,_(s(f(A))),1)])]),e("div",pt,[e("p",ft,_(p(w)),1),e("div",gt,[e("div",bt,[e("div",{class:"h-full bg-blue-500 rounded-full transition-all duration-300",style:Y({width:L(w)+"%"})},null,4)])])])]))),128))])]),e("div",null,[i[4]||(i[4]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"Sales Forecast Trend",-1)),e("div",vt,[a(t(he),{data:D.value,options:c.value,height:"200px"},null,8,["data","options"])])]),e("div",null,[i[6]||(i[6]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"Monthly Trend",-1)),e("div",_t,[e("div",yt,[i[5]||(i[5]=e("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Predicted Monthly Revenue",-1)),e("span",ht,_(p(h.value)),1)]),e("div",xt,[a(t(R),{class:"w-4 h-4 text-green-600"}),e("span",$t," +"+_(k.value.toFixed(1))+"% vs current month ",1)])])]),e("div",kt,[e("div",wt,[C.value?(y(),S("span",Ct,"Using sample data")):(y(),S("span",Dt,"Live predictions")),i[7]||(i[7]=e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-2 h-2 bg-green-500 rounded-full"}),e("span",null,"Ready")],-1))])])])]),_:1})],2)]),_:1}))}}),St={class:"flex items-center justify-between"},Bt={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"},Tt={class:"bg-indigo-50 dark:bg-indigo-950/20 border border-indigo-200 dark:border-indigo-800 rounded-lg p-4"},Mt={class:"flex items-center justify-between"},Vt={class:"bg-emerald-50 dark:bg-emerald-950/20 border border-emerald-200 dark:border-emerald-800 rounded-lg p-4"},Ft={class:"flex items-center justify-between"},It={class:"bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4"},At={class:"flex items-center justify-between"},Lt={class:"mb-6"},Rt={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},jt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ht={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},Ot={class:"space-y-3"},Nt={class:"flex items-center gap-3"},zt={class:"w-8 h-8 bg-indigo-100 dark:bg-indigo-900/20 rounded-full flex items-center justify-center"},Et={class:"text-sm font-medium text-indigo-600"},Ut={class:"font-medium text-gray-900 dark:text-gray-100"},Wt={class:"text-right"},qt={class:"font-semibold text-gray-900 dark:text-gray-100"},Yt={class:"text-sm text-gray-600 dark:text-gray-400"},Zt={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},Kt={class:"space-y-3"},Qt={class:"flex items-center gap-2"},Gt={class:"text-sm text-gray-700 dark:text-gray-300"},Jt={class:"flex items-center gap-2"},Xt={class:"w-16 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"},ea={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},ta=T({__name:"ProductSalesTrendWidget",props:{salesByDate:{},topProducts:{}},setup(b){ce.register(me,pe,fe,ge,be,ve,_e,ye);const n=F(!1),m=b,o=g(()=>{const c=new Date,u=[];for(let p=6;p>=0;p--){const r=new Date(c);r.setDate(r.getDate()-p);const s=r.toISOString().split("T")[0],f=m.salesByDate.find(L=>L.date===s);u.push({date:s,dateObj:r,sales:f?f.sales:0})}return u}),x=g(()=>({labels:o.value.map(c=>c.dateObj.toLocaleDateString("en-US",{weekday:"short"})),datasets:[{label:"Daily Sales",data:o.value.map(c=>c.sales),borderColor:"rgb(99, 102, 241)",backgroundColor:"rgba(99, 102, 241, 0.1)",fill:!0,tension:.4,pointBackgroundColor:"rgb(99, 102, 241)",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:5}]})),v=g(()=>{const c=Math.max(...o.value.map(p=>p.sales),0);if(c===0)return 100;const u=Math.ceil(c/50)*50;return Math.max(u,100)}),$=g(()=>{const c=Math.max(...o.value.map(p=>p.sales),0);return c===0?50:Math.ceil(c/50)*50>=400?100:50}),h=g(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:20,font:{size:12}}},tooltip:{mode:"index",intersect:!1,callbacks:{label:function(c){return c.datasetIndex===0?`${c.dataset.label}: ${c.parsed.y} units`:`${c.dataset.label}: ${c.parsed.y} units`}}}},scales:{y:{beginAtZero:!0,min:0,suggestedMax:v.value,grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{stepSize:$.value,font:{size:11}}},x:{grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{font:{size:11}}}},interaction:{mode:"nearest",axis:"x",intersect:!1}})),k=g(()=>m.topProducts.map(c=>({name:c.name,units:c.total_quantity,revenue:c.total_revenue}))),C=[{name:"High Performance",percentage:35,color:"#10B981"},{name:"Medium Performance",percentage:45,color:"#3B82F6"},{name:"Low Performance",percentage:20,color:"#F59E0B"}];g(()=>{const c=o.value,u=Math.max(...c.map(s=>s.sales),1),p=0;return c.map((s,f)=>{const L=f/Math.max(1,c.length-1)*100,d=100-((s.sales-p)/(u-p)*80+10);return`${L},${d}`}).join(" ")}),g(()=>{const c=o.value,u=Math.max(...c.map(r=>r.sales),1),p=0;return c.map((r,s)=>{const f=s/Math.max(1,c.length-1)*100,L=100-((r.sales-p)/(u-p)*80+10);return{x:f,y:L}})});function D(c){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0,maximumFractionDigits:0}).format(c)}return(c,u)=>(y(),B(t(M),null,{default:l(()=>[a(t(H),null,{default:l(()=>[e("div",St,[a(t(j),{class:"flex items-center gap-2"},{default:l(()=>[a(t(Z),{class:"w-5 h-5 text-indigo-600"}),u[0]||(u[0]=P(" Product Sales Trend "))]),_:1,__:[0]})])]),_:1}),e("div",{class:K(["overflow-hidden transition-all duration-300 ease-in-out",{"max-h-0":n.value,"max-h-[2000px]":!n.value}])},[a(t(V),null,{default:l(()=>[e("div",Bt,[e("div",Tt,[e("div",Mt,[u[1]||(u[1]=e("div",null,[e("p",{class:"text-sm font-medium text-indigo-600 dark:text-indigo-400"},"Total Products Sold"),e("p",{class:"text-2xl font-bold text-indigo-700 dark:text-indigo-300"},"8,456")],-1)),a(t(Z),{class:"w-8 h-8 text-indigo-600"})]),u[2]||(u[2]=e("p",{class:"text-xs text-indigo-600 dark:text-indigo-400 mt-1"},"+15% from last month",-1))]),e("div",Vt,[e("div",Ft,[u[3]||(u[3]=e("div",null,[e("p",{class:"text-sm font-medium text-emerald-600 dark:text-emerald-400"},"Top Product"),e("p",{class:"text-lg font-bold text-emerald-700 dark:text-emerald-300"},"Ink Cartridge")],-1)),a(t(Re),{class:"w-8 h-8 text-emerald-600"})]),u[4]||(u[4]=e("p",{class:"text-xs text-emerald-600 dark:text-emerald-400 mt-1"},"1,247 units sold",-1))]),e("div",It,[e("div",At,[u[5]||(u[5]=e("div",null,[e("p",{class:"text-sm font-medium text-amber-600 dark:text-amber-400"},"Avg Daily Sales"),e("p",{class:"text-2xl font-bold text-amber-700 dark:text-amber-300"},"282")],-1)),a(t(R),{class:"w-8 h-8 text-amber-600"})]),u[6]||(u[6]=e("p",{class:"text-xs text-amber-600 dark:text-amber-400 mt-1"},"+8% from last week",-1))])]),e("div",Lt,[u[7]||(u[7]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"Product Sales Trend (Last 7 Days)",-1)),e("div",Rt,[a(t(he),{data:x.value,options:h.value,height:"200px"},null,8,["data","options"])])]),e("div",jt,[e("div",null,[u[8]||(u[8]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"Top Selling Products",-1)),e("div",Ht,[e("div",Ot,[(y(!0),S(W,null,U(k.value,p=>(y(),S("div",{key:p.name,class:"flex items-center justify-between"},[e("div",Nt,[e("div",zt,[e("span",Et,_(p.name.charAt(0)),1)]),e("div",null,[e("p",Ut,_(p.name),1)])]),e("div",Wt,[e("p",qt,_(p.units)+" units",1),e("p",Yt,_(D(p.revenue)),1)])]))),128))])])]),e("div",null,[u[9]||(u[9]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"Product Performance",-1)),e("div",Zt,[e("div",Kt,[(y(),S(W,null,U(C,p=>e("div",{key:p.name,class:"flex items-center justify-between"},[e("div",Qt,[e("div",{class:"w-3 h-3 rounded-full",style:Y({backgroundColor:p.color})},null,4),e("span",Gt,_(p.name),1)]),e("div",Jt,[e("div",Xt,[e("div",{class:"h-full rounded-full transition-all duration-300",style:Y({width:p.percentage+"%",backgroundColor:p.color})},null,4)]),e("span",ea,_(p.percentage)+"%",1)])])),64))])])])])]),_:1})],2)]),_:1}))}}),aa=T({__name:"Tabs",props:{defaultValue:{default:"sales-prediction"},orientation:{},dir:{},activationMode:{},modelValue:{},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["update:modelValue"],setup(b,{emit:n}){const x=Ue(b,n);return(v,$)=>(y(),B(t(Ze),Q({"data-slot":"tabs"},t(x)),{default:l(()=>[I(v.$slots,"default")]),_:3},16))}}),sa=T({__name:"TabsList",props:{loop:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(b){const n=b,m=ae(n,"class");return(o,x)=>(y(),B(t(Qe),Q({"data-slot":"tabs-list"},t(m),{class:t(X)("inline-flex h-10 items-center justify-center rounded-md bg-muted text-muted-foreground overflow-hidden",n.class)}),{default:l(()=>[I(o.$slots,"default")]),_:3},16,["class"]))}}),ee=T({__name:"TabsTrigger",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(b){const n=b,m=ae(n,"class");return(o,x)=>(y(),B(t(Ge),Q({"data-slot":"tabs-trigger"},t(m),{class:t(X)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",n.class)}),{default:l(()=>[I(o.$slots,"default")]),_:3},16,["class"]))}}),te=T({__name:"TabsContent",props:{value:{},forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(b){const n=b,m=ae(n,"class");return(o,x)=>(y(),B(t(Ke),Q({"data-slot":"tabs-content"},t(m),{class:t(X)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n.class)}),{default:l(()=>[I(o.$slots,"default")]),_:3},16,["class"]))}}),la={class:"dashboard-wrapper"},oa={class:"dashboard-header"},na={class:"dashboard-filters"},ra={class:"filter-group"},ia={class:"filter-label"},da={key:0,class:"date-range-group"},ua={class:"date-input-group"},ca={class:"date-input-group"},ma={class:"metrics-grid",style:{"grid-template-columns":"repeat(auto-fit, minmax(280px, 1fr))"}},pa={class:"metric-header"},fa={class:"metric-info"},ga={class:"metric-label-group"},ba={class:"metric-value"},va={class:"metric-header"},_a={class:"metric-info"},ya={class:"metric-label-group"},ha={class:"metric-value"},xa={class:"metric-icon-wrapper metric-icon-green"},$a={class:"metric-header"},ka={class:"metric-info"},wa={class:"metric-label-group"},Ca={class:"metric-value"},Da={class:"metric-icon-wrapper metric-icon-yellow"},Pa={class:"metric-header"},Sa={class:"metric-info"},Ba={class:"metric-label-group"},Ta={class:"metric-value"},Ma={class:"metric-icon-wrapper metric-icon-orange"},Va={class:"metric-header"},Fa={class:"metric-info"},Ia={class:"metric-label-group"},Aa={class:"metric-value"},La={class:"metric-icon-wrapper metric-icon-purple"},Ra={class:"analytics-tabs-wrapper"},ja={class:"category-section"},Ha={key:0,class:"empty-state"},Oa={class:"tables-grid"},Na={class:"table-wrapper"},za={class:"data-table"},Ea={class:"table-cell table-cell-bold"},Ua={class:"table-cell table-cell-right"},Wa={class:"table-cell table-cell-right table-cell-highlight"},qa={class:"table-wrapper"},Ya={class:"data-table"},Za={class:"table-cell"},Ka=["href"],Qa={class:"table-cell"},Ga={class:"table-cell table-cell-right table-cell-bold"},Ja={class:"table-cell table-cell-center"},_s=T({__name:"Dashboard",props:{salesData:{},topProducts:{},salesByDate:{},salesByCategory:{},recentInvoices:{},filters:{}},setup(b){const n=b,m=F(n.filters.period),o=F(n.filters.start_date),x=F(n.filters.end_date),v=[{title:"Dashboard",href:"/dashboard"}],$=[{value:"week",label:"Last 7 Days"},{value:"month",label:"Last 30 Days"},{value:"quarter",label:"Last 3 Months"},{value:"year",label:"Last 12 Months"},{value:"custom",label:"Choose Dates"}];function h(){Te.get("/dashboard",{period:m.value,start_date:o.value,end_date:x.value},{preserveState:!0,replace:!0})}Se([m,o,x],()=>{h()});const k=g(()=>({labels:n.salesByDate.map(r=>new Date(r.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})),datasets:[{label:"Daily Sales",data:n.salesByDate.map(r=>r.sales),borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4},{label:"Invoices",data:n.salesByDate.map(r=>r.invoices),borderColor:"rgb(16, 185, 129)",backgroundColor:"rgba(16, 185, 129, 0.1)",fill:!1,tension:.4,yAxisID:"y1"}]})),C=g(()=>({plugins:{title:{display:!0,text:"Sales Trend"},legend:{position:"top"}},scales:{y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"Sales Amount (₱)"}},y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:"Number of Invoices"},grid:{drawOnChartArea:!1}}}})),D=g(()=>({labels:n.salesByCategory.map(r=>r.category_name),datasets:[{data:n.salesByCategory.map(r=>r.total_revenue),backgroundColor:["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16","#F97316","#EC4899","#6366F1"],borderWidth:2,borderColor:"#ffffff"}]})),c=g(()=>({plugins:{title:{display:!0,text:"Sales by Category"},legend:{position:"bottom"}}}));g(()=>({labels:n.topProducts.map(r=>r.name),datasets:[{label:"Revenue",data:n.topProducts.map(r=>r.total_revenue),backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgb(59, 130, 246)",borderWidth:1}]})),g(()=>({plugins:{title:{display:!0,text:"Top Products by Revenue"},legend:{display:!1}},scales:{y:{title:{display:!0,text:"Revenue (₱)"}}}}));function u(r){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(r)}return F(!1),[{id:1,title:"New Order Received",message:"Order #1234 has been placed for ₱2,500",time:"2 minutes ago",type:"order",read:!1},{id:2,title:"Low Stock Alert",message:"Ink (brother 500 C, Cyan) is running low on stock",time:"15 minutes ago",type:"alert",read:!1},{id:3,title:"Sales Target Achieved",message:"Congratulations! You've reached 85% of your monthly sales target",time:"1 hour ago",type:"success",read:!0},{id:4,title:"Payment Received",message:"Payment of ₱1,800 has been received for Invoice #5678",time:"2 hours ago",type:"payment",read:!0}].filter(r=>!r.read).length,(r,s)=>(y(),B(Le,{breadcrumbs:v},{default:l(()=>[a(t(Be),{title:"Dashboard"}),a(t(Je),null,{default:l(()=>[e("div",la,[e("div",oa,[s[6]||(s[6]=e("div",null,[e("h1",{class:"dashboard-title"},"Dashboard"),e("p",{class:"dashboard-subtitle"},"View your business performance at a glance")],-1)),e("div",na,[e("div",ra,[e("label",ia,[a(t(je),{class:"w-4 h-4"}),s[3]||(s[3]=P(" View Period "))]),a(t(Me),{modelValue:m.value,"onUpdate:modelValue":s[0]||(s[0]=f=>m.value=f),options:$,placeholder:"Choose time period",class:"period-select"},null,8,["modelValue"])]),m.value==="custom"?(y(),S("div",da,[e("div",ua,[s[4]||(s[4]=e("label",{class:"date-label"},"Start Date",-1)),le(e("input",{"onUpdate:modelValue":s[1]||(s[1]=f=>o.value=f),type:"date",class:"date-input"},null,512),[[oe,o.value]])]),e("div",ca,[s[5]||(s[5]=e("label",{class:"date-label"},"End Date",-1)),le(e("input",{"onUpdate:modelValue":s[2]||(s[2]=f=>x.value=f),type:"date",class:"date-input"},null,512),[[oe,x.value]])])])):ue("",!0)])]),s[37]||(s[37]=e("div",{class:"metrics-section"},[e("h2",{class:"section-title"},"Your Business Overview"),e("p",{class:"section-description"},"Quick summary of your sales performance")],-1)),e("div",ma,[a(M,{class:"metric-card"},{default:l(()=>[a(V,{class:"metric-card-content"},{default:l(()=>[e("div",pa,[e("div",fa,[e("div",ga,[s[8]||(s[8]=e("span",{class:"metric-label"},"Total Revenue",-1)),a(t(O),null,{default:l(()=>[a(t(N),{"as-child":""},{default:l(()=>[a(t(E),{class:"help-icon"})]),_:1}),a(t(z),null,{default:l(()=>s[7]||(s[7]=[e("p",null,"The total amount of money you've earned from all sales",-1)])),_:1,__:[7]})]),_:1})]),e("p",ba,_(u(r.salesData.total_sales)),1),s[9]||(s[9]=e("p",{class:"metric-description"},"All sales combined",-1))]),s[10]||(s[10]=e("div",{class:"metric-icon-wrapper metric-icon-blue"},[e("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 119.43 122.88",class:"metric-icon"},[e("path",{d:"M118.45,51l1,1-.74,9.11H99A40.52,40.52,0,0,1,81.88,78.43q-11.44,6.28-27.71,7h-15l.5,37.43H21.42l.74-36.94-.24-24.87H1L0,59.84.74,51H21.92l-.25-15.26H1l-1-1,.74-9.11H21.67L21.42.25,63.29,0Q78.8,0,88.65,6.53T102,25.61h16.5l1,1.23-.74,8.87h-15v3.94A53.17,53.17,0,0,1,102.44,51ZM39.65,25.61H81.26Q74.85,14,58.61,13.3L39.89,14l-.24,11.57ZM39.4,51H83.23a39.51,39.51,0,0,0,1.23-9.6,46.17,46.17,0,0,0-.24-5.66H39.65L39.4,51ZM58.61,71.91q12.56-2.72,19.21-10.84H39.4l-.25,10.1,19.46.74Z"})])],-1))])]),_:1})]),_:1}),a(M,{class:"metric-card"},{default:l(()=>[a(V,{class:"metric-card-content"},{default:l(()=>[e("div",va,[e("div",_a,[e("div",ya,[s[12]||(s[12]=e("span",{class:"metric-label"},"Total Invoices",-1)),a(t(O),null,{default:l(()=>[a(t(N),{"as-child":""},{default:l(()=>[a(t(E),{class:"help-icon"})]),_:1}),a(t(z),null,{default:l(()=>s[11]||(s[11]=[e("p",null,"The number of sales transactions you've completed",-1)])),_:1,__:[11]})]),_:1})]),e("p",ha,_(r.salesData.total_invoices),1),s[13]||(s[13]=e("p",{class:"metric-description"},"Sales transactions",-1))]),e("div",xa,[a(t(re),{class:"metric-icon"})])])]),_:1})]),_:1}),a(M,{class:"metric-card"},{default:l(()=>[a(V,{class:"metric-card-content"},{default:l(()=>[e("div",$a,[e("div",ka,[e("div",wa,[s[15]||(s[15]=e("span",{class:"metric-label"},"Average Sale Amount",-1)),a(t(O),null,{default:l(()=>[a(t(N),{"as-child":""},{default:l(()=>[a(t(E),{class:"help-icon"})]),_:1}),a(t(z),null,{default:l(()=>s[14]||(s[14]=[e("p",null,"The average amount customers spend per transaction",-1)])),_:1,__:[14]})]),_:1})]),e("p",Ca,_(u(r.salesData.average_order_value)),1),s[16]||(s[16]=e("p",{class:"metric-description"},"Per transaction",-1))]),e("div",Da,[a(t(R),{class:"metric-icon"})])])]),_:1})]),_:1}),a(M,{class:"metric-card"},{default:l(()=>[a(V,{class:"metric-card-content"},{default:l(()=>[e("div",Pa,[e("div",Sa,[e("div",Ba,[s[18]||(s[18]=e("span",{class:"metric-label"},"Awaiting Payment",-1)),a(t(O),null,{default:l(()=>[a(t(N),{"as-child":""},{default:l(()=>[a(t(E),{class:"help-icon"})]),_:1}),a(t(z),null,{default:l(()=>s[17]||(s[17]=[e("p",null,"Invoices that are still waiting to be paid",-1)])),_:1,__:[17]})]),_:1})]),e("p",Ta,_(r.salesData.pending_invoices),1),s[19]||(s[19]=e("p",{class:"metric-description"},"Need attention",-1))]),e("div",Ma,[a(t(qe),{class:"metric-icon"})])])]),_:1})]),_:1}),a(M,{class:"metric-card"},{default:l(()=>[a(V,{class:"metric-card-content"},{default:l(()=>[e("div",Va,[e("div",Fa,[e("div",Ia,[s[21]||(s[21]=e("span",{class:"metric-label"},"Pending Orders",-1)),a(t(O),null,{default:l(()=>[a(t(N),{"as-child":""},{default:l(()=>[a(t(E),{class:"help-icon"})]),_:1}),a(t(z),null,{default:l(()=>s[20]||(s[20]=[e("p",null,"Customer orders waiting for staff approval",-1)])),_:1,__:[20]})]),_:1})]),e("p",Aa,_(r.salesData.pending_orders),1),s[22]||(s[22]=e("p",{class:"metric-description"},"Require review",-1))]),e("div",La,[a(t(Ie),{class:"metric-icon"})])])]),_:1})]),_:1})]),s[38]||(s[38]=e("div",{class:"analytics-section"},[e("div",{class:"section-header"},[e("h2",{class:"section-title"},"Sales Trends & Insights"),e("p",{class:"section-description"},"Track how your sales are performing over time")])],-1)),e("div",Ra,[a(t(aa),{defaultValue:"sales-trend",class:"analytics-tabs-full"},{default:l(()=>[a(t(sa),{class:"tabs-list-full"},{default:l(()=>[a(t(ee),{value:"sales-trend",class:"tab-trigger-full"},{default:l(()=>[a(t(R),{class:"tab-icon"}),s[23]||(s[23]=P(" Your Sales Trend "))]),_:1,__:[23]}),a(t(ee),{value:"sales-prediction",class:"tab-trigger-full"},{default:l(()=>[a(t(R),{class:"tab-icon"}),s[24]||(s[24]=P(" Sales Prediction "))]),_:1,__:[24]}),a(t(ee),{value:"product-trend",class:"tab-trigger-full"},{default:l(()=>[a(t(Ae),{class:"tab-icon"}),s[25]||(s[25]=P(" Product Sales Trend "))]),_:1,__:[25]})]),_:1}),a(t(te),{value:"sales-trend",class:"tab-content-full"},{default:l(()=>[a(M,{class:"chart-card"},{default:l(()=>[a(H,null,{default:l(()=>[a(j,{class:"chart-title"},{default:l(()=>[a(t(R),{class:"chart-title-icon"}),s[26]||(s[26]=P(" Your Sales Trend "))]),_:1,__:[26]}),a(q,null,{default:l(()=>s[27]||(s[27]=[P(" See how your daily sales and number of transactions change over time ")])),_:1,__:[27]})]),_:1}),a(V,null,{default:l(()=>[a(ne,{type:"line",data:k.value,options:C.value,height:"350px"},null,8,["data","options"])]),_:1})]),_:1})]),_:1}),a(t(te),{value:"sales-prediction",class:"tab-content-full"},{default:l(()=>[a(Pt,{"sales-data":r.salesByDate},null,8,["sales-data"])]),_:1}),a(t(te),{value:"product-trend",class:"tab-content-full"},{default:l(()=>[a(ta,{"sales-by-date":r.salesByDate,"top-products":r.topProducts},null,8,["sales-by-date","top-products"])]),_:1})]),_:1})]),e("div",ja,[a(M,{class:"chart-card"},{default:l(()=>[a(H,null,{default:l(()=>[a(j,{class:"chart-title"},{default:l(()=>[a(t(Z),{class:"chart-title-icon"}),s[28]||(s[28]=P(" Sales by Product Category "))]),_:1,__:[28]}),a(q,null,{default:l(()=>s[29]||(s[29]=[P(" See which product categories bring in the most revenue ")])),_:1,__:[29]})]),_:1}),a(V,null,{default:l(()=>[n.salesByCategory.length===0?(y(),S("div",Ha,s[30]||(s[30]=[e("p",{class:"empty-title"},"No category data for the selected period",-1),e("p",{class:"empty-subtitle"},"Try expanding the date range or confirming there are paid invoices.",-1)]))):(y(),B(ne,{key:1,type:"doughnut",data:D.value,options:c.value,height:"300px"},null,8,["data","options"]))]),_:1})]),_:1})]),s[39]||(s[39]=e("div",{class:"section-header"},[e("h2",{class:"section-title"},"Product Performance & Recent Activity"),e("p",{class:"section-description"},"Your best-selling products and latest transactions")],-1)),e("div",Oa,[a(M,{class:"table-card"},{default:l(()=>[a(H,null,{default:l(()=>[a(j,{class:"table-title"},{default:l(()=>[a(t(Z),{class:"table-title-icon"}),s[31]||(s[31]=P(" Best-Selling Products "))]),_:1,__:[31]}),a(q,null,{default:l(()=>s[32]||(s[32]=[P(" Products that have generated the most revenue ")])),_:1,__:[32]})]),_:1}),a(V,null,{default:l(()=>[e("div",Na,[e("table",za,[s[33]||(s[33]=e("thead",null,[e("tr",{class:"table-header-row"},[e("th",{class:"table-header"},"Product Name"),e("th",{class:"table-header table-header-right"},"Units Sold"),e("th",{class:"table-header table-header-right"},"Revenue")])],-1)),e("tbody",null,[(y(!0),S(W,null,U(r.topProducts,f=>(y(),S("tr",{key:f.id,class:"table-row"},[e("td",Ea,_(f.name),1),e("td",Ua,_(f.total_quantity.toLocaleString()),1),e("td",Wa,_(u(f.total_revenue)),1)]))),128))])])])]),_:1})]),_:1}),a(M,{class:"table-card"},{default:l(()=>[a(H,null,{default:l(()=>[a(j,{class:"table-title"},{default:l(()=>[a(t(re),{class:"table-title-icon"}),s[34]||(s[34]=P(" Recent Transactions "))]),_:1,__:[34]}),a(q,null,{default:l(()=>s[35]||(s[35]=[P(" Your most recent sales and invoices ")])),_:1,__:[35]})]),_:1}),a(V,null,{default:l(()=>[e("div",qa,[e("table",Ya,[s[36]||(s[36]=e("thead",null,[e("tr",{class:"table-header-row"},[e("th",{class:"table-header"},"Invoice #"),e("th",{class:"table-header"},"Customer"),e("th",{class:"table-header table-header-right"},"Amount"),e("th",{class:"table-header table-header-center"},"Status")])],-1)),e("tbody",null,[(y(!0),S(W,null,U(r.recentInvoices,f=>(y(),S("tr",{key:f.id,class:"table-row"},[e("td",Za,[e("a",{href:`/invoices/${f.id}`,class:"invoice-link"}," #"+_(f.id),9,Ka)]),e("td",Qa,_(f.customer_name),1),e("td",Ga,_(u(f.total_amount)),1),e("td",Ja,[e("span",{class:K({"status-badge":!0,"status-paid":f.status==="paid","status-pending":f.status==="pending","status-cancelled":f.status==="cancelled"})},_(f.status.charAt(0).toUpperCase()+f.status.slice(1)),3)])]))),128))])])])]),_:1})]),_:1})])])]),_:1})]),_:1}))}});export{_s as default};
