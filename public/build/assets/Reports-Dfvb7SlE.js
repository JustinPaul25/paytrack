import{d as R,m as g,s as f,W as C,p as M,c as S,o as m,w as l,a as i,b as t,u as c,g as N,t as o,h as u,x as b,y as h,e as x,F as V,r as $,n as y}from"./app-6YU8Xi1-.js";import{h as j,_ as D}from"./AppLayout.vue_vue_type_script_setup_true_lang-qWJAS-0A.js";import{_ as E,a as B}from"./CardContent.vue_vue_type_script_setup_true_lang-BAUfZgnO.js";import{_ as T,a as H}from"./CardTitle.vue_vue_type_script_setup_true_lang-CxvsSh3x.js";import{_}from"./index-D6TYeKc9.js";import{P as I}from"./printer-CLW_A1GF.js";import"./LocationInput.vue_vue_type_style_index_0_scoped_85568d9b_lang-CiBDiogE.js";import"./useForwardPropsEmits-DPtx9DKF.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-RKf3w3T5.js";import"./createLucideIcon-DCdQ-kDs.js";import"./Teleport-C6YKvALf.js";import"./RovingFocusGroup-CohizBQB.js";import"./VisuallyHidden-C0owPaWy.js";import"./x-BWKvW5SF.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-0XVZurPF.js";import"./circle-check-DxrVWMq-.js";import"./chevron-right-glct6d-_.js";const L={class:"flex flex-col gap-6 print:gap-4"},U={class:"hidden print:flex items-center justify-between mb-2"},W={class:"text-right text-xs text-gray-600"},z={class:"flex items-start justify-between flex-wrap gap-4 print:hidden"},G={class:"flex gap-2"},q={class:"flex gap-4 flex-wrap print:hidden"},A={class:"flex flex-col"},J={class:"flex flex-col"},K={key:0,class:"overflow-x-auto"},O={class:"min-w-full divide-y divide-gray-200 print:divide-black"},Q={class:"divide-y divide-gray-200 print:divide-black"},X={class:"px-4 py-3 text-sm font-medium text-gray-800 print:text-black"},Y={class:"px-4 py-3 text-right text-sm text-green-600 font-semibold print:text-black"},Z={class:"px-4 py-3 text-right text-sm text-red-600 font-semibold print:text-black"},tt={class:"bg-gray-100 print:bg-white"},et={class:"px-4 py-3 text-right text-sm font-semibold text-gray-700 print:text-black"},st={class:"px-4 py-3 text-right text-sm font-semibold text-gray-700 print:text-black"},nt={key:1,class:"py-16 text-center text-sm text-gray-500"},kt=R({__name:"Reports",props:{filters:{},rows:{},totals:{}},setup(k){const p=k,v=[{title:"Sales",href:"/sales/analytics"},{title:"Financial Reports",href:"/finance/reports"}],r=g(p.filters.start_month),a=g(p.filters.end_month);f(()=>p.filters.start_month,s=>{s&&r.value!==s&&(r.value=s)}),f(()=>p.filters.end_month,s=>{s&&a.value!==s&&(a.value=s)}),f([r,a],()=>{!r.value||!a.value||C.get("/finance/reports",{start_month:r.value,end_month:a.value},{preserveState:!0,replace:!0})});const w=M(()=>p.rows.length>0);function d(s){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(s)}function F(){window.print()}function P(){const s=route("finance.reports.export",{start_month:r.value,end_month:a.value});window.location.href=s}return(s,e)=>(m(),S(D,{breadcrumbs:v},{default:l(()=>[i(c(N),{title:"Financial Reports"}),t("div",L,[t("div",U,[e[3]||(e[3]=t("img",{src:"/img/merakilogo.jpg",alt:"Meraki",class:"h-10 object-contain"},null,-1)),t("div",W,[e[2]||(e[2]=t("div",null,"Financial Reports",-1)),t("div",null,"Generated: "+o(new Date().toLocaleDateString()),1)])]),t("div",z,[e[6]||(e[6]=t("div",null,[t("h1",{class:"text-2xl font-bold"},"Financial Reports"),t("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Review monthly income, expenses, and net cash results in a printable, exportable table. ")],-1)),t("div",G,[i(c(_),{variant:"outline",onClick:F},{default:l(()=>[i(c(I),{class:"h-4 w-4 mr-2"}),e[4]||(e[4]=u(" Print "))]),_:1,__:[4]}),i(c(_),{variant:"default",onClick:P},{default:l(()=>[i(c(j),{class:"h-4 w-4 mr-2"}),e[5]||(e[5]=u(" Export CSV "))]),_:1,__:[5]})])]),i(E,null,{default:l(()=>[i(T,{class:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between"},{default:l(()=>[i(H,null,{default:l(()=>e[7]||(e[7]=[u("Reporting Period")])),_:1,__:[7]}),t("div",q,[t("div",A,[e[8]||(e[8]=t("label",{for:"start-month",class:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide"}," Start Month ",-1)),b(t("input",{id:"start-month","onUpdate:modelValue":e[0]||(e[0]=n=>r.value=n),type:"month",class:"mt-1 rounded-md border border-input bg-background px-3 py-2 text-sm shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"},null,512),[[h,r.value]])]),t("div",J,[e[9]||(e[9]=t("label",{for:"end-month",class:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide"}," End Month ",-1)),b(t("input",{id:"end-month","onUpdate:modelValue":e[1]||(e[1]=n=>a.value=n),type:"month",class:"mt-1 rounded-md border border-input bg-background px-3 py-2 text-sm shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"},null,512),[[h,a.value]])])])]),_:1}),i(B,null,{default:l(()=>[w.value?(m(),x("div",K,[t("table",O,[e[11]||(e[11]=t("thead",{class:"bg-gray-50 print:bg-white print:text-black"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-sm font-semibold text-gray-600 uppercase tracking-wide print:text-black"}," Month "),t("th",{class:"px-4 py-3 text-right text-sm font-semibold text-gray-600 uppercase tracking-wide print:text-black"}," Income (₱) "),t("th",{class:"px-4 py-3 text-right text-sm font-semibold text-gray-600 uppercase tracking-wide print:text-black"}," Expenses (₱) "),t("th",{class:"px-4 py-3 text-right text-sm font-semibold text-gray-600 uppercase tracking-wide print:text-black"}," Net (₱) ")])],-1)),t("tbody",Q,[(m(!0),x(V,null,$(s.rows,n=>(m(),x("tr",{key:n.month,class:"bg-white even:bg-gray-50 print:bg-white"},[t("td",X,o(n.label),1),t("td",Y,o(d(n.income)),1),t("td",Z,o(d(n.expenses)),1),t("td",{class:y(["px-4 py-3 text-right text-sm font-semibold print:text-black",[n.net>=0?"text-green-700":"text-red-700","print:text-black"]])},o(d(n.net)),3)]))),128))]),t("tfoot",null,[t("tr",tt,[e[10]||(e[10]=t("th",{class:"px-4 py-3 text-left text-sm font-semibold text-gray-700 uppercase tracking-wide print:text-black"}," Totals ",-1)),t("th",et,o(d(s.totals.income)),1),t("th",st,o(d(s.totals.expenses)),1),t("th",{class:y(["px-4 py-3 text-right text-sm font-semibold print:text-black",[s.totals.net>=0?"text-green-700":"text-red-700","print:text-black"]])},o(d(s.totals.net)),3)])])])])):(m(),x("div",nt," No financial activity found for the selected period. "))]),_:1})]),_:1})])]),_:1}))}});export{kt as default};
