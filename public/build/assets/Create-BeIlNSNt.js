import{d as h,G as B,c as R,o as u,w as o,a as t,b as r,u as l,g as N,h as m,H as P,x as c,y as g,e as f,F as x,r as b,t as v,S as V}from"./app-qA0CnBWe.js";import{_ as y}from"./index-DKsLgjKN.js";import{_ as U}from"./AppLayout.vue_vue_type_script_setup_true_lang-BLollNnU.js";import{_ as j,a as q}from"./CardContent.vue_vue_type_script_setup_true_lang-DFxNC8fq.js";import{_ as D,a as F}from"./CardTitle.vue_vue_type_script_setup_true_lang-PsohhGio.js";import{_ as G}from"./CardFooter.vue_vue_type_script_setup_true_lang-DnKrTvmp.js";import{_ as M}from"./Checkbox.vue_vue_type_script_setup_true_lang-9a1IO3os.js";import{_ as p}from"./Label.vue_vue_type_script_setup_true_lang-BTmEbTpp.js";import{S as T}from"./sweetalert2.esm.all-BQIkj5Wb.js";import"./LocationInput.vue_vue_type_style_index_0_scoped_85568d9b_lang-C02RUasq.js";import"./useForwardPropsEmits-CwUzb49y.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-CLRWpV5h.js";import"./Teleport-DIfWgdf9.js";import"./RovingFocusGroup-gU1KHB92.js";import"./VisuallyHidden-qt70HzaR.js";import"./DialogPortal-BX8gIO6T.js";import"./x-Da1o-ysX.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-B1dhHsl6.js";import"./chevron-down-CCBk2xD7.js";import"./chevron-right-r24-WVSv.js";import"./RovingFocusItem-4Q8hBv91.js";import"./check-BujOPtAl.js";const A={class:"flex gap-4"},E={class:"flex-1"},H={class:"flex-1"},L={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},z={class:"flex items-center justify-between mb-2"},I={class:"font-semibold"},J=["onClick"],K={class:"grid gap-2"},ge=h({__name:"Create",props:{groupedPermissions:{}},setup(w){const _=w,s=B({name:"",guard_name:"web",permissions:[]}),C=[{title:"Roles",href:"/roles"},{title:"Create Role",href:"/roles/create"}];function S(a){s.permissions.includes(a)?s.permissions=s.permissions.filter(e=>e!==a):s.permissions.push(a)}function k(a){const e=_.groupedPermissions[a].map(i=>i.id);e.every(i=>s.permissions.includes(i))?s.permissions=s.permissions.filter(i=>!e.includes(i)):s.permissions=[...new Set([...s.permissions,...e])]}function $(){s.post(route("roles.store"),{preserveScroll:!0,onSuccess:()=>{T.fire({toast:!0,position:"top-end",icon:"success",title:"Role created successfully",showConfirmButton:!1,timer:3e3,timerProgressBar:!0})}})}return(a,e)=>(u(),R(U,{breadcrumbs:C},{default:o(()=>[t(l(N),{title:"Create Role"}),e[8]||(e[8]=r("div",{class:"flex items-center justify-between mb-6"},[r("h1",{class:"text-2xl font-bold"},"Create Role")],-1)),t(j,null,{default:o(()=>[t(D,null,{default:o(()=>[t(F,null,{default:o(()=>e[3]||(e[3]=[m("Create Role")])),_:1,__:[3]})]),_:1}),t(q,null,{default:o(()=>[r("form",{onSubmit:e[2]||(e[2]=P(n=>$(),["prevent"])),class:"space-y-6"},[r("div",A,[r("div",E,[t(p,{for:"name"},{default:o(()=>e[4]||(e[4]=[m("Name *")])),_:1,__:[4]}),c(r("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=n=>l(s).name=n),class:"w-full rounded border px-3 py-2 mt-1",required:""},null,512),[[g,l(s).name]])]),r("div",H,[t(p,{for:"guard_name"},{default:o(()=>e[5]||(e[5]=[m("Guard Name *")])),_:1,__:[5]}),c(r("input",{id:"guard_name",disabled:"","onUpdate:modelValue":e[1]||(e[1]=n=>l(s).guard_name=n),class:"w-full rounded border px-3 py-2 mt-1",required:""},null,512),[[g,l(s).guard_name]])])]),r("div",L,[(u(!0),f(x,null,b(_.groupedPermissions,(n,i)=>(u(),f("div",{key:i,class:"rounded border p-4"},[r("div",z,[r("span",I,v(i),1),r("button",{type:"button",class:"text-xs text-primary underline",onClick:d=>k(i)}," Select all ",8,J)]),r("div",K,[(u(!0),f(x,null,b(n,d=>(u(),f("div",{key:d.id,class:"flex items-center gap-2"},[t(M,{id:"perm-"+d.id,checked:l(s).permissions.includes(d.id),"onUpdate:checked":()=>S(d.id)},null,8,["id","checked","onUpdate:checked"]),t(p,{for:"perm-"+d.id},{default:o(()=>[m(v(d.name),1)]),_:2},1032,["for"])]))),128))])]))),128))]),t(G,{class:"flex gap-2 justify-end"},{default:o(()=>[t(l(y),{type:"submit",variant:"default"},{default:o(()=>e[6]||(e[6]=[m("Create")])),_:1,__:[6]}),t(l(V),{href:a.route("roles.index")},{default:o(()=>[t(l(y),{type:"button",variant:"ghost"},{default:o(()=>e[7]||(e[7]=[m("Cancel")])),_:1,__:[7]})]),_:1},8,["href"])]),_:1})],32)]),_:1})]),_:1})]),_:1,__:[8]}))}});export{ge as default};
