import{d as V,E as $,m as w,c as E,o as a,w as o,a as l,b as r,u as s,g as S,h as d,G as P,x as _,e as n,f as u,y as x,t as f,F as B,r as I,bL as h,S as N}from"./app-BJGGIgA8.js";import{_ as g}from"./index-riohrRak.js";import{_ as R}from"./AppLayout.vue_vue_type_script_setup_true_lang-6OmCq4tp.js";import{_ as j,a as L}from"./CardContent.vue_vue_type_script_setup_true_lang-DPB8yWHX.js";import{_ as D,a as F}from"./CardTitle.vue_vue_type_script_setup_true_lang-DvxTgNYv.js";import{_ as M}from"./CardFooter.vue_vue_type_script_setup_true_lang-viGH8JM8.js";import{_ as p}from"./Label.vue_vue_type_script_setup_true_lang-bOJZE9lv.js";import{S as q}from"./sweetalert2.esm.all-BQIkj5Wb.js";import"./LocationInput.vue_vue_type_style_index_0_scoped_85568d9b_lang-CX_goT8l.js";import"./useForwardPropsEmits-CZzI8B5e.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-MrJHOVsW.js";import"./Teleport-MSIji786.js";import"./RovingFocusGroup-gSG5KO_4.js";import"./VisuallyHidden-BC0AEIfW.js";import"./DialogPortal-Dpb7jdpY.js";import"./x-BjkU5bBK.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DSD56j4j.js";import"./chevron-down-B83M1Caq.js";import"./chevron-right-CjvrEjDl.js";const T={class:"flex gap-4"},G={class:"flex-1"},O={key:0,class:"text-red-500 text-xs mt-1"},z={class:"flex-1"},A={key:0,class:"text-red-500 text-xs mt-1"},H={class:"flex gap-4"},J={class:"flex-1"},K={key:0,class:"text-red-500 text-xs mt-1"},Q={class:"flex-1"},W={key:0,class:"text-red-500 text-xs mt-1"},X={class:"flex gap-4"},Y={class:"flex-1"},Z={key:0,class:"mt-2"},ee=["src"],se={key:1,class:"text-red-500 text-xs mt-1"},te={class:"flex flex-wrap gap-2 mt-2"},re=["value"],oe={key:0,class:"text-red-500 text-xs mt-1"},Ce=V({__name:"Edit",props:{user:{},roles:{},userRoles:{},profileImageUrl:{}},setup(y){const m=y,t=$({name:m.user.name,email:m.user.email,password:"",password_confirmation:"",roles:[...m.userRoles],profile_image:null});w(null);const c=w(m.profileImageUrl||null);function b(v){const e=v.target.files;e&&e[0]?(t.profile_image=e[0],c.value=URL.createObjectURL(e[0])):(t.profile_image=null,c.value=m.profileImageUrl||null)}const U=[{title:"Users",href:"/users"},{title:"Edit User",href:`/users/${m.user.id}/edit`}];function k(){t.post(route("users.update",m.user.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{q.fire({toast:!0,position:"top-end",icon:"success",title:"User updated successfully",showConfirmButton:!1,timer:3e3,timerProgressBar:!0})}})}return(v,e)=>(a(),E(R,{breadcrumbs:U},{default:o(()=>[l(s(S),{title:"Edit User"}),e[14]||(e[14]=r("div",{class:"flex items-center justify-between mb-6"},[r("h1",{class:"text-2xl font-bold"},"Edit User")],-1)),l(j,null,{default:o(()=>[l(D,null,{default:o(()=>[l(F,null,{default:o(()=>e[5]||(e[5]=[d("Edit User")])),_:1,__:[5]})]),_:1}),l(L,null,{default:o(()=>[r("form",{onSubmit:P(k,["prevent"]),class:"space-y-6"},[r("div",T,[r("div",G,[l(p,{for:"name"},{default:o(()=>e[6]||(e[6]=[d("Name *")])),_:1,__:[6]}),_(r("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=i=>s(t).name=i),class:"w-full rounded border px-3 py-2 mt-1",required:""},null,512),[[x,s(t).name]]),s(t).errors.name?(a(),n("div",O,f(s(t).errors.name),1)):u("",!0)]),r("div",z,[l(p,{for:"email"},{default:o(()=>e[7]||(e[7]=[d("Email *")])),_:1,__:[7]}),_(r("input",{id:"email","onUpdate:modelValue":e[1]||(e[1]=i=>s(t).email=i),class:"w-full rounded border px-3 py-2 mt-1",required:""},null,512),[[x,s(t).email]]),s(t).errors.email?(a(),n("div",A,f(s(t).errors.email),1)):u("",!0)])]),r("div",H,[r("div",J,[l(p,{for:"password"},{default:o(()=>e[8]||(e[8]=[d("Password")])),_:1,__:[8]}),_(r("input",{id:"password",type:"password","onUpdate:modelValue":e[2]||(e[2]=i=>s(t).password=i),class:"w-full rounded border px-3 py-2 mt-1"},null,512),[[x,s(t).password]]),s(t).errors.password?(a(),n("div",K,f(s(t).errors.password),1)):u("",!0)]),r("div",Q,[l(p,{for:"password_confirmation"},{default:o(()=>e[9]||(e[9]=[d("Confirm Password")])),_:1,__:[9]}),_(r("input",{id:"password_confirmation",type:"password","onUpdate:modelValue":e[3]||(e[3]=i=>s(t).password_confirmation=i),class:"w-full rounded border px-3 py-2 mt-1"},null,512),[[x,s(t).password_confirmation]]),s(t).errors.password_confirmation?(a(),n("div",W,f(s(t).errors.password_confirmation),1)):u("",!0)])]),r("div",X,[r("div",Y,[l(p,{for:"profile_image"},{default:o(()=>e[10]||(e[10]=[d("Profile Image")])),_:1,__:[10]}),r("input",{id:"profile_image",type:"file",accept:"image/*",onChange:b,class:"w-full rounded border px-3 py-2 mt-1"},null,32),c.value?(a(),n("div",Z,[r("img",{src:c.value,alt:"Profile Preview",class:"h-20 w-20 object-cover rounded-full border"},null,8,ee)])):u("",!0),s(t).errors.profile_image?(a(),n("div",se,f(s(t).errors.profile_image),1)):u("",!0)])]),r("div",null,[l(p,null,{default:o(()=>e[11]||(e[11]=[d("Roles")])),_:1,__:[11]}),r("div",te,[(a(!0),n(B,null,I(m.roles,i=>(a(),n("label",{key:i.id,class:"flex items-center gap-2"},[_(r("input",{type:"checkbox",value:i.id,"onUpdate:modelValue":e[4]||(e[4]=C=>s(t).roles=C)},null,8,re),[[h,s(t).roles]]),d(" "+f(i.name),1)]))),128))]),s(t).errors.roles?(a(),n("div",oe,f(s(t).errors.roles),1)):u("",!0)]),l(M,{class:"flex gap-2 justify-end"},{default:o(()=>[l(s(g),{type:"submit",variant:"default"},{default:o(()=>e[12]||(e[12]=[d("Update")])),_:1,__:[12]}),l(s(N),{href:v.route("users.index")},{default:o(()=>[l(s(g),{type:"button",variant:"ghost"},{default:o(()=>e[13]||(e[13]=[d("Cancel")])),_:1,__:[13]})]),_:1},8,["href"])]),_:1})],32)]),_:1})]),_:1})]),_:1,__:[14]}))}});export{Ce as default};
