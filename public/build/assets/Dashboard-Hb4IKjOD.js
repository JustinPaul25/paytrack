import{d as V,r as C,c as h,a as I,o as b,u as o,w as n,b as t,e,f as R,n as j,t as a,g as _,h as P,F as D,i as F,j as te,k as se,l as ae,m as Q,v as J,W as re}from"./app-BiCwixa0.js";import{_ as le}from"./Select.vue_vue_type_script_setup_true_lang-By6A6a-p.js";import"./LocationInput.vue_vue_type_style_index_0_scoped_5601c0ff_lang-BWPt1fpK.js";import{U as oe,T as ne,P as W,D as de,_ as ie}from"./AppLayout.vue_vue_type_script_setup_true_lang-hGn2CeUN.js";import{_ as k,a as w}from"./CardContent.vue_vue_type_script_setup_true_lang-BALGLL1E.js";import{_ as B,a as T}from"./CardTitle.vue_vue_type_script_setup_true_lang-CCv22Oca.js";import{C as M,a as N,L as O,P as z,b as U,p as E,c as H,d as Z,i as G,e as Y,_ as X}from"./BaseChart.vue_vue_type_script_setup_true_lang-PpAFv6dr.js";import{T as L,F as K}from"./trending-up-qSS3kTkU.js";import{C as q}from"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-D4teGCHk.js";import{T as ue,a as ce}from"./trophy-B4p9Ue9-.js";import{C as ge}from"./clock-DKThDByS.js";import"./index-BGAd5Xxq.js";import"./RovingFocusGroup-BkEEw2sv.js";import"./VisuallyHidden-BxoVLwJH.js";import"./createLucideIcon-BpQzhPsZ.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-CnwYsNMs.js";const me={class:"flex items-center justify-between"},pe=["aria-expanded"],xe={class:"space-y-6"},fe={class:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950/20 dark:to-indigo-950/20 rounded-lg p-6"},ye={class:"flex items-center justify-between"},be={class:"text-3xl font-bold text-blue-600"},he={class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},_e={class:"text-right"},ve={class:"text-2xl font-bold text-green-600"},ke={class:"space-y-3"},we={class:"flex items-center gap-3"},$e={class:"w-8 h-8 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center"},Ce={class:"text-sm font-medium text-blue-600"},Pe={class:"font-medium text-gray-900 dark:text-gray-100"},De={class:"text-sm text-gray-600 dark:text-gray-400"},Se={class:"text-right"},Re={class:"font-semibold text-gray-900 dark:text-gray-100"},Be={class:"flex items-center gap-1 mt-1"},Te={class:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",style:{width:"60px"}},je={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},Fe={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},Le={class:"flex items-center justify-between mb-3"},Ae={class:"font-semibold text-gray-900 dark:text-gray-100"},We={class:"flex items-center gap-2"},Ve={class:"text-green-600 text-sm font-medium"},Ie=V({__name:"SalesPredictionWidget",props:{salesData:{}},setup(A){M.register(N,O,z,U,E,H,Z,G);const u=C(!0),m=h(()=>{const c=new Date;return c.setDate(c.getDate()+1),c}),f=C({predictedSales:4250,confidence:.87,nextWeekPredictions:[4250,3800,4100,3950,4600,5200,4800],nextMonthPredictions:Array.from({length:30},(c,s)=>3500+Math.random()*2e3),monthlyPrediction:125e3,monthlyGrowth:12.5}),$=h(()=>({labels:f.value.nextWeekPredictions.map((c,s)=>{const l=x(s);return p(l).split(" ")[1]}),datasets:[{label:"Predicted Sales",data:f.value.nextWeekPredictions,borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4,pointBackgroundColor:"rgb(59, 130, 246)",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:5},{label:"Confidence Range",data:f.value.nextWeekPredictions.map(c=>c*.95),borderColor:"rgba(59, 130, 246, 0.3)",backgroundColor:"rgba(59, 130, 246, 0.05)",fill:!1,tension:.4,borderDash:[5,5],pointRadius:0}]})),S=h(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:20,font:{size:12}}},tooltip:{mode:"index",intersect:!1,callbacks:{label:function(c){return`${c.dataset.label}: ${d(c.parsed.y)}`}}}},scales:{y:{beginAtZero:!1,min:3e3,max:5500,grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{callback:function(c){return d(c)},font:{size:11}}},x:{grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{font:{size:11}}}},interaction:{mode:"nearest",axis:"x",intersect:!1}})),y=h(()=>Math.max(...f.value.nextWeekPredictions));h(()=>f.value.nextWeekPredictions.map((s,l)=>{const g=l/6*100,ee=100-s/y.value*100;return`${g},${ee}`}).join(" ")),h(()=>f.value.nextWeekPredictions.map((c,s)=>{const l=s/6*100,g=100-c/y.value*100;return{x:l,y:g}}));function r(){u.value=!u.value}function d(c){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0,maximumFractionDigits:0}).format(c)}function p(c){return c.toLocaleDateString("en-US",{month:"short",day:"numeric"})}function i(c){return c.toLocaleDateString("en-US",{weekday:"short"})}function x(c){const s=new Date;return s.setDate(s.getDate()+c+1),s}function v(c){const s=Math.max(...f.value.nextWeekPredictions);return s>0?c/s*100:0}return(c,s)=>(b(),I(o(k),null,{default:n(()=>[t(o(T),null,{default:n(()=>[e("div",me,[t(o(B),{class:"flex items-center gap-2"},{default:n(()=>[t(o(L),{class:"w-5 h-5 text-blue-600"}),s[0]||(s[0]=R(" Sales Prediction "))]),_:1,__:[0]}),e("button",{onClick:r,class:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors duration-200","aria-expanded":!u.value,"aria-label":"Toggle sales prediction details"},[t(o(q),{class:j(["w-5 h-5 text-gray-500 transition-transform duration-200",{"rotate-180":!u.value}])},null,8,["class"])],8,pe)])]),_:1}),e("div",{class:j(["overflow-hidden transition-all duration-300 ease-in-out",{"max-h-0":u.value,"max-h-[2000px]":!u.value}])},[t(o(w),null,{default:n(()=>[e("div",xe,[e("div",fe,[e("div",ye,[e("div",null,[s[1]||(s[1]=e("h4",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100"}," Tomorrow's Prediction ",-1)),e("p",be,a(d(f.value.predictedSales)),1),e("p",he," Expected sales for "+a(p(m.value)),1)]),e("div",_e,[s[2]||(s[2]=e("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"Confidence",-1)),e("div",ve,a((f.value.confidence*100).toFixed(0))+"% ",1)])])]),e("div",null,[s[3]||(s[3]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"Next 7 Days Forecast",-1)),e("div",ke,[(b(!0),_(D,null,P(f.value.nextWeekPredictions,(l,g)=>(b(),_("div",{key:g,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},[e("div",we,[e("div",$e,[e("span",Ce,a(g+1),1)]),e("div",null,[e("p",Pe,a(p(x(g))),1),e("p",De,a(i(x(g))),1)])]),e("div",Se,[e("p",Re,a(d(l)),1),e("div",Be,[e("div",Te,[e("div",{class:"h-full bg-blue-500 rounded-full transition-all duration-300",style:F({width:v(l)+"%"})},null,4)])])])]))),128))])]),e("div",null,[s[4]||(s[4]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"Sales Forecast Trend",-1)),e("div",je,[t(o(Y),{data:$.value,options:S.value,height:"200px"},null,8,["data","options"])])]),e("div",null,[s[6]||(s[6]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"Monthly Trend",-1)),e("div",Fe,[e("div",Le,[s[5]||(s[5]=e("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Predicted Monthly Revenue",-1)),e("span",Ae,a(d(f.value.monthlyPrediction)),1)]),e("div",We,[t(o(L),{class:"w-4 h-4 text-green-600"}),e("span",Ve," +"+a(f.value.monthlyGrowth.toFixed(1))+"% vs current month ",1)])])]),s[7]||(s[7]=e("div",{class:"border-t pt-4"},[e("div",{class:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400"},[e("span",null,"Using sample data"),e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-2 h-2 bg-green-500 rounded-full"}),e("span",null,"Ready")])])],-1))])]),_:1})],2)]),_:1}))}}),Me={class:"flex items-center justify-between"},Ne=["aria-expanded"],Oe={class:"space-y-6"},ze={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Ue={class:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded-lg p-4"},Ee={class:"flex items-center justify-between"},He={class:"text-2xl font-bold text-red-700 dark:text-red-300"},Ze={class:"p-2 bg-red-100 dark:bg-red-900/30 rounded-full"},Ge={class:"bg-green-50 dark:bg-green-950/20 border border-green-200 dark:border-green-800 rounded-lg p-4"},Ye={class:"flex items-center justify-between"},qe={class:"text-2xl font-bold text-green-700 dark:text-green-300"},Qe={class:"p-2 bg-green-100 dark:bg-green-900/30 rounded-full"},Je={class:"bg-yellow-50 dark:bg-yellow-950/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4"},Xe={class:"flex items-center justify-between"},Ke={class:"text-2xl font-bold text-yellow-700 dark:text-yellow-300"},et={class:"p-2 bg-yellow-100 dark:bg-yellow-900/30 rounded-full"},tt={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},st={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},at={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},rt={class:"space-y-3"},lt={class:"flex items-center gap-2"},ot={class:"text-sm text-gray-700 dark:text-gray-300"},nt={class:"flex items-center gap-2"},dt={class:"w-16 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"},it={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},ut={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},ct={class:"space-y-3"},gt={class:"text-sm text-gray-700 dark:text-gray-300"},mt={class:"flex items-center gap-2"},pt={class:"w-16 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"},xt={class:"text-sm font-medium text-red-600"},ft={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},yt={class:"space-y-3"},bt={class:"flex items-center gap-3"},ht={class:"w-8 h-8 bg-yellow-100 dark:bg-yellow-900/20 rounded-full flex items-center justify-center"},_t={class:"text-sm font-medium text-yellow-600"},vt={class:"font-medium text-gray-900 dark:text-gray-100"},kt={class:"text-sm text-gray-600 dark:text-gray-400"},wt={class:"text-right"},$t={class:"text-sm font-medium text-yellow-600"},Ct={class:"text-xs text-gray-600 dark:text-gray-400"},Pt={class:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4"},Dt={class:"space-y-3"},St={class:"text-sm font-medium text-blue-900 dark:text-blue-100"},Rt={class:"text-sm text-blue-700 dark:text-blue-300"},Bt=V({__name:"CustomerChurnWidget",setup(A){M.register(N,O,z,U,E,H,Z,G);const u=C(!0),m=C({churnRate:5.2,retentionRate:94.8,atRiskCustomers:12,churnTrend:[{month:"Jul",rate:4.1},{month:"Aug",rate:3.8},{month:"Sep",rate:4.5},{month:"Oct",rate:5.2},{month:"Nov",rate:4.9},{month:"Dec",rate:5.2}],customerSegments:[{name:"High Value",percentage:25,color:"#10B981"},{name:"Medium Value",percentage:45,color:"#3B82F6"},{name:"Low Value",percentage:20,color:"#F59E0B"},{name:"New Customers",percentage:10,color:"#8B5CF6"}],churnBySegment:[{name:"High Value",churnRate:2.1},{name:"Medium Value",churnRate:4.8},{name:"Low Value",churnRate:8.5},{name:"New Customers",churnRate:12.3}],atRiskCustomerList:[{id:1,name:"ABC Company",lastPurchase:"Dec 15, 2024",riskLevel:"High",daysSincePurchase:45},{id:2,name:"XYZ Corporation",lastPurchase:"Dec 20, 2024",riskLevel:"Medium",daysSincePurchase:40},{id:3,name:"Tech Solutions Inc",lastPurchase:"Dec 18, 2024",riskLevel:"High",daysSincePurchase:42},{id:4,name:"Office Plus",lastPurchase:"Dec 22, 2024",riskLevel:"Low",daysSincePurchase:38}],recommendations:[{id:1,title:"Implement Customer Success Program",description:"Focus on high-value customers with personalized outreach and support."},{id:2,title:"Launch Re-engagement Campaign",description:"Target at-risk customers with special offers and personalized content."},{id:3,title:"Improve Onboarding Process",description:"Reduce new customer churn by enhancing the first 30-day experience."}]}),f=h(()=>({labels:m.value.churnTrend.map(y=>y.month),datasets:[{label:"Churn Rate",data:m.value.churnTrend.map(y=>y.rate),borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.1)",fill:!0,tension:.4,pointBackgroundColor:"rgb(239, 68, 68)",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:5},{label:"Retention Rate",data:m.value.churnTrend.map(y=>100-y.rate),borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.1)",fill:!1,tension:.4,borderDash:[5,5],pointBackgroundColor:"rgb(34, 197, 94)",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:4}]})),$=h(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:20,font:{size:12}}},tooltip:{mode:"index",intersect:!1,callbacks:{label:function(y){return`${y.dataset.label}: ${y.parsed.y.toFixed(1)}%`}}}},scales:{y:{beginAtZero:!0,max:15,grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{callback:function(y){return y+"%"},font:{size:11}}},x:{grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{font:{size:11}}}},interaction:{mode:"nearest",axis:"x",intersect:!1}}));h(()=>m.value.churnTrend.map((r,d)=>{const p=d/5*100,i=100-r.rate/8*100;return`${p},${i}`}).join(" ")),h(()=>m.value.churnTrend.map((y,r)=>{const d=r/5*100,p=100-y.rate/8*100;return{x:d,y:p}}));function S(){u.value=!u.value}return(y,r)=>(b(),I(o(k),null,{default:n(()=>[t(o(T),null,{default:n(()=>[e("div",Me,[t(o(B),{class:"flex items-center gap-2"},{default:n(()=>[t(o(oe),{class:"w-5 h-5 text-red-600"}),r[0]||(r[0]=R(" Customer Churn Analysis "))]),_:1,__:[0]}),e("button",{onClick:S,class:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors duration-200","aria-expanded":!u.value,"aria-label":"Toggle customer churn details"},[t(o(q),{class:j(["w-5 h-5 text-gray-500 transition-transform duration-200",{"rotate-180":!u.value}])},null,8,["class"])],8,Ne)])]),_:1}),e("div",{class:j(["overflow-hidden transition-all duration-300 ease-in-out",{"max-h-0":u.value,"max-h-[2000px]":!u.value}])},[t(o(w),null,{default:n(()=>[e("div",Oe,[e("div",ze,[e("div",Ue,[e("div",Ee,[e("div",null,[r[1]||(r[1]=e("p",{class:"text-sm font-medium text-red-600 dark:text-red-400"},"Churn Rate",-1)),e("p",He,a(m.value.churnRate)+"% ",1)]),e("div",Ze,[t(o(ne),{class:"w-5 h-5 text-red-600"})])]),r[2]||(r[2]=e("p",{class:"text-xs text-red-600 dark:text-red-400 mt-1"}," Last 30 days ",-1))]),e("div",Ge,[e("div",Ye,[e("div",null,[r[3]||(r[3]=e("p",{class:"text-sm font-medium text-green-600 dark:text-green-400"},"Retention Rate",-1)),e("p",qe,a(m.value.retentionRate)+"% ",1)]),e("div",Qe,[t(o(L),{class:"w-5 h-5 text-green-600"})])]),r[4]||(r[4]=e("p",{class:"text-xs text-green-600 dark:text-green-400 mt-1"}," Last 30 days ",-1))]),e("div",Je,[e("div",Xe,[e("div",null,[r[5]||(r[5]=e("p",{class:"text-sm font-medium text-yellow-600 dark:text-yellow-400"},"At Risk",-1)),e("p",Ke,a(m.value.atRiskCustomers),1)]),e("div",et,[t(o(ue),{class:"w-5 h-5 text-yellow-600"})])]),r[6]||(r[6]=e("p",{class:"text-xs text-yellow-600 dark:text-yellow-400 mt-1"}," Need attention ",-1))])]),e("div",null,[r[7]||(r[7]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"Churn Trend (Last 6 Months)",-1)),e("div",tt,[t(o(Y),{data:f.value,options:$.value,height:"200px"},null,8,["data","options"])])]),e("div",null,[r[10]||(r[10]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"Customer Segments",-1)),e("div",st,[e("div",at,[r[8]||(r[8]=e("h5",{class:"font-medium text-gray-900 dark:text-gray-100 mb-3"},"Segment Distribution",-1)),e("div",rt,[(b(!0),_(D,null,P(m.value.customerSegments,d=>(b(),_("div",{key:d.name,class:"flex items-center justify-between"},[e("div",lt,[e("div",{class:"w-3 h-3 rounded-full",style:F({backgroundColor:d.color})},null,4),e("span",ot,a(d.name),1)]),e("div",nt,[e("div",dt,[e("div",{class:"h-full rounded-full transition-all duration-300",style:F({width:d.percentage+"%",backgroundColor:d.color})},null,4)]),e("span",it,a(d.percentage)+"% ",1)])]))),128))])]),e("div",ut,[r[9]||(r[9]=e("h5",{class:"font-medium text-gray-900 dark:text-gray-100 mb-3"},"Churn by Segment",-1)),e("div",ct,[(b(!0),_(D,null,P(m.value.churnBySegment,d=>(b(),_("div",{key:d.name,class:"flex items-center justify-between"},[e("span",gt,a(d.name),1),e("div",mt,[e("div",pt,[e("div",{class:"h-full bg-red-500 rounded-full transition-all duration-300",style:F({width:d.churnRate+"%"})},null,4)]),e("span",xt,a(d.churnRate)+"% ",1)])]))),128))])])])]),e("div",null,[r[11]||(r[11]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"At-Risk Customers",-1)),e("div",ft,[e("div",yt,[(b(!0),_(D,null,P(m.value.atRiskCustomerList,d=>(b(),_("div",{key:d.id,class:"flex items-center justify-between p-3 bg-white dark:bg-gray-700 rounded-lg border border-yellow-200 dark:border-yellow-800"},[e("div",bt,[e("div",ht,[e("span",_t,a(d.name.charAt(0)),1)]),e("div",null,[e("p",vt,a(d.name),1),e("p",kt," Last purchase: "+a(d.lastPurchase),1)])]),e("div",wt,[e("p",$t,a(d.riskLevel),1),e("p",Ct,a(d.daysSincePurchase)+" days ago ",1)])]))),128))])])]),e("div",null,[r[13]||(r[13]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"Recommendations",-1)),e("div",Pt,[e("div",Dt,[(b(!0),_(D,null,P(m.value.recommendations,d=>(b(),_("div",{key:d.id,class:"flex items-start gap-3"},[r[12]||(r[12]=e("div",{class:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"},null,-1)),e("div",null,[e("p",St,a(d.title),1),e("p",Rt,a(d.description),1)])]))),128))])])]),r[14]||(r[14]=e("div",{class:"border-t pt-4"},[e("div",{class:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400"},[e("span",null,"Using sample data"),e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-2 h-2 bg-green-500 rounded-full"}),e("span",null,"Ready")])])],-1))])]),_:1})],2)]),_:1}))}}),Tt={class:"flex items-center justify-between"},jt=["aria-expanded"],Ft={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"},Lt={class:"bg-indigo-50 dark:bg-indigo-950/20 border border-indigo-200 dark:border-indigo-800 rounded-lg p-4"},At={class:"flex items-center justify-between"},Wt={class:"bg-emerald-50 dark:bg-emerald-950/20 border border-emerald-200 dark:border-emerald-800 rounded-lg p-4"},Vt={class:"flex items-center justify-between"},It={class:"bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4"},Mt={class:"flex items-center justify-between"},Nt={class:"mb-6"},Ot={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},zt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ut={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},Et={class:"space-y-3"},Ht={class:"flex items-center gap-3"},Zt={class:"w-8 h-8 bg-indigo-100 dark:bg-indigo-900/20 rounded-full flex items-center justify-center"},Gt={class:"text-sm font-medium text-indigo-600"},Yt={class:"font-medium text-gray-900 dark:text-gray-100"},qt={class:"text-sm text-gray-600 dark:text-gray-400"},Qt={class:"text-right"},Jt={class:"font-semibold text-gray-900 dark:text-gray-100"},Xt={class:"text-sm text-gray-600 dark:text-gray-400"},Kt={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},es={class:"space-y-3"},ts={class:"flex items-center gap-2"},ss={class:"text-sm text-gray-700 dark:text-gray-300"},as={class:"flex items-center gap-2"},rs={class:"w-16 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"},ls={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},os=V({__name:"ProductSalesTrendWidget",setup(A){M.register(N,O,z,U,E,H,Z,G);const u=C(!0),m=[{day:"Mon",sales:245},{day:"Tue",sales:312},{day:"Wed",sales:289},{day:"Thu",sales:356},{day:"Fri",sales:298},{day:"Sat",sales:378},{day:"Sun",sales:234}],f=h(()=>({labels:m.map(p=>p.day),datasets:[{label:"Daily Sales",data:m.map(p=>p.sales),borderColor:"rgb(99, 102, 241)",backgroundColor:"rgba(99, 102, 241, 0.1)",fill:!0,tension:.4,pointBackgroundColor:"rgb(99, 102, 241)",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:5},{label:"Average Trend",data:m.map(()=>300),borderColor:"rgb(156, 163, 175)",backgroundColor:"rgba(156, 163, 175, 0.05)",fill:!1,tension:0,borderDash:[10,5],pointRadius:0}]})),$=h(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:20,font:{size:12}}},tooltip:{mode:"index",intersect:!1,callbacks:{label:function(p){return p.datasetIndex===0?`${p.dataset.label}: ${p.parsed.y} units`:`${p.dataset.label}: ${p.parsed.y} units`}}}},scales:{y:{beginAtZero:!0,min:0,max:400,grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{stepSize:100,font:{size:11}}},x:{grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{font:{size:11}}}},interaction:{mode:"nearest",axis:"x",intersect:!1}})),S=[{name:"Ink Cartridge",category:"Printing",units:1247,revenue:187500},{name:"Paper A4",category:"Office",units:892,revenue:16e4},{name:"USB Cable",category:"Electronics",units:756,revenue:9e4},{name:"Mouse Wireless",category:"Electronics",units:634,revenue:72e3}],y=[{name:"High Performance",percentage:35,color:"#10B981"},{name:"Medium Performance",percentage:45,color:"#3B82F6"},{name:"Low Performance",percentage:20,color:"#F59E0B"}];h(()=>m.map((i,x)=>{const v=x/(m.length-1)*100,c=0,l=100-((i.sales-c)/(400-c)*80+10);return`${v},${l}`}).join(" ")),h(()=>m.map((p,i)=>{const x=i/(m.length-1)*100,v=0,s=100-((p.sales-v)/(400-v)*80+10);return{x,y:s}}));function r(){u.value=!u.value}function d(p){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0,maximumFractionDigits:0}).format(p)}return(p,i)=>(b(),I(o(k),null,{default:n(()=>[t(o(T),null,{default:n(()=>[e("div",Tt,[t(o(B),{class:"flex items-center gap-2"},{default:n(()=>[t(o(W),{class:"w-5 h-5 text-indigo-600"}),i[0]||(i[0]=R(" Product Sales Trend "))]),_:1,__:[0]}),e("button",{onClick:r,class:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors duration-200","aria-expanded":!u.value,"aria-label":"Toggle product sales trend details"},[t(o(q),{class:j(["w-5 h-5 text-gray-500 transition-transform duration-200",{"rotate-180":!u.value}])},null,8,["class"])],8,jt)])]),_:1}),e("div",{class:j(["overflow-hidden transition-all duration-300 ease-in-out",{"max-h-0":u.value,"max-h-[2000px]":!u.value}])},[t(o(w),null,{default:n(()=>[e("div",Ft,[e("div",Lt,[e("div",At,[i[1]||(i[1]=e("div",null,[e("p",{class:"text-sm font-medium text-indigo-600 dark:text-indigo-400"},"Total Products Sold"),e("p",{class:"text-2xl font-bold text-indigo-700 dark:text-indigo-300"},"8,456")],-1)),t(o(W),{class:"w-8 h-8 text-indigo-600"})]),i[2]||(i[2]=e("p",{class:"text-xs text-indigo-600 dark:text-indigo-400 mt-1"},"+15% from last month",-1))]),e("div",Wt,[e("div",Vt,[i[3]||(i[3]=e("div",null,[e("p",{class:"text-sm font-medium text-emerald-600 dark:text-emerald-400"},"Top Product"),e("p",{class:"text-lg font-bold text-emerald-700 dark:text-emerald-300"},"Ink Cartridge")],-1)),t(o(ce),{class:"w-8 h-8 text-emerald-600"})]),i[4]||(i[4]=e("p",{class:"text-xs text-emerald-600 dark:text-emerald-400 mt-1"},"1,247 units sold",-1))]),e("div",It,[e("div",Mt,[i[5]||(i[5]=e("div",null,[e("p",{class:"text-sm font-medium text-amber-600 dark:text-amber-400"},"Avg Daily Sales"),e("p",{class:"text-2xl font-bold text-amber-700 dark:text-amber-300"},"282")],-1)),t(o(L),{class:"w-8 h-8 text-amber-600"})]),i[6]||(i[6]=e("p",{class:"text-xs text-amber-600 dark:text-amber-400 mt-1"},"+8% from last week",-1))])]),e("div",Nt,[i[7]||(i[7]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"Product Sales Trend (Last 7 Days)",-1)),e("div",Ot,[t(o(Y),{data:f.value,options:$.value,height:"200px"},null,8,["data","options"])])]),e("div",zt,[e("div",null,[i[8]||(i[8]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"Top Selling Products",-1)),e("div",Ut,[e("div",Et,[(b(),_(D,null,P(S,x=>e("div",{key:x.name,class:"flex items-center justify-between"},[e("div",Ht,[e("div",Zt,[e("span",Gt,a(x.name.charAt(0)),1)]),e("div",null,[e("p",Yt,a(x.name),1),e("p",qt,a(x.category),1)])]),e("div",Qt,[e("p",Jt,a(x.units)+" units",1),e("p",Xt,a(d(x.revenue)),1)])])),64))])])]),e("div",null,[i[9]||(i[9]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"Product Performance",-1)),e("div",Kt,[e("div",es,[(b(),_(D,null,P(y,x=>e("div",{key:x.name,class:"flex items-center justify-between"},[e("div",ts,[e("div",{class:"w-3 h-3 rounded-full",style:F({backgroundColor:x.color})},null,4),e("span",ss,a(x.name),1)]),e("div",as,[e("div",rs,[e("div",{class:"h-full rounded-full transition-all duration-300",style:F({width:x.percentage+"%",backgroundColor:x.color})},null,4)]),e("span",ls,a(x.percentage)+"%",1)])])),64))])])])]),i[10]||(i[10]=e("div",{class:"border-t pt-4 mt-6"},[e("div",{class:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400"},[e("span",null,"Using sample data"),e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-2 h-2 bg-green-500 rounded-full"}),e("span",null,"Ready")])])],-1))]),_:1,__:[10]})],2)]),_:1}))}}),ns={class:"flex items-center justify-between mb-6"},ds={class:"flex gap-4 items-center"},is={class:"w-48"},us={key:0,class:"flex gap-2"},cs={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},gs={class:"flex items-center justify-between"},ms={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},ps={class:"p-3 bg-blue-100 dark:bg-blue-900/20 rounded-full"},xs={class:"flex items-center justify-between"},fs={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},ys={class:"p-3 bg-green-100 dark:bg-green-900/20 rounded-full"},bs={class:"flex items-center justify-between"},hs={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},_s={class:"p-3 bg-yellow-100 dark:bg-yellow-900/20 rounded-full"},vs={class:"flex items-center justify-between"},ks={class:"text-2xl font-bold text-gray-900 dark:text-gray-100"},ws={class:"p-3 bg-orange-100 dark:bg-orange-900/20 rounded-full"},$s={class:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8"},Cs={class:"lg:col-span-2"},Ps={class:"lg:col-span-1 space-y-6"},Ds={class:"mb-8"},Ss={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"},Rs={class:"overflow-x-auto"},Bs={class:"w-full"},Ts={class:"py-3 px-4 font-medium"},js={class:"py-3 px-4 text-right"},Fs={class:"py-3 px-4 text-right font-semibold text-green-600"},Ls={class:"overflow-x-auto"},As={class:"w-full"},Ws={class:"py-3 px-4"},Vs=["href"],Is={class:"py-3 px-4"},Ms={class:"py-3 px-4 text-right font-semibold"},Ns={class:"py-3 px-4 text-center"},aa=V({__name:"Dashboard",props:{salesData:{},topProducts:{},salesByDate:{},salesByCategory:{},recentInvoices:{},filters:{}},setup(A){const u=A,m=C(u.filters.period),f=C(u.filters.start_date),$=C(u.filters.end_date),S=[{title:"Dashboard",href:"/dashboard"}],y=[{value:"week",label:"Last Week"},{value:"month",label:"Last Month"},{value:"quarter",label:"Last Quarter"},{value:"year",label:"Last Year"},{value:"custom",label:"Custom Range"}];function r(){re.get("/dashboard",{period:m.value,start_date:f.value,end_date:$.value},{preserveState:!0,replace:!0})}te([m,f,$],()=>{r()});const d=h(()=>({labels:u.salesByDate.map(s=>new Date(s.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})),datasets:[{label:"Daily Sales",data:u.salesByDate.map(s=>s.sales),borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4},{label:"Invoices",data:u.salesByDate.map(s=>s.invoices),borderColor:"rgb(16, 185, 129)",backgroundColor:"rgba(16, 185, 129, 0.1)",fill:!1,tension:.4,yAxisID:"y1"}]})),p=h(()=>({plugins:{title:{display:!0,text:"Sales Trend"},legend:{position:"top"}},scales:{y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"Sales Amount (₱)"}},y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:"Number of Invoices"},grid:{drawOnChartArea:!1}}}})),i=h(()=>({labels:u.salesByCategory.map(s=>s.category_name),datasets:[{data:u.salesByCategory.map(s=>s.total_revenue),backgroundColor:["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16","#F97316","#EC4899","#6366F1"],borderWidth:2,borderColor:"#ffffff"}]})),x=h(()=>({plugins:{title:{display:!0,text:"Sales by Category"},legend:{position:"bottom"}}}));h(()=>({labels:u.topProducts.map(s=>s.name),datasets:[{label:"Revenue",data:u.topProducts.map(s=>s.total_revenue),backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgb(59, 130, 246)",borderWidth:1}]})),h(()=>({plugins:{title:{display:!0,text:"Top Products by Revenue"},legend:{display:!1}},scales:{y:{title:{display:!0,text:"Revenue (₱)"}}}}));function v(s){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(s)}return C(!1),[{id:1,title:"New Order Received",message:"Order #1234 has been placed for ₱2,500",time:"2 minutes ago",type:"order",read:!1},{id:2,title:"Low Stock Alert",message:"Ink (brother 500 C, Cyan) is running low on stock",time:"15 minutes ago",type:"alert",read:!1},{id:3,title:"Sales Target Achieved",message:"Congratulations! You've reached 85% of your monthly sales target",time:"1 hour ago",type:"success",read:!0},{id:4,title:"Payment Received",message:"Payment of ₱1,800 has been received for Invoice #5678",time:"2 hours ago",type:"payment",read:!0}].filter(s=>!s.read).length,(s,l)=>(b(),I(ie,{breadcrumbs:S},{default:n(()=>[t(o(se),{title:"Dashboard"}),e("div",ns,[l[3]||(l[3]=e("h1",{class:"text-2xl font-bold"},"Dashboard",-1)),e("div",ds,[e("div",is,[t(o(le),{modelValue:m.value,"onUpdate:modelValue":l[0]||(l[0]=g=>m.value=g),options:y,placeholder:"Select period"},null,8,["modelValue"])]),m.value==="custom"?(b(),_("div",us,[Q(e("input",{"onUpdate:modelValue":l[1]||(l[1]=g=>f.value=g),type:"date",class:"px-3 py-2 border rounded-md"},null,512),[[J,f.value]]),Q(e("input",{"onUpdate:modelValue":l[2]||(l[2]=g=>$.value=g),type:"date",class:"px-3 py-2 border rounded-md"},null,512),[[J,$.value]])])):ae("",!0)])]),e("div",cs,[t(k,null,{default:n(()=>[t(w,{class:"p-6"},{default:n(()=>[e("div",gs,[e("div",null,[l[4]||(l[4]=e("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Total Sales",-1)),e("p",ms,a(v(s.salesData.total_sales)),1)]),e("div",ps,[t(o(de),{class:"w-6 h-6 text-blue-600"})])])]),_:1})]),_:1}),t(k,null,{default:n(()=>[t(w,{class:"p-6"},{default:n(()=>[e("div",xs,[e("div",null,[l[5]||(l[5]=e("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Total Invoices",-1)),e("p",fs,a(s.salesData.total_invoices),1)]),e("div",ys,[t(o(K),{class:"w-6 h-6 text-green-600"})])])]),_:1})]),_:1}),t(k,null,{default:n(()=>[t(w,{class:"p-6"},{default:n(()=>[e("div",bs,[e("div",null,[l[6]||(l[6]=e("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Average Order Value",-1)),e("p",hs,a(v(s.salesData.average_order_value)),1)]),e("div",_s,[t(o(L),{class:"w-6 h-6 text-yellow-600"})])])]),_:1})]),_:1}),t(k,null,{default:n(()=>[t(w,{class:"p-6"},{default:n(()=>[e("div",vs,[e("div",null,[l[7]||(l[7]=e("p",{class:"text-sm font-medium text-gray-600 dark:text-gray-400"},"Pending Invoices",-1)),e("p",ks,a(s.salesData.pending_invoices),1)]),e("div",ws,[t(o(ge),{class:"w-6 h-6 text-orange-600"})])])]),_:1})]),_:1})]),e("div",$s,[e("div",Cs,[t(k,null,{default:n(()=>[t(T,null,{default:n(()=>[t(B,{class:"flex items-center gap-2"},{default:n(()=>[t(o(L),{class:"w-5 h-5 text-blue-600"}),l[8]||(l[8]=R(" Sales Performance Overview "))]),_:1,__:[8]})]),_:1}),t(w,null,{default:n(()=>[t(X,{type:"line",data:d.value,options:p.value,height:"350px"},null,8,["data","options"])]),_:1})]),_:1})]),e("div",Ps,[t(Ie,{"sales-data":s.salesByDate},null,8,["sales-data"]),t(Bt),t(os)])]),e("div",Ds,[t(k,null,{default:n(()=>[t(T,null,{default:n(()=>[t(B,{class:"flex items-center gap-2"},{default:n(()=>[t(o(W),{class:"w-5 h-5 text-green-600"}),l[9]||(l[9]=R(" Revenue by Product Category "))]),_:1,__:[9]})]),_:1}),t(w,null,{default:n(()=>[t(X,{type:"doughnut",data:i.value,options:x.value,height:"300px"},null,8,["data","options"])]),_:1})]),_:1})]),e("div",Ss,[t(k,null,{default:n(()=>[t(T,null,{default:n(()=>[t(B,{class:"flex items-center gap-2"},{default:n(()=>[t(o(W),{class:"w-5 h-5 text-indigo-600"}),l[10]||(l[10]=R(" Top Performing Products "))]),_:1,__:[10]})]),_:1}),t(w,null,{default:n(()=>[e("div",Rs,[e("table",Bs,[l[11]||(l[11]=e("thead",null,[e("tr",{class:"border-b"},[e("th",{class:"text-left py-3 px-4 font-medium"},"Product"),e("th",{class:"text-right py-3 px-4 font-medium"},"Quantity Sold"),e("th",{class:"text-right py-3 px-4 font-medium"},"Revenue Generated")])],-1)),e("tbody",null,[(b(!0),_(D,null,P(s.topProducts,g=>(b(),_("tr",{key:g.id,class:"border-b hover:bg-gray-50 dark:hover:bg-gray-800"},[e("td",Ts,a(g.name),1),e("td",js,a(g.total_quantity.toLocaleString()),1),e("td",Fs,a(v(g.total_revenue)),1)]))),128))])])])]),_:1})]),_:1}),t(k,null,{default:n(()=>[t(T,null,{default:n(()=>[t(B,{class:"flex items-center gap-2"},{default:n(()=>[t(o(K),{class:"w-5 h-5 text-purple-600"}),l[12]||(l[12]=R(" Recent Transaction Activity "))]),_:1,__:[12]})]),_:1}),t(w,null,{default:n(()=>[e("div",Ls,[e("table",As,[l[13]||(l[13]=e("thead",null,[e("tr",{class:"border-b"},[e("th",{class:"text-left py-3 px-4 font-medium"},"Invoice #"),e("th",{class:"text-left py-3 px-4 font-medium"},"Customer"),e("th",{class:"text-right py-3 px-4 font-medium"},"Amount"),e("th",{class:"text-center py-3 px-4 font-medium"},"Status")])],-1)),e("tbody",null,[(b(!0),_(D,null,P(s.recentInvoices,g=>(b(),_("tr",{key:g.id,class:"border-b hover:bg-gray-50 dark:hover:bg-gray-800"},[e("td",Ws,[e("a",{href:`/invoices/${g.id}`,class:"text-blue-600 hover:underline font-medium"}," #"+a(g.id),9,Vs)]),e("td",Is,a(g.customer_name),1),e("td",Ms,a(v(g.total_amount)),1),e("td",Ns,[e("span",{class:j({"px-3 py-1 text-xs rounded-full font-medium":!0,"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":g.status==="paid","bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400":g.status==="pending","bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400":g.status==="cancelled"})},a(g.status.charAt(0).toUpperCase()+g.status.slice(1)),3)])]))),128))])])])]),_:1})]),_:1})])]),_:1}))}});export{aa as default};
