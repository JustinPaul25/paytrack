import{d as Q,v as U,m as W,c as _,o as i,w as d,a as p,b as t,e as l,f as r,u as n,g as Y,t as a,h as m,W as g,F as S,r as q,S as k,n as A}from"./app-qA0CnBWe.js";import{_ as G}from"./AppLayout.vue_vue_type_script_setup_true_lang-BLollNnU.js";import{_ as P,a as z}from"./CardContent.vue_vue_type_script_setup_true_lang-DFxNC8fq.js";import{_ as D,a as j}from"./CardTitle.vue_vue_type_script_setup_true_lang-PsohhGio.js";import{_ as f}from"./index-DKsLgjKN.js";import{_ as J,a as O,b as N,c as T}from"./TabsContent.vue_vue_type_script_setup_true_lang-DrOiyRZI.js";import{S as h}from"./sweetalert2.esm.all-BQIkj5Wb.js";import"./LocationInput.vue_vue_type_style_index_0_scoped_85568d9b_lang-C02RUasq.js";import"./useForwardPropsEmits-CwUzb49y.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-CLRWpV5h.js";import"./Teleport-DIfWgdf9.js";import"./RovingFocusGroup-gU1KHB92.js";import"./VisuallyHidden-qt70HzaR.js";import"./DialogPortal-BX8gIO6T.js";import"./x-Da1o-ysX.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-B1dhHsl6.js";import"./chevron-down-CCBk2xD7.js";import"./chevron-right-r24-WVSv.js";import"./RovingFocusItem-4Q8hBv91.js";const X={class:"flex items-center justify-between my-6"},Z={class:"text-2xl font-bold"},ee={class:"flex items-center justify-between"},te=["value"],se={key:0,class:"py-8 text-center text-sm text-gray-500"},oe={key:0},ie={class:"mt-3"},ne={key:1},le={key:1},ae={class:"min-w-full divide-y divide-border"},re={key:0,class:"px-4 py-2 text-left"},de={class:"px-4 py-2"},ue={class:"flex items-center gap-2"},pe={class:"font-medium"},me={key:0,class:"px-2 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",title:"Damaged items"},ce={key:0,class:"text-xs text-gray-500 truncate max-w-64"},ve={class:"px-4 py-2"},fe={key:1,class:"text-sm"},xe={key:0,class:"px-4 py-2"},_e={class:"text-sm"},ge={key:0,class:"text-xs text-gray-500"},ye={class:"px-4 py-2"},be={class:"px-4 py-2"},ke={class:"px-4 py-2 text-sm text-gray-500"},he={class:"px-4 py-2"},we={class:"flex gap-2"},Ce={class:"flex items-center justify-between"},Re=["value"],Se={key:0,class:"py-8 text-center text-sm text-gray-500"},qe={key:0},Ae={class:"mt-3"},$e={key:1},Be={key:1},Ie={class:"min-w-full divide-y divide-border"},Pe={class:"px-4 py-2 font-medium"},ze={class:"px-4 py-2"},De={class:"px-4 py-2"},je={class:"flex items-center gap-2"},Ne={key:0,class:"px-2 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",title:"Damaged items will not be returned to stock"},Te={class:"px-4 py-2"},Ee={class:"px-4 py-2 font-medium"},Le={class:"px-4 py-2"},Ve={class:"px-4 py-2"},Me={class:"flex gap-2"},Fe={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},He={class:"relative bg-background rounded-lg shadow-lg w-full max-w-3xl max-h-[90vh] overflow-y-auto p-6"},Ke={class:"flex items-center justify-between mb-6 border-b pb-4"},Qe={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ue={class:"space-y-4"},We={class:"font-semibold text-lg"},Ye={key:0},Ge={key:1,class:"font-medium"},Je={key:0,class:"mt-1 text-sm text-gray-600"},Oe={key:0},Xe={key:1},Ze={class:"font-medium"},et={class:"space-y-1"},tt={class:"font-medium"},st={key:0,class:"text-sm text-gray-600"},ot={key:1,class:"text-sm text-gray-600"},it={class:"text-sm"},nt={key:0,class:"text-xs text-gray-500 mt-1"},lt={class:"space-y-4"},at={key:0},rt={class:"font-medium"},dt={key:0,class:"mt-1 text-sm text-gray-600 space-y-1"},ut={key:0},pt={class:"font-medium text-lg"},mt={key:1},ct={class:"font-medium text-lg text-green-600"},vt={key:2},ft={class:"whitespace-pre-wrap text-sm bg-gray-50 p-3 rounded-md border"},xt={key:3},_t={class:"whitespace-pre-wrap text-sm bg-gray-50 p-3 rounded-md border"},gt={key:4},yt={class:"whitespace-pre-wrap text-sm bg-blue-50 p-3 rounded-md border border-blue-200"},bt={key:5},kt={class:"grid grid-cols-2 md:grid-cols-3 gap-2 mt-2"},ht=["href"],wt=["src","alt"],Ct={key:6},Rt=["href"],St={key:7},qt={key:8},At={class:"whitespace-pre-wrap text-sm bg-yellow-50 p-3 rounded-md border border-yellow-200"},$t={key:9},Bt={class:"text-sm font-medium text-green-600"},It={class:"mt-6 pt-4 border-t flex justify-end gap-2"},Xt=Q({__name:"Index",setup(Pt){var $,B,I;function w(u){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(u)}const v=U(),y=v.props.filters||{},C=Array.isArray(($=v.props.auth)==null?void 0:$.userRoles)&&v.props.auth.userRoles.includes("Customer"),E=Array.isArray((B=v.props.auth)==null?void 0:B.userRoles)&&v.props.auth.userRoles.includes("Admin"),L=Array.isArray((I=v.props.auth)==null?void 0:I.userRoles)&&v.props.auth.userRoles.includes("Staff"),b=E||L,o=W(null);function V(u){h.fire({title:"Approve this refund request?",icon:"question",showCancelButton:!0,confirmButtonText:"Approve",confirmButtonColor:"#10b981",input:"textarea",inputLabel:"Approval notes (optional)",inputPlaceholder:"Notes for this approval...",inputAttributes:{"aria-label":"Approval notes (optional)"}}).then(e=>{e.isConfirmed&&g.post(route("refundRequests.approve",u),{review_notes:e.value||void 0},{preserveScroll:!0})})}function M(u){h.fire({title:"Decline this refund request?",text:"This will mark the request as rejected. You can't undo this.",icon:"warning",showCancelButton:!0,confirmButtonText:"Decline",confirmButtonColor:"#ef4444",input:"textarea",inputLabel:"Reason (required)",inputPlaceholder:"Provide a reason for declining...",inputAttributes:{"aria-label":"Reason (required)"},inputValidator:e=>{if(!e||!e.trim())return"Please provide a brief reason."}}).then(e=>{e.isConfirmed&&g.post(route("refundRequests.reject",u),{review_notes:e.value},{preserveScroll:!0})})}function F(u){h.fire({title:"Mark as Processed",html:`
        <div style="text-align:left">
            <label style="display:block;margin-bottom:4px;font-size:12px">Method</label>
            <select id="method" class="swal2-input" style="width:100%">
                <option value="cash">cash</option>
                <option value="bank_transfer">bank_transfer</option>
                <option value="e-wallet">e-wallet</option>
                <option value="credit_note">credit_note</option>
            </select>
            <label style="display:block;margin:10px 0 4px;font-size:12px">Reference #</label>
            <input id="ref" class="swal2-input" placeholder="Reference number (optional)" />
            <label style="display:block;margin:10px 0 4px;font-size:12px">Notes</label>
            <textarea id="notes" class="swal2-textarea" placeholder="Notes (optional)"></textarea>
        </div>
        `,showCancelButton:!0,confirmButtonText:"Save",preConfirm:()=>{const e=document.getElementById("method").value,x=document.getElementById("ref").value,s=document.getElementById("notes").value;return{refund_method:e,reference_number:x||void 0,notes:s||void 0}}}).then(e=>{e.isConfirmed&&g.post(route("refunds.process",u),e.value,{preserveScroll:!0})})}function H(u){const e=v.props.refunds.data.find(s=>s.id===u),x=(e==null?void 0:e.is_damaged)??!1;h.fire({title:"Complete refund",html:`
        <div style="text-align:left">
            ${x?'<div style="background:#fef3c7;border:1px solid #fbbf24;padding:8px;border-radius:4px;margin-bottom:12px;font-size:13px;color:#92400e;"><strong>⚠️ Damaged Items:</strong> These items will not be returned to inventory stock.</div>':""}
            <label style="display:flex;align-items:center;gap:8px;">
                <input id="return" type="checkbox" ${x?"":"checked"} ${x?"disabled":""} />
                Return to stock
            </label>
            ${x?'<p style="font-size:11px;color:#6b7280;margin-top:4px;margin-left:24px;">Disabled for damaged items</p>':""}
            <label style="display:block;margin:10px 0 4px;font-size:12px">Inspection notes</label>
            <textarea id="notes" class="swal2-textarea" placeholder="Notes (optional)"></textarea>
        </div>
        `,showCancelButton:!0,confirmButtonText:"Complete",confirmButtonColor:"#10b981",preConfirm:()=>{const s=x?!1:document.getElementById("return").checked,c=document.getElementById("notes").value;return{return_to_stock:s,notes:c||void 0}}}).then(s=>{s.isConfirmed&&g.post(route("refunds.complete",u),s.value,{preserveScroll:!0})})}function K(u){h.fire({title:"Cancel this refund?",text:"This will mark the refund as cancelled. A short reason is required.",icon:"warning",showCancelButton:!0,confirmButtonText:"Cancel refund",confirmButtonColor:"#ef4444",input:"textarea",inputLabel:"Reason (required)",inputPlaceholder:"Provide a brief reason...",inputAttributes:{"aria-label":"Reason (required)"},inputValidator:e=>{if(!e||!e.trim())return"Please provide a brief reason."}}).then(e=>{e.isConfirmed&&g.post(route("refunds.cancel",u),{review_notes:e.value},{preserveScroll:!0})})}return(u,e)=>(i(),_(G,null,{default:d(()=>{var x;return[p(n(Y),{title:"Refunds"}),t("div",X,[t("h1",Z,a(n(C)?"My Refunds":"Refunds"),1)]),p(n(J),{"default-value":"requests",class:"w-full"},{default:d(()=>[p(n(O),{class:"grid w-full grid-cols-2"},{default:d(()=>[p(n(N),{value:"requests"},{default:d(()=>e[8]||(e[8]=[m("Refund Requests")])),_:1,__:[8]}),p(n(N),{value:"refunds"},{default:d(()=>e[9]||(e[9]=[m("Refunds")])),_:1,__:[9]})]),_:1}),p(n(T),{value:"requests"},{default:d(()=>[p(P,null,{default:d(()=>[p(D,null,{default:d(()=>[t("div",ee,[p(j,null,{default:d(()=>e[10]||(e[10]=[m("Refund Requests")])),_:1,__:[10]}),t("select",{class:"rounded-md border border-input bg-background px-3 py-2 text-sm",value:n(y).status||"all",onChange:e[0]||(e[0]=s=>{const c=s.target.value==="all"?"":s.target.value;n(g).get(u.route("refundRequests.index"),c?{status:c}:{},{preserveState:!0,replace:!0})})},e[11]||(e[11]=[t("option",{value:"all"},"All",-1),t("option",{value:"pending"},"Pending",-1),t("option",{value:"approved"},"Approved",-1),t("option",{value:"rejected"},"Rejected",-1),t("option",{value:"completed"},"Completed",-1)]),40,te)])]),_:1}),p(z,null,{default:d(()=>[n(v).props.refundRequests.data.length?(i(),l("div",le,[t("table",ae,[t("thead",null,[t("tr",null,[e[14]||(e[14]=t("th",{class:"px-4 py-2 text-left"},"Tracking",-1)),e[15]||(e[15]=t("th",{class:"px-4 py-2 text-left"},"Type",-1)),e[16]||(e[16]=t("th",{class:"px-4 py-2 text-left"},"Invoice",-1)),n(C)?r("",!0):(i(),l("th",re,"Customer")),e[17]||(e[17]=t("th",{class:"px-4 py-2 text-left"},"Qty",-1)),e[18]||(e[18]=t("th",{class:"px-4 py-2 text-left"},"Status",-1)),e[19]||(e[19]=t("th",{class:"px-4 py-2 text-left"},"Submitted",-1)),e[20]||(e[20]=t("th",{class:"px-4 py-2 text-left"},"Actions",-1))])]),t("tbody",null,[(i(!0),l(S,null,q(n(v).props.refundRequests.data,s=>(i(),l("tr",{key:s.id,class:"hover:bg-muted"},[t("td",de,[t("div",ue,[t("span",pe,a(s.tracking_number),1),s.is_damaged?(i(),l("span",me," ⚠️ ")):r("",!0)]),s.reason?(i(),l("div",ce,a(s.reason),1)):r("",!0)]),e[25]||(e[25]=t("td",{class:"px-4 py-2"},[t("span",{class:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800"}," Refund ")],-1)),t("td",ve,[s.invoice_id?(i(),_(n(k),{key:0,href:u.route("invoices.show",s.invoice_id),class:"text-sm text-blue-600 hover:underline"},{default:d(()=>[m(a(s.invoice_reference||"#"+s.invoice_id),1)]),_:2},1032,["href"])):(i(),l("div",fe,a(s.invoice_reference||"#"+s.invoice_id),1))]),n(C)?r("",!0):(i(),l("td",xe,[t("div",_e,a(s.customer_name),1),s.email?(i(),l("div",ge,a(s.email),1)):r("",!0)])),t("td",ye,a(s.quantity),1),t("td",be,[t("span",{class:A(["px-2 py-1 rounded-full text-xs font-medium",{"bg-yellow-100 text-yellow-800":s.status==="pending","bg-green-100 text-green-800":s.status==="approved"||s.status==="completed","bg-red-100 text-red-800":s.status==="rejected"}])},a(s.status),3)]),t("td",ke,a(new Date(s.created_at).toLocaleString()),1),t("td",he,[t("div",we,[n(b)&&s.status==="pending"?(i(),_(n(f),{key:0,size:"sm",variant:"default",onClick:c=>V(s.id)},{default:d(()=>e[21]||(e[21]=[m(" Approve ")])),_:2,__:[21]},1032,["onClick"])):r("",!0),n(b)&&s.status==="pending"?(i(),_(n(f),{key:1,size:"sm",variant:"destructive",onClick:c=>M(s.id)},{default:d(()=>e[22]||(e[22]=[m(" Decline ")])),_:2,__:[22]},1032,["onClick"])):r("",!0),p(n(f),{size:"sm",variant:"outline",onClick:c=>o.value=s},{default:d(()=>e[23]||(e[23]=[m("View details")])),_:2,__:[23]},1032,["onClick"]),s.invoice_id&&!n(C)?(i(),_(n(k),{key:2,href:u.route("invoices.show",s.invoice_id)},{default:d(()=>[p(n(f),{size:"sm",variant:"ghost"},{default:d(()=>e[24]||(e[24]=[m("View Invoice")])),_:1,__:[24]})]),_:2},1032,["href"])):r("",!0)])])]))),128))])])])):(i(),l("div",se,[n(y).status&&n(y).status!==""&&n(y).status!=="all"?(i(),l("div",oe,[e[13]||(e[13]=m(" No refund requests for the selected filter. ")),t("div",ie,[p(n(f),{variant:"outline",onClick:e[1]||(e[1]=s=>n(g).get(u.route("refundRequests.index"),{},{preserveState:!0,replace:!0}))},{default:d(()=>e[12]||(e[12]=[m(" Clear filters ")])),_:1,__:[12]})])])):(i(),l("div",ne," No refund requests. "))]))]),_:1})]),_:1})]),_:1}),p(n(T),{value:"refunds"},{default:d(()=>[p(P,null,{default:d(()=>[p(D,null,{default:d(()=>[t("div",Ce,[p(j,null,{default:d(()=>e[26]||(e[26]=[m("Refunds")])),_:1,__:[26]}),t("select",{class:"rounded-md border border-input bg-background px-3 py-2 text-sm",value:n(y).status||"all",onChange:e[2]||(e[2]=s=>{const c=s.target.value==="all"?"":s.target.value;n(g).get(u.route("refunds.index"),c?{status:c}:{},{preserveState:!0,replace:!0})})},e[27]||(e[27]=[t("option",{value:"all"},"All",-1),t("option",{value:"approved"},"Approved",-1),t("option",{value:"processed"},"Processed",-1),t("option",{value:"completed"},"Completed",-1),t("option",{value:"cancelled"},"Cancelled",-1)]),40,Re)])]),_:1}),p(z,null,{default:d(()=>[n(v).props.refunds.data.length?(i(),l("div",Be,[t("table",Ie,[e[33]||(e[33]=t("thead",null,[t("tr",null,[t("th",{class:"px-4 py-2 text-left"},"Refund #"),t("th",{class:"px-4 py-2 text-left"},"Invoice"),t("th",{class:"px-4 py-2 text-left"},"Product"),t("th",{class:"px-4 py-2 text-left"},"Qty"),t("th",{class:"px-4 py-2 text-left"},"Amount"),t("th",{class:"px-4 py-2 text-left"},"Status"),t("th",{class:"px-4 py-2 text-left"},"Actions")])],-1)),t("tbody",null,[(i(!0),l(S,null,q(n(v).props.refunds.data,s=>{var c;return i(),l("tr",{key:s.id,class:"hover:bg-muted"},[t("td",Pe,a(s.refund_number),1),t("td",ze,[p(n(k),{href:u.route("invoices.show",s.invoice_id),class:"text-blue-500 underline"},{default:d(()=>[m("#"+a(s.invoice_id),1)]),_:2},1032,["href"])]),t("td",De,[t("div",je,[t("span",null,a(((c=s.product)==null?void 0:c.name)||"—"),1),s.is_damaged?(i(),l("span",Ne," ⚠️ Damaged ")):r("",!0)])]),t("td",Te,a(s.quantity_refunded),1),t("td",Ee,a(w(s.refund_amount)),1),t("td",Le,[t("span",{class:A(["px-2 py-1 rounded-full text-xs font-medium",{"bg-blue-100 text-blue-800":s.status==="approved","bg-yellow-100 text-yellow-800":s.status==="processed","bg-green-100 text-green-800":s.status==="completed","bg-red-100 text-red-800":s.status==="cancelled"}])},a(s.status),3)]),t("td",Ve,[t("div",Me,[n(b)&&(s.status==="approved"||s.status==="processed")?(i(),_(n(f),{key:0,size:"sm",variant:"outline",onClick:R=>F(s.id)},{default:d(()=>e[30]||(e[30]=[m(" Process ")])),_:2,__:[30]},1032,["onClick"])):r("",!0),n(b)&&(s.status==="approved"||s.status==="processed")?(i(),_(n(f),{key:1,size:"sm",variant:"default",onClick:R=>H(s.id)},{default:d(()=>e[31]||(e[31]=[m(" Complete ")])),_:2,__:[31]},1032,["onClick"])):r("",!0),n(b)&&s.status!=="completed"&&s.status!=="cancelled"?(i(),_(n(f),{key:2,size:"sm",variant:"destructive",onClick:R=>K(s.id)},{default:d(()=>e[32]||(e[32]=[m(" Cancel ")])),_:2,__:[32]},1032,["onClick"])):r("",!0)])])])}),128))])])])):(i(),l("div",Se,[n(y).status&&n(y).status!==""&&n(y).status!=="all"?(i(),l("div",qe,[e[29]||(e[29]=m(" No refunds found for the selected filter. ")),t("div",Ae,[p(n(f),{variant:"outline",onClick:e[3]||(e[3]=s=>n(g).get(u.route("refunds.index"),{},{preserveState:!0,replace:!0}))},{default:d(()=>e[28]||(e[28]=[m(" Clear filters ")])),_:1,__:[28]})])])):(i(),l("div",$e," No refunds found. "))]))]),_:1})]),_:1})]),_:1})]),_:1}),o.value?(i(),l("div",Fe,[t("div",{class:"absolute inset-0 bg-black/50",onClick:e[4]||(e[4]=s=>o.value=null)}),t("div",He,[t("div",Ke,[e[34]||(e[34]=t("h3",{class:"text-xl font-semibold"},"Refund Request Details",-1)),t("button",{class:"text-sm text-gray-500 hover:text-gray-700",onClick:e[5]||(e[5]=s=>o.value=null)},"Close")]),t("div",Qe,[t("div",Ue,[t("div",null,[e[35]||(e[35]=t("div",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1"},"Tracking Number",-1)),t("div",We,a(o.value.tracking_number),1)]),t("div",null,[e[36]||(e[36]=t("div",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1"},"Status",-1)),t("span",{class:A(["px-3 py-1 rounded-full text-sm font-medium inline-block",{"bg-yellow-100 text-yellow-800":o.value.status==="pending","bg-green-100 text-green-800":o.value.status==="approved"||o.value.status==="completed","bg-red-100 text-red-800":o.value.status==="rejected"}])},a(o.value.status),3)]),o.value.invoice?(i(),l("div",Ye,[e[37]||(e[37]=t("div",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1"},"Invoice",-1)),t("div",null,[o.value.invoice_id?(i(),_(n(k),{key:0,href:u.route("invoices.show",o.value.invoice_id),class:"text-blue-600 hover:underline font-medium"},{default:d(()=>[m(a(o.value.invoice.reference_number||o.value.invoice_reference||`#${o.value.invoice_id}`),1)]),_:1},8,["href"])):(i(),l("span",Ge,a(o.value.invoice_reference||"N/A"),1))]),o.value.invoice?(i(),l("div",Je,[t("div",null,"Amount: "+a(w(o.value.invoice.total_amount)),1),t("div",null,"Status: "+a(o.value.invoice.status),1),o.value.invoice.payment_status?(i(),l("div",Oe,"Payment: "+a(o.value.invoice.payment_status),1)):r("",!0)])):r("",!0)])):o.value.invoice_reference?(i(),l("div",Xe,[e[38]||(e[38]=t("div",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1"},"Invoice Reference",-1)),t("div",Ze,a(o.value.invoice_reference),1)])):r("",!0),t("div",null,[e[39]||(e[39]=t("div",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1"},"Customer Information",-1)),t("div",et,[t("div",tt,a(o.value.customer_name),1),o.value.email?(i(),l("div",st,a(o.value.email),1)):r("",!0),o.value.phone?(i(),l("div",ot,a(o.value.phone),1)):r("",!0)])]),t("div",null,[e[40]||(e[40]=t("div",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1"},"Submitted",-1)),t("div",it,a(new Date(o.value.created_at).toLocaleString()),1),o.value.updated_at&&o.value.updated_at!==o.value.created_at?(i(),l("div",nt," Last updated: "+a(new Date(o.value.updated_at).toLocaleString()),1)):r("",!0)])]),t("div",lt,[o.value.product||o.value.product_name?(i(),l("div",at,[e[41]||(e[41]=t("div",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1"},"Product",-1)),t("div",null,[t("div",rt,a(((x=o.value.product)==null?void 0:x.name)||o.value.product_name||"N/A"),1),o.value.product?(i(),l("div",dt,[o.value.product.SKU?(i(),l("div",ut,"SKU: "+a(o.value.product.SKU),1)):r("",!0),t("div",null,"Price: "+a(w(o.value.product.selling_price)),1)])):r("",!0)])])):r("",!0),t("div",null,[e[42]||(e[42]=t("div",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1"},"Quantity",-1)),t("div",pt,a(o.value.quantity),1)]),o.value.amount_requested?(i(),l("div",mt,[e[43]||(e[43]=t("div",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1"},"Amount Requested",-1)),t("div",ct,a(w(o.value.amount_requested)),1)])):r("",!0),o.value.reason?(i(),l("div",vt,[e[44]||(e[44]=t("div",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1"},"Reason",-1)),t("div",ft,a(o.value.reason),1)])):r("",!0),o.value.notes?(i(),l("div",xt,[e[45]||(e[45]=t("div",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1"},"Additional Notes",-1)),t("div",_t,a(o.value.notes),1)])):r("",!0),o.value.review_notes?(i(),l("div",gt,[e[46]||(e[46]=t("div",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1"},"Review Notes",-1)),t("div",yt,a(o.value.review_notes),1)])):r("",!0),o.value.proof_images&&o.value.proof_images.length>0?(i(),l("div",bt,[e[48]||(e[48]=t("div",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1"},"Proof Images",-1)),t("div",kt,[(i(!0),l(S,null,q(o.value.proof_images,(s,c)=>(i(),l("a",{key:s.id||c,href:s.url,target:"_blank",rel:"noopener noreferrer",class:"relative group block overflow-hidden rounded-md border border-gray-300 hover:border-blue-500 transition-all"},[t("img",{src:s.url,alt:`Proof image ${c+1}`,class:"w-full h-32 object-cover transition-transform group-hover:scale-105 bg-gray-100",onError:e[6]||(e[6]=R=>{R.target.src="data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%22100%22 height=%22100%22%3E%3Crect fill=%22%23f3f4f6%22 width=%22100%22 height=%22100%22/%3E%3Ctext fill=%22%239ca3af%22 font-family=%22sans-serif%22 font-size=%2214%22 x=%2250%%22 y=%2250%%22 text-anchor=%22middle%22 dominant-baseline=%22middle%22%3EImage%3C/text%3E%3C/svg%3E"}),loading:"lazy"},null,40,wt),e[47]||(e[47]=t("div",{class:"absolute inset-0 flex items-center justify-center"},[t("div",{class:"bg-blue-600 text-white px-3 py-1.5 rounded-md text-sm font-medium opacity-0 group-hover:opacity-100 transform translate-y-2 group-hover:translate-y-0 transition-all flex items-center gap-1.5 shadow-lg"},[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]),m(" View ")])],-1))],8,ht))),128))])])):r("",!0),o.value.media_link?(i(),l("div",Ct,[e[50]||(e[50]=t("div",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1"},"Media Link (Legacy)",-1)),t("a",{href:o.value.media_link,target:"_blank",rel:"noopener noreferrer",class:"text-blue-600 hover:underline break-all text-sm flex items-center gap-2"},e[49]||(e[49]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})],-1),m(" View Media ")]),8,Rt)])):r("",!0),o.value.is_damaged?(i(),l("div",St,e[51]||(e[51]=[t("div",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1"},"Item Status",-1),t("div",{class:"inline-flex items-center gap-2 px-3 py-1.5 rounded-md bg-orange-100 text-orange-800 text-sm font-medium"}," ⚠️ Damaged Items ",-1),t("p",{class:"text-xs text-gray-600 mt-2"},"These items will not be returned to inventory stock when the refund is completed.",-1)]))):r("",!0),o.value.damaged_items_terms?(i(),l("div",qt,[e[52]||(e[52]=t("div",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1"},"Damaged Items Terms",-1)),t("div",At,a(o.value.damaged_items_terms),1)])):r("",!0),o.value.completed_refund_id?(i(),l("div",$t,[e[53]||(e[53]=t("div",{class:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1"},"Completed to Refund",-1)),t("div",Bt,"Refund ID: #"+a(o.value.completed_refund_id),1)])):r("",!0)])]),t("div",It,[p(n(f),{variant:"outline",onClick:e[7]||(e[7]=s=>o.value=null)},{default:d(()=>e[54]||(e[54]=[m("Close")])),_:1,__:[54]}),o.value.invoice_id?(i(),_(n(k),{key:0,href:u.route("invoices.show",o.value.invoice_id)},{default:d(()=>[p(n(f),{variant:"default"},{default:d(()=>e[55]||(e[55]=[m("View Invoice")])),_:1,__:[55]})]),_:1},8,["href"])):r("",!0)])])])):r("",!0)]}),_:1}))}});export{Xt as default};
