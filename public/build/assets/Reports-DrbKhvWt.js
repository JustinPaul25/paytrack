import{d as R,j as g,z as f,W as C,l as M,c as S,o as m,w as l,a as o,b as t,u as x,g as j,t as a,e as u,A as h,B as y,f as c,F as N,r as V,x as _}from"./app-BKBIjJ8s.js";import{F as $,_ as B}from"./AppLayout.vue_vue_type_script_setup_true_lang-8Bdy8szE.js";import{_ as D,a as E}from"./CardContent.vue_vue_type_script_setup_true_lang-DTZeO7bg.js";import{_ as T,a as z}from"./CardTitle.vue_vue_type_script_setup_true_lang-CMTFMfyV.js";import{_ as b}from"./index-BRmZJ9Xg.js";import{P as H}from"./printer-D_zr8QPy.js";import"./LocationInput.vue_vue_type_style_index_0_scoped_0fe2f881_lang-uzdB4u8v.js";import"./RovingFocusGroup-BuaLcvw9.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DQ7D_30s.js";import"./createLucideIcon-CHp4SUBy.js";import"./VisuallyHidden-bjmLQ8MD.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BX0trGSH.js";const I={class:"flex flex-col gap-6 print:gap-4"},L={class:"hidden print:flex items-center justify-between mb-2"},U={class:"text-right text-xs text-gray-600"},W={class:"flex items-start justify-between flex-wrap gap-4 print:hidden"},A={class:"flex gap-2"},G={class:"flex gap-4 flex-wrap print:hidden"},q={class:"flex flex-col"},J={class:"flex flex-col"},K={key:0,class:"overflow-x-auto"},O={class:"min-w-full divide-y divide-gray-200 print:divide-gray-300"},Q={class:"divide-y divide-gray-200 print:divide-gray-300"},X={class:"px-4 py-3 text-sm font-medium text-gray-800"},Y={class:"px-4 py-3 text-right text-sm text-green-600 font-semibold"},Z={class:"px-4 py-3 text-right text-sm text-red-600 font-semibold"},tt={class:"bg-gray-100 print:bg-gray-200"},et={class:"px-4 py-3 text-right text-sm font-semibold text-gray-700"},st={class:"px-4 py-3 text-right text-sm font-semibold text-gray-700"},nt={key:1,class:"py-16 text-center text-sm text-gray-500"},gt=R({__name:"Reports",props:{filters:{},rows:{},totals:{}},setup(v){const p=v,w=[{title:"Sales",href:"/sales/analytics"},{title:"Financial Reports",href:"/finance/reports"}],r=g(p.filters.start_month),i=g(p.filters.end_month);f(()=>p.filters.start_month,s=>{s&&r.value!==s&&(r.value=s)}),f(()=>p.filters.end_month,s=>{s&&i.value!==s&&(i.value=s)}),f([r,i],()=>{!r.value||!i.value||C.get("/finance/reports",{start_month:r.value,end_month:i.value},{preserveState:!0,replace:!0})});const k=M(()=>p.rows.length>0);function d(s){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(s)}function F(){window.print()}function P(){const s=route("finance.reports.export",{start_month:r.value,end_month:i.value});window.location.href=s}return(s,e)=>(m(),S(B,{breadcrumbs:w},{default:l(()=>[o(x(j),{title:"Financial Reports"}),t("div",I,[t("div",L,[e[3]||(e[3]=t("img",{src:"/img/merakilogo.jpg",alt:"Meraki",class:"h-10 object-contain"},null,-1)),t("div",U,[e[2]||(e[2]=t("div",null,"Financial Reports",-1)),t("div",null,"Generated: "+a(new Date().toLocaleDateString()),1)])]),t("div",W,[e[6]||(e[6]=t("div",null,[t("h1",{class:"text-2xl font-bold"},"Financial Reports"),t("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Review monthly income, expenses, and net cash results in a printable, exportable table. ")],-1)),t("div",A,[o(x(b),{variant:"outline",onClick:F},{default:l(()=>[o(x(H),{class:"h-4 w-4 mr-2"}),e[4]||(e[4]=u(" Print "))]),_:1,__:[4]}),o(x(b),{variant:"default",onClick:P},{default:l(()=>[o(x($),{class:"h-4 w-4 mr-2"}),e[5]||(e[5]=u(" Export CSV "))]),_:1,__:[5]})])]),o(D,null,{default:l(()=>[o(T,{class:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between"},{default:l(()=>[o(z,null,{default:l(()=>e[7]||(e[7]=[u("Reporting Period")])),_:1,__:[7]}),t("div",G,[t("div",q,[e[8]||(e[8]=t("label",{for:"start-month",class:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide"}," Start Month ",-1)),h(t("input",{id:"start-month","onUpdate:modelValue":e[0]||(e[0]=n=>r.value=n),type:"month",class:"mt-1 rounded-md border border-input bg-background px-3 py-2 text-sm shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"},null,512),[[y,r.value]])]),t("div",J,[e[9]||(e[9]=t("label",{for:"end-month",class:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide"}," End Month ",-1)),h(t("input",{id:"end-month","onUpdate:modelValue":e[1]||(e[1]=n=>i.value=n),type:"month",class:"mt-1 rounded-md border border-input bg-background px-3 py-2 text-sm shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"},null,512),[[y,i.value]])])])]),_:1}),o(E,null,{default:l(()=>[k.value?(m(),c("div",K,[t("table",O,[e[11]||(e[11]=t("thead",{class:"bg-gray-50 print:bg-white"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-sm font-semibold text-gray-600 uppercase tracking-wide"}," Month "),t("th",{class:"px-4 py-3 text-right text-sm font-semibold text-gray-600 uppercase tracking-wide"}," Income (₱) "),t("th",{class:"px-4 py-3 text-right text-sm font-semibold text-gray-600 uppercase tracking-wide"}," Expenses (₱) "),t("th",{class:"px-4 py-3 text-right text-sm font-semibold text-gray-600 uppercase tracking-wide"}," Net (₱) ")])],-1)),t("tbody",Q,[(m(!0),c(N,null,V(s.rows,n=>(m(),c("tr",{key:n.month,class:"bg-white even:bg-gray-50 print:bg-white"},[t("td",X,a(n.label),1),t("td",Y,a(d(n.income)),1),t("td",Z,a(d(n.expenses)),1),t("td",{class:_(["px-4 py-3 text-right text-sm font-semibold",n.net>=0?"text-green-700":"text-red-700"])},a(d(n.net)),3)]))),128))]),t("tfoot",null,[t("tr",tt,[e[10]||(e[10]=t("th",{class:"px-4 py-3 text-left text-sm font-semibold text-gray-700 uppercase tracking-wide"}," Totals ",-1)),t("th",et,a(d(s.totals.income)),1),t("th",st,a(d(s.totals.expenses)),1),t("th",{class:_(["px-4 py-3 text-right text-sm font-semibold",s.totals.net>=0?"text-green-700":"text-red-700"])},a(d(s.totals.net)),3)])])])])):(m(),c("div",nt," No financial activity found for the selected period. "))]),_:1})]),_:1})])]),_:1}))}});export{gt as default};
