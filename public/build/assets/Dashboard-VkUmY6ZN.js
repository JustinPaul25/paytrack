import{d as T,i as ie,j as F,c as B,o as _,w as l,k as I,u as t,l as g,m as de,a as s,n as Y,h as ue,p as we,q as Ce,s as De,v as Pe,f as S,x as K,b as e,e as P,t as y,r as O,F as N,y as Q,z as Se,g as Be,A as le,B as oe,W as Te}from"./app-Cwu7HoSd.js";import{_ as Me}from"./Select.vue_vue_type_script_setup_true_lang-CBzjz3As.js";import{u as G,a as Ve,r as ae}from"./LocationInput.vue_vue_type_style_index_0_scoped_0fe2f881_lang-CbPCljGY.js";import{a as Fe,P as Z,b as z,c as E,d as U,C as Ie,_ as Ae}from"./AppLayout.vue_vue_type_script_setup_true_lang-By9GJnaP.js";import{_ as M,a as V}from"./CardContent.vue_vue_type_script_setup_true_lang-BYmIXq6h.js";import{a as j,_ as H}from"./CardTitle.vue_vue_type_script_setup_true_lang-DreEaS5s.js";import{P as J,c as X}from"./index-BdY75aZ2.js";import{C as ce,a as me,L as pe,P as fe,b as ge,p as be,c as ve,d as _e,i as ye,e as he,_ as ne}from"./BaseChart.vue_vue_type_script_setup_true_lang-B_tsuyB1.js";import{T as R}from"./trending-up-T8TxdGQZ.js";import{T as Le,C as Re,a as W}from"./trophy-2T2D2Bpj.js";import{u as je,c as He,a as Oe,P as Ne,_ as ze,b as Ee}from"./RovingFocusGroup-BZ7O1hI-.js";import{_ as Ue}from"./RovingFocusItem-J3o-2Tcc.js";import{F as re}from"./file-text-CgqWlchp.js";import{C as We}from"./clock-fysfqMCw.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DQ5B8Mu2.js";import"./createLucideIcon-BlW3GIPw.js";import"./VisuallyHidden-GGl4KIsE.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DAN9CPXS.js";function xe(b,n){return`${b}-trigger-${n}`}function $e(b,n){return`${b}-content-${n}`}const[se,qe]=He("TabsRoot"),Ye=T({__name:"TabsRoot",props:{defaultValue:{},orientation:{default:"horizontal"},dir:{},activationMode:{default:"automatic"},modelValue:{},unmountOnHide:{type:Boolean,default:!0},asChild:{type:Boolean},as:{}},emits:["update:modelValue"],setup(b,{emit:n}){const m=b,o=n,{orientation:x,unmountOnHide:v,dir:$}=ie(m),h=je($);G();const k=Ve(m,"modelValue",o,{defaultValue:m.defaultValue,passive:m.modelValue===void 0}),C=F();return qe({modelValue:k,changeModelValue:D=>{k.value=D},orientation:x,dir:h,unmountOnHide:v,activationMode:m.activationMode,baseId:Oe(void 0,"reka-tabs"),tabsList:C}),(D,c)=>(_(),B(t(J),{dir:t(h),"data-orientation":t(x),"as-child":D.asChild,as:D.as},{default:l(()=>[I(D.$slots,"default",{modelValue:t(k)})]),_:3},8,["dir","data-orientation","as-child","as"]))}}),Ze=T({__name:"TabsContent",props:{value:{},forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(b){const n=b,{forwardRef:m}=G(),o=se(),x=g(()=>xe(o.baseId,n.value)),v=g(()=>$e(o.baseId,n.value)),$=g(()=>n.value===o.modelValue.value),h=F($.value);return de(()=>{requestAnimationFrame(()=>{h.value=!1})}),(k,C)=>(_(),B(t(Ne),{present:k.forceMount||$.value,"force-mount":""},{default:l(({present:D})=>[s(t(J),{id:v.value,ref:t(m),"as-child":k.asChild,as:k.as,role:"tabpanel","data-state":$.value?"active":"inactive","data-orientation":t(o).orientation.value,"aria-labelledby":x.value,hidden:!D,tabindex:"0",style:Y({animationDuration:h.value?"0s":void 0})},{default:l(()=>[!t(o).unmountOnHide.value||D?I(k.$slots,"default",{key:0}):ue("",!0)]),_:2},1032,["id","as-child","as","data-state","data-orientation","aria-labelledby","hidden","style"])]),_:3},8,["present"]))}}),Ke=T({__name:"TabsList",props:{loop:{type:Boolean,default:!0},asChild:{type:Boolean},as:{}},setup(b){const n=b,{loop:m}=ie(n),{forwardRef:o,currentElement:x}=G(),v=se();return v.tabsList=x,($,h)=>(_(),B(t(ze),{"as-child":"",orientation:t(v).orientation.value,dir:t(v).dir.value,loop:t(m)},{default:l(()=>[s(t(J),{ref:t(o),role:"tablist","as-child":$.asChild,as:$.as,"aria-orientation":t(v).orientation.value},{default:l(()=>[I($.$slots,"default")]),_:3},8,["as-child","as","aria-orientation"])]),_:3},8,["orientation","dir","loop"]))}}),Qe=T({__name:"TabsTrigger",props:{value:{},disabled:{type:Boolean,default:!1},asChild:{type:Boolean},as:{default:"button"}},setup(b){const n=b,{forwardRef:m}=G(),o=se(),x=g(()=>xe(o.baseId,n.value)),v=g(()=>$e(o.baseId,n.value)),$=g(()=>n.value===o.modelValue.value);return(h,k)=>(_(),B(t(Ue),{"as-child":"",focusable:!h.disabled,active:$.value},{default:l(()=>[s(t(J),{id:x.value,ref:t(m),role:"tab",type:h.as==="button"?"button":void 0,as:h.as,"as-child":h.asChild,"aria-selected":$.value?"true":"false","aria-controls":v.value,"data-state":$.value?"active":"inactive",disabled:h.disabled,"data-disabled":h.disabled?"":void 0,"data-orientation":t(o).orientation.value,onMousedown:k[0]||(k[0]=Ce(C=>{!h.disabled&&C.ctrlKey===!1?t(o).changeModelValue(h.value):C.preventDefault()},["left"])),onKeydown:k[1]||(k[1]=we(C=>t(o).changeModelValue(h.value),["enter","space"])),onFocus:k[2]||(k[2]=()=>{const C=t(o).activationMode!=="manual";!$.value&&!h.disabled&&C&&t(o).changeModelValue(h.value)})},{default:l(()=>[I(h.$slots,"default")]),_:3},8,["id","type","as","as-child","aria-selected","aria-controls","data-state","disabled","data-disabled","data-orientation"])]),_:3},8,["focusable","active"]))}}),Ge=T({__name:"TooltipProvider",props:{delayDuration:{default:0},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(b){const n=b;return(m,o)=>(_(),B(t(Fe),De(Pe(n)),{default:l(()=>[I(m.$slots,"default")]),_:3},16))}}),q=T({__name:"CardDescription",props:{class:{}},setup(b){const n=b;return(m,o)=>(_(),S("p",{"data-slot":"card-description",class:K(t(X)("text-muted-foreground text-sm",n.class))},[I(m.$slots,"default")],2))}}),Je={class:"flex items-center justify-between"},Xe={class:"space-y-6"},et={class:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950/20 dark:to-indigo-950/20 rounded-lg p-6"},tt={class:"flex items-center justify-between"},at={class:"text-3xl font-bold text-blue-600"},st={class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},lt={class:"text-right"},ot={class:"text-2xl font-bold text-green-600"},nt={class:"space-y-3"},rt={class:"flex items-center gap-3"},it={class:"w-8 h-8 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center"},dt={class:"text-sm font-medium text-blue-600"},ut={class:"font-medium text-gray-900 dark:text-gray-100"},ct={class:"text-sm text-gray-600 dark:text-gray-400"},mt={class:"text-right"},pt={class:"font-semibold text-gray-900 dark:text-gray-100"},ft={class:"flex items-center gap-1 mt-1"},gt={class:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",style:{width:"60px"}},bt={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},vt={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},_t={class:"flex items-center justify-between mb-3"},yt={class:"font-semibold text-gray-900 dark:text-gray-100"},ht={class:"flex items-center gap-2"},xt={class:"text-green-600 text-sm font-medium"},$t={class:"border-t pt-4"},kt={class:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400"},wt={key:0},Ct={key:1},Dt=T({__name:"SalesPredictionWidget",props:{salesData:{}},setup(b){ce.register(me,pe,fe,ge,be,ve,_e,ye);const n=F(!1),m=g(()=>{const d=new Date;return d.setDate(d.getDate()+1),d}),o=F([]),x=g(()=>o.value.length?o.value.reduce((i,w)=>i+(w.confidence??.7),0)/o.value.length:.7),v=g(()=>o.value.slice(0,7).map(d=>d.predicted_sales)),$=g(()=>{var d;return((d=o.value[0])==null?void 0:d.predicted_sales)??0}),h=g(()=>o.value.length>=30?o.value.slice(0,30).reduce((d,i)=>d+i.predicted_sales,0):o.value.length>0?o.value.reduce((i,w)=>i+w.predicted_sales,0)/o.value.length*30:0),k=g(()=>Math.max(0,Math.min(25,(x.value-.6)*100))),C=F(!1),D=g(()=>({labels:v.value.map((d,i)=>{const w=f(i);return r(w).split(" ")[1]}),datasets:[{label:"Predicted Sales",data:v.value,borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4,pointBackgroundColor:"rgb(59, 130, 246)",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:5},{label:"Confidence Range",data:v.value.map(d=>d*.95),borderColor:"rgba(59, 130, 246, 0.3)",backgroundColor:"rgba(59, 130, 246, 0.05)",fill:!1,tension:.4,borderDash:[5,5],pointRadius:0}]})),c=g(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:20,font:{size:12}}},tooltip:{mode:"index",intersect:!1,callbacks:{label:function(d){return`${d.dataset.label}: ${p(d.parsed.y)}`}}}},scales:{y:{beginAtZero:!1,min:Math.min(...v.value,0),max:Math.max(...v.value,1)*1.1,grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{callback:function(d){return p(d)},font:{size:11}}},x:{grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{font:{size:11}}}},interaction:{mode:"nearest",axis:"x",intersect:!1}})),u=g(()=>Math.max(...v.value,0));g(()=>v.value.map((i,w)=>{const A=w/6*100,ke=100-i/u.value*100;return`${A},${ke}`}).join(" ")),g(()=>v.value.map((d,i)=>{const w=i/6*100,A=100-d/u.value*100;return{x:w,y:A}}));function p(d){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0,maximumFractionDigits:0}).format(d)}function r(d){return d.toLocaleDateString("en-US",{month:"short",day:"numeric"})}function a(d){return d.toLocaleDateString("en-US",{weekday:"short"})}function f(d){const i=new Date;return i.setDate(i.getDate()+d+1),i}function L(d){const i=Math.max(...v.value,0);return i>0?d/i*100:0}return de(async()=>{var d;try{const i=await fetch("/sales/predictions?period=month&days_ahead=30",{headers:{Accept:"application/json"}});if(!i.ok)throw new Error(`Failed to fetch predictions: ${i.status}`);const w=await i.json();C.value=!!((d=w==null?void 0:w.model_info)!=null&&d.note),o.value=Array.isArray(w==null?void 0:w.predictions)?w.predictions:[]}catch(i){C.value=!0,o.value=[],console.error(i)}}),(d,i)=>(_(),B(t(M),null,{default:l(()=>[s(t(H),null,{default:l(()=>[e("div",Je,[s(t(j),{class:"flex items-center gap-2"},{default:l(()=>[s(t(R),{class:"w-5 h-5 text-blue-600"}),i[0]||(i[0]=P(" Sales Prediction "))]),_:1,__:[0]})])]),_:1}),e("div",{class:K(["overflow-hidden transition-all duration-300 ease-in-out",{"max-h-0":n.value,"max-h-[2000px]":!n.value}])},[s(t(V),null,{default:l(()=>[e("div",Xe,[e("div",et,[e("div",tt,[e("div",null,[i[1]||(i[1]=e("h4",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100"}," Tomorrow's Prediction ",-1)),e("p",at,y(p($.value)),1),e("p",st," Expected sales for "+y(r(m.value)),1)]),e("div",lt,[i[2]||(i[2]=e("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"Confidence",-1)),e("div",ot,y((x.value*100).toFixed(0))+"% ",1)])])]),e("div",null,[i[3]||(i[3]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"Next 7 Days Forecast",-1)),e("div",nt,[(_(!0),S(N,null,O(v.value,(w,A)=>(_(),S("div",{key:A,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},[e("div",rt,[e("div",it,[e("span",dt,y(A+1),1)]),e("div",null,[e("p",ut,y(r(f(A))),1),e("p",ct,y(a(f(A))),1)])]),e("div",mt,[e("p",pt,y(p(w)),1),e("div",ft,[e("div",gt,[e("div",{class:"h-full bg-blue-500 rounded-full transition-all duration-300",style:Y({width:L(w)+"%"})},null,4)])])])]))),128))])]),e("div",null,[i[4]||(i[4]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"Sales Forecast Trend",-1)),e("div",bt,[s(t(he),{data:D.value,options:c.value,height:"200px"},null,8,["data","options"])])]),e("div",null,[i[6]||(i[6]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"Monthly Trend",-1)),e("div",vt,[e("div",_t,[i[5]||(i[5]=e("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Predicted Monthly Revenue",-1)),e("span",yt,y(p(h.value)),1)]),e("div",ht,[s(t(R),{class:"w-4 h-4 text-green-600"}),e("span",xt," +"+y(k.value.toFixed(1))+"% vs current month ",1)])])]),e("div",$t,[e("div",kt,[C.value?(_(),S("span",wt,"Using sample data")):(_(),S("span",Ct,"Live predictions")),i[7]||(i[7]=e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-2 h-2 bg-green-500 rounded-full"}),e("span",null,"Ready")],-1))])])])]),_:1})],2)]),_:1}))}}),Pt={class:"flex items-center justify-between"},St={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"},Bt={class:"bg-indigo-50 dark:bg-indigo-950/20 border border-indigo-200 dark:border-indigo-800 rounded-lg p-4"},Tt={class:"flex items-center justify-between"},Mt={class:"bg-emerald-50 dark:bg-emerald-950/20 border border-emerald-200 dark:border-emerald-800 rounded-lg p-4"},Vt={class:"flex items-center justify-between"},Ft={class:"bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4"},It={class:"flex items-center justify-between"},At={class:"mb-6"},Lt={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},Rt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},jt={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},Ht={class:"space-y-3"},Ot={class:"flex items-center gap-3"},Nt={class:"w-8 h-8 bg-indigo-100 dark:bg-indigo-900/20 rounded-full flex items-center justify-center"},zt={class:"text-sm font-medium text-indigo-600"},Et={class:"font-medium text-gray-900 dark:text-gray-100"},Ut={class:"text-right"},Wt={class:"font-semibold text-gray-900 dark:text-gray-100"},qt={class:"text-sm text-gray-600 dark:text-gray-400"},Yt={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},Zt={class:"space-y-3"},Kt={class:"flex items-center gap-2"},Qt={class:"text-sm text-gray-700 dark:text-gray-300"},Gt={class:"flex items-center gap-2"},Jt={class:"w-16 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"},Xt={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},ea=T({__name:"ProductSalesTrendWidget",props:{salesByDate:{},topProducts:{}},setup(b){ce.register(me,pe,fe,ge,be,ve,_e,ye);const n=F(!1),m=b,o=g(()=>{const c=new Date,u=[];for(let p=6;p>=0;p--){const r=new Date(c);r.setDate(r.getDate()-p);const a=r.toISOString().split("T")[0],f=m.salesByDate.find(L=>L.date===a);u.push({date:a,dateObj:r,sales:f?f.sales:0})}return u}),x=g(()=>({labels:o.value.map(c=>c.dateObj.toLocaleDateString("en-US",{weekday:"short"})),datasets:[{label:"Daily Sales",data:o.value.map(c=>c.sales),borderColor:"rgb(99, 102, 241)",backgroundColor:"rgba(99, 102, 241, 0.1)",fill:!0,tension:.4,pointBackgroundColor:"rgb(99, 102, 241)",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:5}]})),v=g(()=>{const c=Math.max(...o.value.map(p=>p.sales),0);if(c===0)return 100;const u=Math.ceil(c/50)*50;return Math.max(u,100)}),$=g(()=>{const c=Math.max(...o.value.map(p=>p.sales),0);return c===0?50:Math.ceil(c/50)*50>=400?100:50}),h=g(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:20,font:{size:12}}},tooltip:{mode:"index",intersect:!1,callbacks:{label:function(c){return c.datasetIndex===0?`${c.dataset.label}: ${c.parsed.y} units`:`${c.dataset.label}: ${c.parsed.y} units`}}}},scales:{y:{beginAtZero:!0,min:0,suggestedMax:v.value,grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{stepSize:$.value,font:{size:11}}},x:{grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{font:{size:11}}}},interaction:{mode:"nearest",axis:"x",intersect:!1}})),k=g(()=>m.topProducts.map(c=>({name:c.name,units:c.total_quantity,revenue:c.total_revenue}))),C=[{name:"High Performance",percentage:35,color:"#10B981"},{name:"Medium Performance",percentage:45,color:"#3B82F6"},{name:"Low Performance",percentage:20,color:"#F59E0B"}];g(()=>{const c=o.value,u=Math.max(...c.map(a=>a.sales),1),p=0;return c.map((a,f)=>{const L=f/Math.max(1,c.length-1)*100,d=100-((a.sales-p)/(u-p)*80+10);return`${L},${d}`}).join(" ")}),g(()=>{const c=o.value,u=Math.max(...c.map(r=>r.sales),1),p=0;return c.map((r,a)=>{const f=a/Math.max(1,c.length-1)*100,L=100-((r.sales-p)/(u-p)*80+10);return{x:f,y:L}})});function D(c){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0,maximumFractionDigits:0}).format(c)}return(c,u)=>(_(),B(t(M),null,{default:l(()=>[s(t(H),null,{default:l(()=>[e("div",Pt,[s(t(j),{class:"flex items-center gap-2"},{default:l(()=>[s(t(Z),{class:"w-5 h-5 text-indigo-600"}),u[0]||(u[0]=P(" Product Sales Trend "))]),_:1,__:[0]})])]),_:1}),e("div",{class:K(["overflow-hidden transition-all duration-300 ease-in-out",{"max-h-0":n.value,"max-h-[2000px]":!n.value}])},[s(t(V),null,{default:l(()=>[e("div",St,[e("div",Bt,[e("div",Tt,[u[1]||(u[1]=e("div",null,[e("p",{class:"text-sm font-medium text-indigo-600 dark:text-indigo-400"},"Total Products Sold"),e("p",{class:"text-2xl font-bold text-indigo-700 dark:text-indigo-300"},"8,456")],-1)),s(t(Z),{class:"w-8 h-8 text-indigo-600"})]),u[2]||(u[2]=e("p",{class:"text-xs text-indigo-600 dark:text-indigo-400 mt-1"},"+15% from last month",-1))]),e("div",Mt,[e("div",Vt,[u[3]||(u[3]=e("div",null,[e("p",{class:"text-sm font-medium text-emerald-600 dark:text-emerald-400"},"Top Product"),e("p",{class:"text-lg font-bold text-emerald-700 dark:text-emerald-300"},"Ink Cartridge")],-1)),s(t(Le),{class:"w-8 h-8 text-emerald-600"})]),u[4]||(u[4]=e("p",{class:"text-xs text-emerald-600 dark:text-emerald-400 mt-1"},"1,247 units sold",-1))]),e("div",Ft,[e("div",It,[u[5]||(u[5]=e("div",null,[e("p",{class:"text-sm font-medium text-amber-600 dark:text-amber-400"},"Avg Daily Sales"),e("p",{class:"text-2xl font-bold text-amber-700 dark:text-amber-300"},"282")],-1)),s(t(R),{class:"w-8 h-8 text-amber-600"})]),u[6]||(u[6]=e("p",{class:"text-xs text-amber-600 dark:text-amber-400 mt-1"},"+8% from last week",-1))])]),e("div",At,[u[7]||(u[7]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"Product Sales Trend (Last 7 Days)",-1)),e("div",Lt,[s(t(he),{data:x.value,options:h.value,height:"200px"},null,8,["data","options"])])]),e("div",Rt,[e("div",null,[u[8]||(u[8]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"Top Selling Products",-1)),e("div",jt,[e("div",Ht,[(_(!0),S(N,null,O(k.value,p=>(_(),S("div",{key:p.name,class:"flex items-center justify-between"},[e("div",Ot,[e("div",Nt,[e("span",zt,y(p.name.charAt(0)),1)]),e("div",null,[e("p",Et,y(p.name),1)])]),e("div",Ut,[e("p",Wt,y(p.units)+" units",1),e("p",qt,y(D(p.revenue)),1)])]))),128))])])]),e("div",null,[u[9]||(u[9]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"Product Performance",-1)),e("div",Yt,[e("div",Zt,[(_(),S(N,null,O(C,p=>e("div",{key:p.name,class:"flex items-center justify-between"},[e("div",Kt,[e("div",{class:"w-3 h-3 rounded-full",style:Y({backgroundColor:p.color})},null,4),e("span",Qt,y(p.name),1)]),e("div",Gt,[e("div",Jt,[e("div",{class:"h-full rounded-full transition-all duration-300",style:Y({width:p.percentage+"%",backgroundColor:p.color})},null,4)]),e("span",Xt,y(p.percentage)+"%",1)])])),64))])])])])]),_:1})],2)]),_:1}))}}),ta=T({__name:"Tabs",props:{defaultValue:{default:"sales-prediction"},orientation:{},dir:{},activationMode:{},modelValue:{},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["update:modelValue"],setup(b,{emit:n}){const x=Ee(b,n);return(v,$)=>(_(),B(t(Ye),Q({"data-slot":"tabs"},t(x)),{default:l(()=>[I(v.$slots,"default")]),_:3},16))}}),aa=T({__name:"TabsList",props:{loop:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(b){const n=b,m=ae(n,"class");return(o,x)=>(_(),B(t(Ke),Q({"data-slot":"tabs-list"},t(m),{class:t(X)("inline-flex h-10 items-center justify-center rounded-md bg-muted text-muted-foreground overflow-hidden",n.class)}),{default:l(()=>[I(o.$slots,"default")]),_:3},16,["class"]))}}),ee=T({__name:"TabsTrigger",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(b){const n=b,m=ae(n,"class");return(o,x)=>(_(),B(t(Qe),Q({"data-slot":"tabs-trigger"},t(m),{class:t(X)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",n.class)}),{default:l(()=>[I(o.$slots,"default")]),_:3},16,["class"]))}}),te=T({__name:"TabsContent",props:{value:{},forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(b){const n=b,m=ae(n,"class");return(o,x)=>(_(),B(t(Ze),Q({"data-slot":"tabs-content"},t(m),{class:t(X)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n.class)}),{default:l(()=>[I(o.$slots,"default")]),_:3},16,["class"]))}}),sa={class:"dashboard-wrapper"},la={class:"dashboard-header"},oa={class:"dashboard-filters"},na={class:"filter-group"},ra={class:"filter-label"},ia={key:0,class:"date-range-group"},da={class:"date-input-group"},ua={class:"date-input-group"},ca={class:"metrics-grid"},ma={class:"metric-header"},pa={class:"metric-info"},fa={class:"metric-label-group"},ga={class:"metric-value"},ba={class:"metric-header"},va={class:"metric-info"},_a={class:"metric-label-group"},ya={class:"metric-value"},ha={class:"metric-icon-wrapper metric-icon-green"},xa={class:"metric-header"},$a={class:"metric-info"},ka={class:"metric-label-group"},wa={class:"metric-value"},Ca={class:"metric-icon-wrapper metric-icon-yellow"},Da={class:"metric-header"},Pa={class:"metric-info"},Sa={class:"metric-label-group"},Ba={class:"metric-value"},Ta={class:"metric-icon-wrapper metric-icon-orange"},Ma={class:"analytics-tabs-wrapper"},Va={class:"category-section"},Fa={key:0,class:"empty-state"},Ia={class:"tables-grid"},Aa={class:"table-wrapper"},La={class:"data-table"},Ra={class:"table-cell table-cell-bold"},ja={class:"table-cell table-cell-right"},Ha={class:"table-cell table-cell-right table-cell-highlight"},Oa={class:"table-wrapper"},Na={class:"data-table"},za={class:"table-cell"},Ea=["href"],Ua={class:"table-cell"},Wa={class:"table-cell table-cell-right table-cell-bold"},qa={class:"table-cell table-cell-center"},cs=T({__name:"Dashboard",props:{salesData:{},topProducts:{},salesByDate:{},salesByCategory:{},recentInvoices:{},filters:{}},setup(b){const n=b,m=F(n.filters.period),o=F(n.filters.start_date),x=F(n.filters.end_date),v=[{title:"Dashboard",href:"/dashboard"}],$=[{value:"week",label:"Last 7 Days"},{value:"month",label:"Last 30 Days"},{value:"quarter",label:"Last 3 Months"},{value:"year",label:"Last 12 Months"},{value:"custom",label:"Choose Dates"}];function h(){Te.get("/dashboard",{period:m.value,start_date:o.value,end_date:x.value},{preserveState:!0,replace:!0})}Se([m,o,x],()=>{h()});const k=g(()=>({labels:n.salesByDate.map(r=>new Date(r.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})),datasets:[{label:"Daily Sales",data:n.salesByDate.map(r=>r.sales),borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4},{label:"Invoices",data:n.salesByDate.map(r=>r.invoices),borderColor:"rgb(16, 185, 129)",backgroundColor:"rgba(16, 185, 129, 0.1)",fill:!1,tension:.4,yAxisID:"y1"}]})),C=g(()=>({plugins:{title:{display:!0,text:"Sales Trend"},legend:{position:"top"}},scales:{y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"Sales Amount (₱)"}},y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:"Number of Invoices"},grid:{drawOnChartArea:!1}}}})),D=g(()=>({labels:n.salesByCategory.map(r=>r.category_name),datasets:[{data:n.salesByCategory.map(r=>r.total_revenue),backgroundColor:["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16","#F97316","#EC4899","#6366F1"],borderWidth:2,borderColor:"#ffffff"}]})),c=g(()=>({plugins:{title:{display:!0,text:"Sales by Category"},legend:{position:"bottom"}}}));g(()=>({labels:n.topProducts.map(r=>r.name),datasets:[{label:"Revenue",data:n.topProducts.map(r=>r.total_revenue),backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgb(59, 130, 246)",borderWidth:1}]})),g(()=>({plugins:{title:{display:!0,text:"Top Products by Revenue"},legend:{display:!1}},scales:{y:{title:{display:!0,text:"Revenue (₱)"}}}}));function u(r){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(r)}return F(!1),[{id:1,title:"New Order Received",message:"Order #1234 has been placed for ₱2,500",time:"2 minutes ago",type:"order",read:!1},{id:2,title:"Low Stock Alert",message:"Ink (brother 500 C, Cyan) is running low on stock",time:"15 minutes ago",type:"alert",read:!1},{id:3,title:"Sales Target Achieved",message:"Congratulations! You've reached 85% of your monthly sales target",time:"1 hour ago",type:"success",read:!0},{id:4,title:"Payment Received",message:"Payment of ₱1,800 has been received for Invoice #5678",time:"2 hours ago",type:"payment",read:!0}].filter(r=>!r.read).length,(r,a)=>(_(),B(Ae,{breadcrumbs:v},{default:l(()=>[s(t(Be),{title:"Dashboard"}),s(t(Ge),null,{default:l(()=>[e("div",sa,[e("div",la,[a[6]||(a[6]=e("div",null,[e("h1",{class:"dashboard-title"},"Dashboard"),e("p",{class:"dashboard-subtitle"},"View your business performance at a glance")],-1)),e("div",oa,[e("div",na,[e("label",ra,[s(t(Re),{class:"w-4 h-4"}),a[3]||(a[3]=P(" View Period "))]),s(t(Me),{modelValue:m.value,"onUpdate:modelValue":a[0]||(a[0]=f=>m.value=f),options:$,placeholder:"Choose time period",class:"period-select"},null,8,["modelValue"])]),m.value==="custom"?(_(),S("div",ia,[e("div",da,[a[4]||(a[4]=e("label",{class:"date-label"},"Start Date",-1)),le(e("input",{"onUpdate:modelValue":a[1]||(a[1]=f=>o.value=f),type:"date",class:"date-input"},null,512),[[oe,o.value]])]),e("div",ua,[a[5]||(a[5]=e("label",{class:"date-label"},"End Date",-1)),le(e("input",{"onUpdate:modelValue":a[2]||(a[2]=f=>x.value=f),type:"date",class:"date-input"},null,512),[[oe,x.value]])])])):ue("",!0)])]),a[34]||(a[34]=e("div",{class:"metrics-section"},[e("h2",{class:"section-title"},"Your Business Overview"),e("p",{class:"section-description"},"Quick summary of your sales performance")],-1)),e("div",ca,[s(M,{class:"metric-card"},{default:l(()=>[s(V,{class:"metric-card-content"},{default:l(()=>[e("div",ma,[e("div",pa,[e("div",fa,[a[8]||(a[8]=e("span",{class:"metric-label"},"Total Revenue",-1)),s(t(z),null,{default:l(()=>[s(t(E),{"as-child":""},{default:l(()=>[s(t(W),{class:"help-icon"})]),_:1}),s(t(U),null,{default:l(()=>a[7]||(a[7]=[e("p",null,"The total amount of money you've earned from all sales",-1)])),_:1,__:[7]})]),_:1})]),e("p",ga,y(u(r.salesData.total_sales)),1),a[9]||(a[9]=e("p",{class:"metric-description"},"All sales combined",-1))]),a[10]||(a[10]=e("div",{class:"metric-icon-wrapper metric-icon-blue"},[e("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 119.43 122.88",class:"metric-icon"},[e("path",{d:"M118.45,51l1,1-.74,9.11H99A40.52,40.52,0,0,1,81.88,78.43q-11.44,6.28-27.71,7h-15l.5,37.43H21.42l.74-36.94-.24-24.87H1L0,59.84.74,51H21.92l-.25-15.26H1l-1-1,.74-9.11H21.67L21.42.25,63.29,0Q78.8,0,88.65,6.53T102,25.61h16.5l1,1.23-.74,8.87h-15v3.94A53.17,53.17,0,0,1,102.44,51ZM39.65,25.61H81.26Q74.85,14,58.61,13.3L39.89,14l-.24,11.57ZM39.4,51H83.23a39.51,39.51,0,0,0,1.23-9.6,46.17,46.17,0,0,0-.24-5.66H39.65L39.4,51ZM58.61,71.91q12.56-2.72,19.21-10.84H39.4l-.25,10.1,19.46.74Z"})])],-1))])]),_:1})]),_:1}),s(M,{class:"metric-card"},{default:l(()=>[s(V,{class:"metric-card-content"},{default:l(()=>[e("div",ba,[e("div",va,[e("div",_a,[a[12]||(a[12]=e("span",{class:"metric-label"},"Total Invoices",-1)),s(t(z),null,{default:l(()=>[s(t(E),{"as-child":""},{default:l(()=>[s(t(W),{class:"help-icon"})]),_:1}),s(t(U),null,{default:l(()=>a[11]||(a[11]=[e("p",null,"The number of sales transactions you've completed",-1)])),_:1,__:[11]})]),_:1})]),e("p",ya,y(r.salesData.total_invoices),1),a[13]||(a[13]=e("p",{class:"metric-description"},"Sales transactions",-1))]),e("div",ha,[s(t(re),{class:"metric-icon"})])])]),_:1})]),_:1}),s(M,{class:"metric-card"},{default:l(()=>[s(V,{class:"metric-card-content"},{default:l(()=>[e("div",xa,[e("div",$a,[e("div",ka,[a[15]||(a[15]=e("span",{class:"metric-label"},"Average Sale Amount",-1)),s(t(z),null,{default:l(()=>[s(t(E),{"as-child":""},{default:l(()=>[s(t(W),{class:"help-icon"})]),_:1}),s(t(U),null,{default:l(()=>a[14]||(a[14]=[e("p",null,"The average amount customers spend per transaction",-1)])),_:1,__:[14]})]),_:1})]),e("p",wa,y(u(r.salesData.average_order_value)),1),a[16]||(a[16]=e("p",{class:"metric-description"},"Per transaction",-1))]),e("div",Ca,[s(t(R),{class:"metric-icon"})])])]),_:1})]),_:1}),s(M,{class:"metric-card"},{default:l(()=>[s(V,{class:"metric-card-content"},{default:l(()=>[e("div",Da,[e("div",Pa,[e("div",Sa,[a[18]||(a[18]=e("span",{class:"metric-label"},"Awaiting Payment",-1)),s(t(z),null,{default:l(()=>[s(t(E),{"as-child":""},{default:l(()=>[s(t(W),{class:"help-icon"})]),_:1}),s(t(U),null,{default:l(()=>a[17]||(a[17]=[e("p",null,"Invoices that are still waiting to be paid",-1)])),_:1,__:[17]})]),_:1})]),e("p",Ba,y(r.salesData.pending_invoices),1),a[19]||(a[19]=e("p",{class:"metric-description"},"Need attention",-1))]),e("div",Ta,[s(t(We),{class:"metric-icon"})])])]),_:1})]),_:1})]),a[35]||(a[35]=e("div",{class:"analytics-section"},[e("div",{class:"section-header"},[e("h2",{class:"section-title"},"Sales Trends & Insights"),e("p",{class:"section-description"},"Track how your sales are performing over time")])],-1)),e("div",Ma,[s(t(ta),{defaultValue:"sales-trend",class:"analytics-tabs-full"},{default:l(()=>[s(t(aa),{class:"tabs-list-full"},{default:l(()=>[s(t(ee),{value:"sales-trend",class:"tab-trigger-full"},{default:l(()=>[s(t(R),{class:"tab-icon"}),a[20]||(a[20]=P(" Your Sales Trend "))]),_:1,__:[20]}),s(t(ee),{value:"sales-prediction",class:"tab-trigger-full"},{default:l(()=>[s(t(R),{class:"tab-icon"}),a[21]||(a[21]=P(" Sales Prediction "))]),_:1,__:[21]}),s(t(ee),{value:"product-trend",class:"tab-trigger-full"},{default:l(()=>[s(t(Ie),{class:"tab-icon"}),a[22]||(a[22]=P(" Product Sales Trend "))]),_:1,__:[22]})]),_:1}),s(t(te),{value:"sales-trend",class:"tab-content-full"},{default:l(()=>[s(M,{class:"chart-card"},{default:l(()=>[s(H,null,{default:l(()=>[s(j,{class:"chart-title"},{default:l(()=>[s(t(R),{class:"chart-title-icon"}),a[23]||(a[23]=P(" Your Sales Trend "))]),_:1,__:[23]}),s(q,null,{default:l(()=>a[24]||(a[24]=[P(" See how your daily sales and number of transactions change over time ")])),_:1,__:[24]})]),_:1}),s(V,null,{default:l(()=>[s(ne,{type:"line",data:k.value,options:C.value,height:"350px"},null,8,["data","options"])]),_:1})]),_:1})]),_:1}),s(t(te),{value:"sales-prediction",class:"tab-content-full"},{default:l(()=>[s(Dt,{"sales-data":r.salesByDate},null,8,["sales-data"])]),_:1}),s(t(te),{value:"product-trend",class:"tab-content-full"},{default:l(()=>[s(ea,{"sales-by-date":r.salesByDate,"top-products":r.topProducts},null,8,["sales-by-date","top-products"])]),_:1})]),_:1})]),e("div",Va,[s(M,{class:"chart-card"},{default:l(()=>[s(H,null,{default:l(()=>[s(j,{class:"chart-title"},{default:l(()=>[s(t(Z),{class:"chart-title-icon"}),a[25]||(a[25]=P(" Sales by Product Category "))]),_:1,__:[25]}),s(q,null,{default:l(()=>a[26]||(a[26]=[P(" See which product categories bring in the most revenue ")])),_:1,__:[26]})]),_:1}),s(V,null,{default:l(()=>[n.salesByCategory.length===0?(_(),S("div",Fa,a[27]||(a[27]=[e("p",{class:"empty-title"},"No category data for the selected period",-1),e("p",{class:"empty-subtitle"},"Try expanding the date range or confirming there are paid invoices.",-1)]))):(_(),B(ne,{key:1,type:"doughnut",data:D.value,options:c.value,height:"300px"},null,8,["data","options"]))]),_:1})]),_:1})]),a[36]||(a[36]=e("div",{class:"section-header"},[e("h2",{class:"section-title"},"Product Performance & Recent Activity"),e("p",{class:"section-description"},"Your best-selling products and latest transactions")],-1)),e("div",Ia,[s(M,{class:"table-card"},{default:l(()=>[s(H,null,{default:l(()=>[s(j,{class:"table-title"},{default:l(()=>[s(t(Z),{class:"table-title-icon"}),a[28]||(a[28]=P(" Best-Selling Products "))]),_:1,__:[28]}),s(q,null,{default:l(()=>a[29]||(a[29]=[P(" Products that have generated the most revenue ")])),_:1,__:[29]})]),_:1}),s(V,null,{default:l(()=>[e("div",Aa,[e("table",La,[a[30]||(a[30]=e("thead",null,[e("tr",{class:"table-header-row"},[e("th",{class:"table-header"},"Product Name"),e("th",{class:"table-header table-header-right"},"Units Sold"),e("th",{class:"table-header table-header-right"},"Revenue")])],-1)),e("tbody",null,[(_(!0),S(N,null,O(r.topProducts,f=>(_(),S("tr",{key:f.id,class:"table-row"},[e("td",Ra,y(f.name),1),e("td",ja,y(f.total_quantity.toLocaleString()),1),e("td",Ha,y(u(f.total_revenue)),1)]))),128))])])])]),_:1})]),_:1}),s(M,{class:"table-card"},{default:l(()=>[s(H,null,{default:l(()=>[s(j,{class:"table-title"},{default:l(()=>[s(t(re),{class:"table-title-icon"}),a[31]||(a[31]=P(" Recent Transactions "))]),_:1,__:[31]}),s(q,null,{default:l(()=>a[32]||(a[32]=[P(" Your most recent sales and invoices ")])),_:1,__:[32]})]),_:1}),s(V,null,{default:l(()=>[e("div",Oa,[e("table",Na,[a[33]||(a[33]=e("thead",null,[e("tr",{class:"table-header-row"},[e("th",{class:"table-header"},"Invoice #"),e("th",{class:"table-header"},"Customer"),e("th",{class:"table-header table-header-right"},"Amount"),e("th",{class:"table-header table-header-center"},"Status")])],-1)),e("tbody",null,[(_(!0),S(N,null,O(r.recentInvoices,f=>(_(),S("tr",{key:f.id,class:"table-row"},[e("td",za,[e("a",{href:`/invoices/${f.id}`,class:"invoice-link"}," #"+y(f.id),9,Ea)]),e("td",Ua,y(f.customer_name),1),e("td",Wa,y(u(f.total_amount)),1),e("td",qa,[e("span",{class:K({"status-badge":!0,"status-paid":f.status==="paid","status-pending":f.status==="pending","status-cancelled":f.status==="cancelled"})},y(f.status.charAt(0).toUpperCase()+f.status.slice(1)),3)])]))),128))])])])]),_:1})]),_:1})])])]),_:1})]),_:1}))}});export{cs as default};
