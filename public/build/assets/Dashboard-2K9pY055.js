import{d as T,i as ue,j as R,c as B,o as _,w as l,k as I,u as s,l as f,m as ae,a,n as Z,h as me,p as Ce,q as Pe,s as De,v as Se,f as S,x as Q,b as e,e as D,t as v,r as W,F as q,y as G,z as Be,A as Te,W as re,g as Me,B as ne,C as ie}from"./app-B8QIr-yB.js";import{_ as Ve}from"./Select.vue_vue_type_script_setup_true_lang-Yokc8jy6.js";import{u as J,a as Ae,r as le}from"./LocationInput.vue_vue_type_style_index_0_scoped_0fe2f881_lang-CVWryCuy.js";import{a as Fe,P as K,b as N,c as z,d as E,S as Re,C as Ie,_ as Le}from"./AppLayout.vue_vue_type_script_setup_true_lang-soH5-Krj.js";import{_ as V,a as A}from"./CardContent.vue_vue_type_script_setup_true_lang-aSdnrcFY.js";import{a as H,_ as O}from"./CardTitle.vue_vue_type_script_setup_true_lang-BTzcK9vs.js";import{P as X,c as ee}from"./index-CMa7p19_.js";import{C as pe,a as fe,L as ge,P as be,b as ve,p as _e,c as he,d as ye,i as xe,e as we,_ as de}from"./BaseChart.vue_vue_type_script_setup_true_lang-Bk1FPEDp.js";import{T as j}from"./trending-up-Unqu6JBV.js";import{T as je,C as He,a as U}from"./trophy-ChRwMpzC.js";import{u as Oe,c as Ne,a as ze,P as Ee,_ as Ue,b as We}from"./RovingFocusGroup-Cg7u14CM.js";import{_ as qe}from"./RovingFocusItem-D7d4Mz1J.js";import{S as Ye}from"./sweetalert2.esm.all-BQIkj5Wb.js";import{F as ce}from"./file-text-r289qp3L.js";import{C as Ze}from"./clock-D_gaMFen.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-CpXueLgs.js";import"./createLucideIcon-3f2jlhvw.js";import"./VisuallyHidden-BAokwaoo.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-C0oox_ik.js";import"./chevron-right-BFhBpJLr.js";function ke(g,r){return`${g}-trigger-${r}`}function $e(g,r){return`${g}-content-${r}`}const[oe,Ke]=Ne("TabsRoot"),Qe=T({__name:"TabsRoot",props:{defaultValue:{},orientation:{default:"horizontal"},dir:{},activationMode:{default:"automatic"},modelValue:{},unmountOnHide:{type:Boolean,default:!0},asChild:{type:Boolean},as:{}},emits:["update:modelValue"],setup(g,{emit:r}){const m=g,n=r,{orientation:x,unmountOnHide:b,dir:w}=ue(m),h=Oe(w);J();const y=Ae(m,"modelValue",n,{defaultValue:m.defaultValue,passive:m.modelValue===void 0}),k=R();return Ke({modelValue:y,changeModelValue:P=>{y.value=P},orientation:x,dir:h,unmountOnHide:b,activationMode:m.activationMode,baseId:ze(void 0,"reka-tabs"),tabsList:k}),(P,d)=>(_(),B(s(X),{dir:s(h),"data-orientation":s(x),"as-child":P.asChild,as:P.as},{default:l(()=>[I(P.$slots,"default",{modelValue:s(y)})]),_:3},8,["dir","data-orientation","as-child","as"]))}}),Ge=T({__name:"TabsContent",props:{value:{},forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(g){const r=g,{forwardRef:m}=J(),n=oe(),x=f(()=>ke(n.baseId,r.value)),b=f(()=>$e(n.baseId,r.value)),w=f(()=>r.value===n.modelValue.value),h=R(w.value);return ae(()=>{requestAnimationFrame(()=>{h.value=!1})}),(y,k)=>(_(),B(s(Ee),{present:y.forceMount||w.value,"force-mount":""},{default:l(({present:P})=>[a(s(X),{id:b.value,ref:s(m),"as-child":y.asChild,as:y.as,role:"tabpanel","data-state":w.value?"active":"inactive","data-orientation":s(n).orientation.value,"aria-labelledby":x.value,hidden:!P,tabindex:"0",style:Z({animationDuration:h.value?"0s":void 0})},{default:l(()=>[!s(n).unmountOnHide.value||P?I(y.$slots,"default",{key:0}):me("",!0)]),_:2},1032,["id","as-child","as","data-state","data-orientation","aria-labelledby","hidden","style"])]),_:3},8,["present"]))}}),Je=T({__name:"TabsList",props:{loop:{type:Boolean,default:!0},asChild:{type:Boolean},as:{}},setup(g){const r=g,{loop:m}=ue(r),{forwardRef:n,currentElement:x}=J(),b=oe();return b.tabsList=x,(w,h)=>(_(),B(s(Ue),{"as-child":"",orientation:s(b).orientation.value,dir:s(b).dir.value,loop:s(m)},{default:l(()=>[a(s(X),{ref:s(n),role:"tablist","as-child":w.asChild,as:w.as,"aria-orientation":s(b).orientation.value},{default:l(()=>[I(w.$slots,"default")]),_:3},8,["as-child","as","aria-orientation"])]),_:3},8,["orientation","dir","loop"]))}}),Xe=T({__name:"TabsTrigger",props:{value:{},disabled:{type:Boolean,default:!1},asChild:{type:Boolean},as:{default:"button"}},setup(g){const r=g,{forwardRef:m}=J(),n=oe(),x=f(()=>ke(n.baseId,r.value)),b=f(()=>$e(n.baseId,r.value)),w=f(()=>r.value===n.modelValue.value);return(h,y)=>(_(),B(s(qe),{"as-child":"",focusable:!h.disabled,active:w.value},{default:l(()=>[a(s(X),{id:x.value,ref:s(m),role:"tab",type:h.as==="button"?"button":void 0,as:h.as,"as-child":h.asChild,"aria-selected":w.value?"true":"false","aria-controls":b.value,"data-state":w.value?"active":"inactive",disabled:h.disabled,"data-disabled":h.disabled?"":void 0,"data-orientation":s(n).orientation.value,onMousedown:y[0]||(y[0]=Pe(k=>{!h.disabled&&k.ctrlKey===!1?s(n).changeModelValue(h.value):k.preventDefault()},["left"])),onKeydown:y[1]||(y[1]=Ce(k=>s(n).changeModelValue(h.value),["enter","space"])),onFocus:y[2]||(y[2]=()=>{const k=s(n).activationMode!=="manual";!w.value&&!h.disabled&&k&&s(n).changeModelValue(h.value)})},{default:l(()=>[I(h.$slots,"default")]),_:3},8,["id","type","as","as-child","aria-selected","aria-controls","data-state","disabled","data-disabled","data-orientation"])]),_:3},8,["focusable","active"]))}}),et=T({__name:"TooltipProvider",props:{delayDuration:{default:0},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(g){const r=g;return(m,n)=>(_(),B(s(Fe),De(Se(r)),{default:l(()=>[I(m.$slots,"default")]),_:3},16))}}),Y=T({__name:"CardDescription",props:{class:{}},setup(g){const r=g;return(m,n)=>(_(),S("p",{"data-slot":"card-description",class:Q(s(ee)("text-muted-foreground text-sm",r.class))},[I(m.$slots,"default")],2))}}),tt={class:"flex items-center justify-between"},st={class:"space-y-6"},at={class:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950/20 dark:to-indigo-950/20 rounded-lg p-6"},lt={class:"flex items-center justify-between"},ot={class:"text-3xl font-bold text-blue-600"},rt={class:"text-sm text-gray-600 dark:text-gray-400 mt-1"},nt={class:"text-right"},it={class:"text-2xl font-bold text-green-600"},dt={class:"space-y-3"},ct={class:"flex items-center gap-3"},ut={class:"w-8 h-8 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center"},mt={class:"text-sm font-medium text-blue-600"},pt={class:"font-medium text-gray-900 dark:text-gray-100"},ft={class:"text-sm text-gray-600 dark:text-gray-400"},gt={class:"text-right"},bt={class:"font-semibold text-gray-900 dark:text-gray-100"},vt={class:"flex items-center gap-1 mt-1"},_t={class:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",style:{width:"60px"}},ht={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},yt={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},xt={class:"flex items-center justify-between mb-3"},wt={class:"font-semibold text-gray-900 dark:text-gray-100"},kt={class:"flex items-center gap-2"},$t={class:"text-green-600 text-sm font-medium"},Ct={class:"border-t pt-4"},Pt={class:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400"},Dt={key:0},St={key:1},Bt=T({__name:"SalesPredictionWidget",props:{salesData:{}},setup(g){pe.register(fe,ge,be,ve,_e,he,ye,xe);const r=R(!1),m=f(()=>{const i=new Date;return i.setDate(i.getDate()+1),i}),n=R([]),x=f(()=>n.value.length?n.value.reduce((o,t)=>o+(t.confidence??.7),0)/n.value.length:.7),b=f(()=>n.value.slice(0,7).map(i=>i.predicted_sales)),w=f(()=>{var i;return((i=n.value[0])==null?void 0:i.predicted_sales)??0}),h=f(()=>n.value.length>=30?n.value.slice(0,30).reduce((i,o)=>i+o.predicted_sales,0):n.value.length>0?n.value.reduce((o,t)=>o+t.predicted_sales,0)/n.value.length*30:0),y=f(()=>Math.max(0,Math.min(25,(x.value-.6)*100))),k=R(!1),P=f(()=>({labels:b.value.map((i,o)=>{const t=M(o);return $(t).split(" ")[1]}),datasets:[{label:"Predicted Sales",data:b.value,borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4,pointBackgroundColor:"rgb(59, 130, 246)",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:5},{label:"Confidence Range",data:b.value.map(i=>i*.95),borderColor:"rgba(59, 130, 246, 0.3)",backgroundColor:"rgba(59, 130, 246, 0.05)",fill:!1,tension:.4,borderDash:[5,5],pointRadius:0}]})),d=f(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:20,font:{size:12}}},tooltip:{mode:"index",intersect:!1,callbacks:{label:function(i){return`${i.dataset.label}: ${u(i.parsed.y)}`}}}},scales:{y:{beginAtZero:!1,min:Math.min(...b.value,0),max:Math.max(...b.value,1)*1.1,grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{callback:function(i){return u(i)},font:{size:11}}},x:{grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{font:{size:11}}}},interaction:{mode:"nearest",axis:"x",intersect:!1}})),c=f(()=>Math.max(...b.value,0));f(()=>b.value.map((o,t)=>{const p=t/6*100,L=100-o/c.value*100;return`${p},${L}`}).join(" ")),f(()=>b.value.map((i,o)=>{const t=o/6*100,p=100-i/c.value*100;return{x:t,y:p}}));function u(i){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0,maximumFractionDigits:0}).format(i)}function $(i){return i.toLocaleDateString("en-US",{month:"short",day:"numeric"})}function C(i){return i.toLocaleDateString("en-US",{weekday:"short"})}function M(i){const o=new Date;return o.setDate(o.getDate()+i+1),o}function F(i){const o=Math.max(...b.value,0);return o>0?i/o*100:0}return ae(async()=>{var i;try{const o=await fetch("/sales/predictions?period=month&days_ahead=30",{headers:{Accept:"application/json"}});if(!o.ok)throw new Error(`Failed to fetch predictions: ${o.status}`);const t=await o.json();k.value=!!((i=t==null?void 0:t.model_info)!=null&&i.note),n.value=Array.isArray(t==null?void 0:t.predictions)?t.predictions:[]}catch(o){k.value=!0,n.value=[],console.error(o)}}),(i,o)=>(_(),B(s(V),null,{default:l(()=>[a(s(O),null,{default:l(()=>[e("div",tt,[a(s(H),{class:"flex items-center gap-2"},{default:l(()=>[a(s(j),{class:"w-5 h-5 text-blue-600"}),o[0]||(o[0]=D(" Sales Prediction "))]),_:1,__:[0]})])]),_:1}),e("div",{class:Q(["overflow-hidden transition-all duration-300 ease-in-out",{"max-h-0":r.value,"max-h-[2000px]":!r.value}])},[a(s(A),null,{default:l(()=>[e("div",st,[e("div",at,[e("div",lt,[e("div",null,[o[1]||(o[1]=e("h4",{class:"text-lg font-semibold text-gray-900 dark:text-gray-100"}," Tomorrow's Prediction ",-1)),e("p",ot,v(u(w.value)),1),e("p",rt," Expected sales for "+v($(m.value)),1)]),e("div",nt,[o[2]||(o[2]=e("div",{class:"text-sm text-gray-600 dark:text-gray-400"},"Confidence",-1)),e("div",it,v((x.value*100).toFixed(0))+"% ",1)])])]),e("div",null,[o[3]||(o[3]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"Next 7 Days Forecast",-1)),e("div",dt,[(_(!0),S(q,null,W(b.value,(t,p)=>(_(),S("div",{key:p,class:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg"},[e("div",ct,[e("div",ut,[e("span",mt,v(p+1),1)]),e("div",null,[e("p",pt,v($(M(p))),1),e("p",ft,v(C(M(p))),1)])]),e("div",gt,[e("p",bt,v(u(t)),1),e("div",vt,[e("div",_t,[e("div",{class:"h-full bg-blue-500 rounded-full transition-all duration-300",style:Z({width:F(t)+"%"})},null,4)])])])]))),128))])]),e("div",null,[o[4]||(o[4]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"Sales Forecast Trend",-1)),e("div",ht,[a(s(we),{data:P.value,options:d.value,height:"200px"},null,8,["data","options"])])]),e("div",null,[o[6]||(o[6]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"Monthly Trend",-1)),e("div",yt,[e("div",xt,[o[5]||(o[5]=e("span",{class:"text-sm text-gray-600 dark:text-gray-400"},"Predicted Monthly Revenue",-1)),e("span",wt,v(u(h.value)),1)]),e("div",kt,[a(s(j),{class:"w-4 h-4 text-green-600"}),e("span",$t," +"+v(y.value.toFixed(1))+"% vs current month ",1)])])]),e("div",Ct,[e("div",Pt,[k.value?(_(),S("span",Dt,"Using sample data")):(_(),S("span",St,"Live predictions")),o[7]||(o[7]=e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-2 h-2 bg-green-500 rounded-full"}),e("span",null,"Ready")],-1))])])])]),_:1})],2)]),_:1}))}}),Tt={class:"flex items-center justify-between"},Mt={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"},Vt={class:"bg-indigo-50 dark:bg-indigo-950/20 border border-indigo-200 dark:border-indigo-800 rounded-lg p-4"},At={class:"flex items-center justify-between"},Ft={class:"bg-emerald-50 dark:bg-emerald-950/20 border border-emerald-200 dark:border-emerald-800 rounded-lg p-4"},Rt={class:"flex items-center justify-between"},It={class:"bg-amber-50 dark:bg-amber-950/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4"},Lt={class:"flex items-center justify-between"},jt={class:"mb-6"},Ht={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},Ot={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Nt={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},zt={class:"space-y-3"},Et={class:"flex items-center gap-3"},Ut={class:"w-8 h-8 bg-indigo-100 dark:bg-indigo-900/20 rounded-full flex items-center justify-center"},Wt={class:"text-sm font-medium text-indigo-600"},qt={class:"font-medium text-gray-900 dark:text-gray-100"},Yt={class:"text-right"},Zt={class:"font-semibold text-gray-900 dark:text-gray-100"},Kt={class:"text-sm text-gray-600 dark:text-gray-400"},Qt={class:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4"},Gt={class:"space-y-3"},Jt={class:"flex items-center gap-2"},Xt={class:"text-sm text-gray-700 dark:text-gray-300"},es={class:"flex items-center gap-2"},ts={class:"w-16 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"},ss={class:"text-sm font-medium text-gray-900 dark:text-gray-100"},as=T({__name:"ProductSalesTrendWidget",props:{salesByDate:{},topProducts:{}},setup(g){pe.register(fe,ge,be,ve,_e,he,ye,xe);const r=R(!1),m=g,n=f(()=>{const d=new Date,c=[];for(let u=6;u>=0;u--){const $=new Date(d);$.setDate($.getDate()-u);const C=$.toISOString().split("T")[0],M=m.salesByDate.find(F=>F.date===C);c.push({date:C,dateObj:$,sales:M?M.sales:0})}return c}),x=f(()=>({labels:n.value.map(d=>d.dateObj.toLocaleDateString("en-US",{weekday:"short"})),datasets:[{label:"Daily Sales",data:n.value.map(d=>d.sales),borderColor:"rgb(99, 102, 241)",backgroundColor:"rgba(99, 102, 241, 0.1)",fill:!0,tension:.4,pointBackgroundColor:"rgb(99, 102, 241)",pointBorderColor:"#ffffff",pointBorderWidth:2,pointRadius:5}]})),b=f(()=>{const d=Math.max(...n.value.map(u=>u.sales),0);if(d===0)return 100;const c=Math.ceil(d/50)*50;return Math.max(c,100)}),w=f(()=>{const d=Math.max(...n.value.map(u=>u.sales),0);return d===0?50:Math.ceil(d/50)*50>=400?100:50}),h=f(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{usePointStyle:!0,padding:20,font:{size:12}}},tooltip:{mode:"index",intersect:!1,callbacks:{label:function(d){return d.datasetIndex===0?`${d.dataset.label}: ${d.parsed.y} units`:`${d.dataset.label}: ${d.parsed.y} units`}}}},scales:{y:{beginAtZero:!0,min:0,suggestedMax:b.value,grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{stepSize:w.value,font:{size:11}}},x:{grid:{color:"rgba(156, 163, 175, 0.1)"},ticks:{font:{size:11}}}},interaction:{mode:"nearest",axis:"x",intersect:!1}})),y=f(()=>m.topProducts.map(d=>({name:d.name,units:d.total_quantity,revenue:d.total_revenue}))),k=[{name:"High Performance",percentage:35,color:"#10B981"},{name:"Medium Performance",percentage:45,color:"#3B82F6"},{name:"Low Performance",percentage:20,color:"#F59E0B"}];f(()=>{const d=n.value,c=Math.max(...d.map(C=>C.sales),1),u=0;return d.map((C,M)=>{const F=M/Math.max(1,d.length-1)*100,i=100-((C.sales-u)/(c-u)*80+10);return`${F},${i}`}).join(" ")}),f(()=>{const d=n.value,c=Math.max(...d.map($=>$.sales),1),u=0;return d.map(($,C)=>{const M=C/Math.max(1,d.length-1)*100,F=100-(($.sales-u)/(c-u)*80+10);return{x:M,y:F}})});function P(d){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:0,maximumFractionDigits:0}).format(d)}return(d,c)=>(_(),B(s(V),null,{default:l(()=>[a(s(O),null,{default:l(()=>[e("div",Tt,[a(s(H),{class:"flex items-center gap-2"},{default:l(()=>[a(s(K),{class:"w-5 h-5 text-indigo-600"}),c[0]||(c[0]=D(" Product Sales Trend "))]),_:1,__:[0]})])]),_:1}),e("div",{class:Q(["overflow-hidden transition-all duration-300 ease-in-out",{"max-h-0":r.value,"max-h-[2000px]":!r.value}])},[a(s(A),null,{default:l(()=>[e("div",Mt,[e("div",Vt,[e("div",At,[c[1]||(c[1]=e("div",null,[e("p",{class:"text-sm font-medium text-indigo-600 dark:text-indigo-400"},"Total Products Sold"),e("p",{class:"text-2xl font-bold text-indigo-700 dark:text-indigo-300"},"8,456")],-1)),a(s(K),{class:"w-8 h-8 text-indigo-600"})]),c[2]||(c[2]=e("p",{class:"text-xs text-indigo-600 dark:text-indigo-400 mt-1"},"+15% from last month",-1))]),e("div",Ft,[e("div",Rt,[c[3]||(c[3]=e("div",null,[e("p",{class:"text-sm font-medium text-emerald-600 dark:text-emerald-400"},"Top Product"),e("p",{class:"text-lg font-bold text-emerald-700 dark:text-emerald-300"},"Ink Cartridge")],-1)),a(s(je),{class:"w-8 h-8 text-emerald-600"})]),c[4]||(c[4]=e("p",{class:"text-xs text-emerald-600 dark:text-emerald-400 mt-1"},"1,247 units sold",-1))]),e("div",It,[e("div",Lt,[c[5]||(c[5]=e("div",null,[e("p",{class:"text-sm font-medium text-amber-600 dark:text-amber-400"},"Avg Daily Sales"),e("p",{class:"text-2xl font-bold text-amber-700 dark:text-amber-300"},"282")],-1)),a(s(j),{class:"w-8 h-8 text-amber-600"})]),c[6]||(c[6]=e("p",{class:"text-xs text-amber-600 dark:text-amber-400 mt-1"},"+8% from last week",-1))])]),e("div",jt,[c[7]||(c[7]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"Product Sales Trend (Last 7 Days)",-1)),e("div",Ht,[a(s(we),{data:x.value,options:h.value,height:"200px"},null,8,["data","options"])])]),e("div",Ot,[e("div",null,[c[8]||(c[8]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"Top Selling Products",-1)),e("div",Nt,[e("div",zt,[(_(!0),S(q,null,W(y.value,u=>(_(),S("div",{key:u.name,class:"flex items-center justify-between"},[e("div",Et,[e("div",Ut,[e("span",Wt,v(u.name.charAt(0)),1)]),e("div",null,[e("p",qt,v(u.name),1)])]),e("div",Yt,[e("p",Zt,v(u.units)+" units",1),e("p",Kt,v(P(u.revenue)),1)])]))),128))])])]),e("div",null,[c[9]||(c[9]=e("h4",{class:"font-medium text-gray-900 dark:text-gray-100 mb-4"},"Product Performance",-1)),e("div",Qt,[e("div",Gt,[(_(),S(q,null,W(k,u=>e("div",{key:u.name,class:"flex items-center justify-between"},[e("div",Jt,[e("div",{class:"w-3 h-3 rounded-full",style:Z({backgroundColor:u.color})},null,4),e("span",Xt,v(u.name),1)]),e("div",es,[e("div",ts,[e("div",{class:"h-full rounded-full transition-all duration-300",style:Z({width:u.percentage+"%",backgroundColor:u.color})},null,4)]),e("span",ss,v(u.percentage)+"%",1)])])),64))])])])])]),_:1})],2)]),_:1}))}}),ls=T({__name:"Tabs",props:{defaultValue:{default:"sales-prediction"},orientation:{},dir:{},activationMode:{},modelValue:{},unmountOnHide:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["update:modelValue"],setup(g,{emit:r}){const x=We(g,r);return(b,w)=>(_(),B(s(Qe),G({"data-slot":"tabs"},s(x)),{default:l(()=>[I(b.$slots,"default")]),_:3},16))}}),os=T({__name:"TabsList",props:{loop:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(g){const r=g,m=le(r,"class");return(n,x)=>(_(),B(s(Je),G({"data-slot":"tabs-list"},s(m),{class:s(ee)("inline-flex h-10 items-center justify-center rounded-md bg-muted text-muted-foreground overflow-hidden",r.class)}),{default:l(()=>[I(n.$slots,"default")]),_:3},16,["class"]))}}),te=T({__name:"TabsTrigger",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(g){const r=g,m=le(r,"class");return(n,x)=>(_(),B(s(Xe),G({"data-slot":"tabs-trigger"},s(m),{class:s(ee)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r.class)}),{default:l(()=>[I(n.$slots,"default")]),_:3},16,["class"]))}}),se=T({__name:"TabsContent",props:{value:{},forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(g){const r=g,m=le(r,"class");return(n,x)=>(_(),B(s(Ge),G({"data-slot":"tabs-content"},s(m),{class:s(ee)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r.class)}),{default:l(()=>[I(n.$slots,"default")]),_:3},16,["class"]))}}),rs={class:"dashboard-wrapper"},ns={class:"dashboard-header"},is={class:"dashboard-filters"},ds={class:"filter-group"},cs={class:"filter-label"},us={key:0,class:"date-range-group"},ms={class:"date-input-group"},ps={class:"date-input-group"},fs={class:"metrics-grid",style:{"grid-template-columns":"repeat(auto-fit, minmax(280px, 1fr))"}},gs={class:"metric-header"},bs={class:"metric-info"},vs={class:"metric-label-group"},_s={class:"metric-value"},hs={class:"metric-header"},ys={class:"metric-info"},xs={class:"metric-label-group"},ws={class:"metric-value"},ks={class:"metric-icon-wrapper metric-icon-green"},$s={class:"metric-header"},Cs={class:"metric-info"},Ps={class:"metric-label-group"},Ds={class:"metric-value"},Ss={class:"metric-icon-wrapper metric-icon-yellow"},Bs={class:"metric-header"},Ts={class:"metric-info"},Ms={class:"metric-label-group"},Vs={class:"metric-value"},As={class:"metric-icon-wrapper metric-icon-orange"},Fs={class:"metric-header"},Rs={class:"metric-info"},Is={class:"metric-label-group"},Ls={class:"metric-value"},js={class:"metric-icon-wrapper metric-icon-purple"},Hs={class:"analytics-tabs-wrapper"},Os={class:"category-section"},Ns={key:0,class:"empty-state"},zs={class:"tables-grid"},Es={class:"table-wrapper"},Us={class:"data-table"},Ws={class:"table-cell table-cell-bold"},qs={class:"table-cell table-cell-right"},Ys={class:"table-cell table-cell-right table-cell-highlight"},Zs={class:"table-wrapper"},Ks={class:"data-table"},Qs={class:"table-cell"},Gs=["href"],Js={class:"table-cell"},Xs={class:"table-cell table-cell-right table-cell-bold"},ea={class:"table-cell table-cell-center"},xa=T({__name:"Dashboard",props:{salesData:{},topProducts:{},salesByDate:{},salesByCategory:{},recentInvoices:{},filters:{},lowStockProducts:{}},setup(g){var F,i;const r=g,m=R(r.filters.period),n=R(r.filters.start_date),x=R(r.filters.end_date),b=[{title:"Dashboard",href:"/dashboard"}],w=[{value:"week",label:"Last 7 Days"},{value:"month",label:"Last 30 Days"},{value:"quarter",label:"Last 3 Months"},{value:"year",label:"Last 12 Months"},{value:"custom",label:"Choose Dates"}];function h(){re.get("/dashboard",{period:m.value,start_date:n.value,end_date:x.value},{preserveState:!0,replace:!0})}Be([m,n,x],()=>{h()});const y=Te(),k=Array.isArray((F=y.props.auth)==null?void 0:F.userRoles)&&y.props.auth.userRoles.includes("Admin"),P=Array.isArray((i=y.props.auth)==null?void 0:i.userRoles)&&y.props.auth.userRoles.includes("Staff")&&!k;ae(()=>{if(P&&r.lowStockProducts&&r.lowStockProducts.length>0){const o=r.lowStockProducts.slice(0,10).map(L=>`<li><strong>${L.name}</strong> (${L.category}) - Stock: <span style="color: #dc2626; font-weight: bold;">${L.stock}</span></li>`).join(""),t=r.lowStockProducts.length>10?r.lowStockProducts.length-10:0,p=t>0?`<br><br><strong>And ${t} more product(s) with low stock.</strong>`:"";Ye.fire({icon:"warning",title:"Low Stock Alert",html:`
                <p>There are <strong>${r.lowStockProducts.length}</strong> product(s) with low stock (≤10 units):</p>
                <ul style="text-align: left; margin: 15px 0; padding-left: 20px;">
                    ${o}
                </ul>
                ${p}
                <p style="margin-top: 15px;">Please review and restock these items soon.</p>
            `,confirmButtonText:"View Products",confirmButtonColor:"#8f5be8",showCancelButton:!0,cancelButtonText:"Dismiss",cancelButtonColor:"#6b7280",width:"600px"}).then(L=>{L.isConfirmed&&re.visit("/products?low_stock=1")})}});const d=f(()=>({labels:r.salesByDate.map(o=>new Date(o.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})),datasets:[{label:"Daily Sales",data:r.salesByDate.map(o=>o.sales),borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4},{label:"Invoices",data:r.salesByDate.map(o=>o.invoices),borderColor:"rgb(16, 185, 129)",backgroundColor:"rgba(16, 185, 129, 0.1)",fill:!1,tension:.4,yAxisID:"y1"}]})),c=f(()=>({plugins:{title:{display:!0,text:"Sales Trend"},legend:{position:"top"}},scales:{y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"Sales Amount (₱)"}},y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:"Number of Invoices"},grid:{drawOnChartArea:!1}}}})),u=f(()=>({labels:r.salesByCategory.map(o=>o.category_name),datasets:[{data:r.salesByCategory.map(o=>o.total_revenue),backgroundColor:["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16","#F97316","#EC4899","#6366F1"],borderWidth:2,borderColor:"#ffffff"}]})),$=f(()=>({plugins:{title:{display:!0,text:"Sales by Category"},legend:{position:"bottom"}}}));f(()=>({labels:r.topProducts.map(o=>o.name),datasets:[{label:"Revenue",data:r.topProducts.map(o=>o.total_revenue),backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgb(59, 130, 246)",borderWidth:1}]})),f(()=>({plugins:{title:{display:!0,text:"Top Products by Revenue"},legend:{display:!1}},scales:{y:{title:{display:!0,text:"Revenue (₱)"}}}}));function C(o){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(o)}return R(!1),[{id:1,title:"New Order Received",message:"Order #1234 has been placed for ₱2,500",time:"2 minutes ago",type:"order",read:!1},{id:2,title:"Low Stock Alert",message:"Ink (brother 500 C, Cyan) is running low on stock",time:"15 minutes ago",type:"alert",read:!1},{id:3,title:"Sales Target Achieved",message:"Congratulations! You've reached 85% of your monthly sales target",time:"1 hour ago",type:"success",read:!0},{id:4,title:"Payment Received",message:"Payment of ₱1,800 has been received for Invoice #5678",time:"2 hours ago",type:"payment",read:!0}].filter(o=>!o.read).length,(o,t)=>(_(),B(Le,{breadcrumbs:b},{default:l(()=>[a(s(Me),{title:"Dashboard"}),a(s(et),null,{default:l(()=>[e("div",rs,[e("div",ns,[t[6]||(t[6]=e("div",null,[e("h1",{class:"dashboard-title"},"Dashboard"),e("p",{class:"dashboard-subtitle"},"View your business performance at a glance")],-1)),e("div",is,[e("div",ds,[e("label",cs,[a(s(He),{class:"w-4 h-4"}),t[3]||(t[3]=D(" View Period "))]),a(s(Ve),{modelValue:m.value,"onUpdate:modelValue":t[0]||(t[0]=p=>m.value=p),options:w,placeholder:"Choose time period",class:"period-select"},null,8,["modelValue"])]),m.value==="custom"?(_(),S("div",us,[e("div",ms,[t[4]||(t[4]=e("label",{class:"date-label"},"Start Date",-1)),ne(e("input",{"onUpdate:modelValue":t[1]||(t[1]=p=>n.value=p),type:"date",class:"date-input"},null,512),[[ie,n.value]])]),e("div",ps,[t[5]||(t[5]=e("label",{class:"date-label"},"End Date",-1)),ne(e("input",{"onUpdate:modelValue":t[2]||(t[2]=p=>x.value=p),type:"date",class:"date-input"},null,512),[[ie,x.value]])])])):me("",!0)])]),t[37]||(t[37]=e("div",{class:"metrics-section"},[e("h2",{class:"section-title"},"Your Business Overview"),e("p",{class:"section-description"},"Quick summary of your sales performance")],-1)),e("div",fs,[a(V,{class:"metric-card"},{default:l(()=>[a(A,{class:"metric-card-content"},{default:l(()=>[e("div",gs,[e("div",bs,[e("div",vs,[t[8]||(t[8]=e("span",{class:"metric-label"},"Total Revenue",-1)),a(s(N),null,{default:l(()=>[a(s(z),{"as-child":""},{default:l(()=>[a(s(U),{class:"help-icon"})]),_:1}),a(s(E),null,{default:l(()=>t[7]||(t[7]=[e("p",null,"The total amount of money you've earned from all sales",-1)])),_:1,__:[7]})]),_:1})]),e("p",_s,v(C(o.salesData.total_sales)),1),t[9]||(t[9]=e("p",{class:"metric-description"},"All sales combined",-1))]),t[10]||(t[10]=e("div",{class:"metric-icon-wrapper metric-icon-blue"},[e("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 119.43 122.88",class:"metric-icon"},[e("path",{d:"M118.45,51l1,1-.74,9.11H99A40.52,40.52,0,0,1,81.88,78.43q-11.44,6.28-27.71,7h-15l.5,37.43H21.42l.74-36.94-.24-24.87H1L0,59.84.74,51H21.92l-.25-15.26H1l-1-1,.74-9.11H21.67L21.42.25,63.29,0Q78.8,0,88.65,6.53T102,25.61h16.5l1,1.23-.74,8.87h-15v3.94A53.17,53.17,0,0,1,102.44,51ZM39.65,25.61H81.26Q74.85,14,58.61,13.3L39.89,14l-.24,11.57ZM39.4,51H83.23a39.51,39.51,0,0,0,1.23-9.6,46.17,46.17,0,0,0-.24-5.66H39.65L39.4,51ZM58.61,71.91q12.56-2.72,19.21-10.84H39.4l-.25,10.1,19.46.74Z"})])],-1))])]),_:1})]),_:1}),a(V,{class:"metric-card"},{default:l(()=>[a(A,{class:"metric-card-content"},{default:l(()=>[e("div",hs,[e("div",ys,[e("div",xs,[t[12]||(t[12]=e("span",{class:"metric-label"},"Total Invoices",-1)),a(s(N),null,{default:l(()=>[a(s(z),{"as-child":""},{default:l(()=>[a(s(U),{class:"help-icon"})]),_:1}),a(s(E),null,{default:l(()=>t[11]||(t[11]=[e("p",null,"The number of sales transactions you've completed",-1)])),_:1,__:[11]})]),_:1})]),e("p",ws,v(o.salesData.total_invoices),1),t[13]||(t[13]=e("p",{class:"metric-description"},"Sales transactions",-1))]),e("div",ks,[a(s(ce),{class:"metric-icon"})])])]),_:1})]),_:1}),a(V,{class:"metric-card"},{default:l(()=>[a(A,{class:"metric-card-content"},{default:l(()=>[e("div",$s,[e("div",Cs,[e("div",Ps,[t[15]||(t[15]=e("span",{class:"metric-label"},"Average Sale Amount",-1)),a(s(N),null,{default:l(()=>[a(s(z),{"as-child":""},{default:l(()=>[a(s(U),{class:"help-icon"})]),_:1}),a(s(E),null,{default:l(()=>t[14]||(t[14]=[e("p",null,"The average amount customers spend per transaction",-1)])),_:1,__:[14]})]),_:1})]),e("p",Ds,v(C(o.salesData.average_order_value)),1),t[16]||(t[16]=e("p",{class:"metric-description"},"Per transaction",-1))]),e("div",Ss,[a(s(j),{class:"metric-icon"})])])]),_:1})]),_:1}),a(V,{class:"metric-card"},{default:l(()=>[a(A,{class:"metric-card-content"},{default:l(()=>[e("div",Bs,[e("div",Ts,[e("div",Ms,[t[18]||(t[18]=e("span",{class:"metric-label"},"Awaiting Payment",-1)),a(s(N),null,{default:l(()=>[a(s(z),{"as-child":""},{default:l(()=>[a(s(U),{class:"help-icon"})]),_:1}),a(s(E),null,{default:l(()=>t[17]||(t[17]=[e("p",null,"Invoices that are still waiting to be paid",-1)])),_:1,__:[17]})]),_:1})]),e("p",Vs,v(o.salesData.pending_invoices),1),t[19]||(t[19]=e("p",{class:"metric-description"},"Need attention",-1))]),e("div",As,[a(s(Ze),{class:"metric-icon"})])])]),_:1})]),_:1}),a(V,{class:"metric-card"},{default:l(()=>[a(A,{class:"metric-card-content"},{default:l(()=>[e("div",Fs,[e("div",Rs,[e("div",Is,[t[21]||(t[21]=e("span",{class:"metric-label"},"Pending Orders",-1)),a(s(N),null,{default:l(()=>[a(s(z),{"as-child":""},{default:l(()=>[a(s(U),{class:"help-icon"})]),_:1}),a(s(E),null,{default:l(()=>t[20]||(t[20]=[e("p",null,"Customer orders waiting for staff approval",-1)])),_:1,__:[20]})]),_:1})]),e("p",Ls,v(o.salesData.pending_orders),1),t[22]||(t[22]=e("p",{class:"metric-description"},"Require review",-1))]),e("div",js,[a(s(Re),{class:"metric-icon"})])])]),_:1})]),_:1})]),t[38]||(t[38]=e("div",{class:"analytics-section"},[e("div",{class:"section-header"},[e("h2",{class:"section-title"},"Sales Trends & Insights"),e("p",{class:"section-description"},"Track how your sales are performing over time")])],-1)),e("div",Hs,[a(s(ls),{defaultValue:"sales-trend",class:"analytics-tabs-full"},{default:l(()=>[a(s(os),{class:"tabs-list-full"},{default:l(()=>[a(s(te),{value:"sales-trend",class:"tab-trigger-full"},{default:l(()=>[a(s(j),{class:"tab-icon"}),t[23]||(t[23]=D(" Your Sales Trend "))]),_:1,__:[23]}),a(s(te),{value:"sales-prediction",class:"tab-trigger-full"},{default:l(()=>[a(s(j),{class:"tab-icon"}),t[24]||(t[24]=D(" Sales Prediction "))]),_:1,__:[24]}),a(s(te),{value:"product-trend",class:"tab-trigger-full"},{default:l(()=>[a(s(Ie),{class:"tab-icon"}),t[25]||(t[25]=D(" Product Sales Trend "))]),_:1,__:[25]})]),_:1}),a(s(se),{value:"sales-trend",class:"tab-content-full"},{default:l(()=>[a(V,{class:"chart-card"},{default:l(()=>[a(O,null,{default:l(()=>[a(H,{class:"chart-title"},{default:l(()=>[a(s(j),{class:"chart-title-icon"}),t[26]||(t[26]=D(" Your Sales Trend "))]),_:1,__:[26]}),a(Y,null,{default:l(()=>t[27]||(t[27]=[D(" See how your daily sales and number of transactions change over time ")])),_:1,__:[27]})]),_:1}),a(A,null,{default:l(()=>[a(de,{type:"line",data:d.value,options:c.value,height:"350px"},null,8,["data","options"])]),_:1})]),_:1})]),_:1}),a(s(se),{value:"sales-prediction",class:"tab-content-full"},{default:l(()=>[a(Bt,{"sales-data":o.salesByDate},null,8,["sales-data"])]),_:1}),a(s(se),{value:"product-trend",class:"tab-content-full"},{default:l(()=>[a(as,{"sales-by-date":o.salesByDate,"top-products":o.topProducts},null,8,["sales-by-date","top-products"])]),_:1})]),_:1})]),e("div",Os,[a(V,{class:"chart-card"},{default:l(()=>[a(O,null,{default:l(()=>[a(H,{class:"chart-title"},{default:l(()=>[a(s(K),{class:"chart-title-icon"}),t[28]||(t[28]=D(" Sales by Product Category "))]),_:1,__:[28]}),a(Y,null,{default:l(()=>t[29]||(t[29]=[D(" See which product categories bring in the most revenue ")])),_:1,__:[29]})]),_:1}),a(A,null,{default:l(()=>[r.salesByCategory.length===0?(_(),S("div",Ns,t[30]||(t[30]=[e("p",{class:"empty-title"},"No category data for the selected period",-1),e("p",{class:"empty-subtitle"},"Try expanding the date range or confirming there are paid invoices.",-1)]))):(_(),B(de,{key:1,type:"doughnut",data:u.value,options:$.value,height:"300px"},null,8,["data","options"]))]),_:1})]),_:1})]),t[39]||(t[39]=e("div",{class:"section-header"},[e("h2",{class:"section-title"},"Product Performance & Recent Activity"),e("p",{class:"section-description"},"Your best-selling products and latest transactions")],-1)),e("div",zs,[a(V,{class:"table-card"},{default:l(()=>[a(O,null,{default:l(()=>[a(H,{class:"table-title"},{default:l(()=>[a(s(K),{class:"table-title-icon"}),t[31]||(t[31]=D(" Best-Selling Products "))]),_:1,__:[31]}),a(Y,null,{default:l(()=>t[32]||(t[32]=[D(" Products that have generated the most revenue ")])),_:1,__:[32]})]),_:1}),a(A,null,{default:l(()=>[e("div",Es,[e("table",Us,[t[33]||(t[33]=e("thead",null,[e("tr",{class:"table-header-row"},[e("th",{class:"table-header"},"Product Name"),e("th",{class:"table-header table-header-right"},"Units Sold"),e("th",{class:"table-header table-header-right"},"Revenue")])],-1)),e("tbody",null,[(_(!0),S(q,null,W(o.topProducts,p=>(_(),S("tr",{key:p.id,class:"table-row"},[e("td",Ws,v(p.name),1),e("td",qs,v(p.total_quantity.toLocaleString()),1),e("td",Ys,v(C(p.total_revenue)),1)]))),128))])])])]),_:1})]),_:1}),a(V,{class:"table-card"},{default:l(()=>[a(O,null,{default:l(()=>[a(H,{class:"table-title"},{default:l(()=>[a(s(ce),{class:"table-title-icon"}),t[34]||(t[34]=D(" Recent Transactions "))]),_:1,__:[34]}),a(Y,null,{default:l(()=>t[35]||(t[35]=[D(" Your most recent sales and invoices ")])),_:1,__:[35]})]),_:1}),a(A,null,{default:l(()=>[e("div",Zs,[e("table",Ks,[t[36]||(t[36]=e("thead",null,[e("tr",{class:"table-header-row"},[e("th",{class:"table-header"},"Invoice #"),e("th",{class:"table-header"},"Customer"),e("th",{class:"table-header table-header-right"},"Amount"),e("th",{class:"table-header table-header-center"},"Status")])],-1)),e("tbody",null,[(_(!0),S(q,null,W(o.recentInvoices,p=>(_(),S("tr",{key:p.id,class:"table-row"},[e("td",Qs,[e("a",{href:`/invoices/${p.id}`,class:"invoice-link"}," #"+v(p.id),9,Gs)]),e("td",Js,v(p.customer_name),1),e("td",Xs,v(C(p.total_amount)),1),e("td",ea,[e("span",{class:Q({"status-badge":!0,"status-paid":p.status==="paid","status-pending":p.status==="pending","status-cancelled":p.status==="cancelled"})},v(p.status.charAt(0).toUpperCase()+p.status.slice(1)),3)])]))),128))])])])]),_:1})]),_:1})])])]),_:1})]),_:1}))}});export{xa as default};
