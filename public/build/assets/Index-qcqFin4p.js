import{d as se,v as le,m as g,s as O,W as w,p as F,c as k,o as r,w as o,a as l,b as e,u as i,g as ae,T as oe,x as z,t as n,G as ie,y as re,e as v,S as ne,f as u,h as x,F as ue,r as de,l as b}from"./app-BPw9FW5W.js";import{_ as y}from"./index-m5TJ7wif.js";import{_ as R}from"./Select.vue_vue_type_script_setup_true_lang-uMBr4YHu.js";import"./LocationInput.vue_vue_type_style_index_0_scoped_0fe2f881_lang-99vuglkR.js";import{B as ce,_ as me}from"./AppLayout.vue_vue_type_script_setup_true_lang-CCrkwxQ7.js";import{_ as C,a as D}from"./CardContent.vue_vue_type_script_setup_true_lang-CqjqLeYt.js";import{_ as pe,a as fe}from"./CardTitle.vue_vue_type_script_setup_true_lang-CJOZJaTy.js";import{S}from"./sweetalert2.esm.all-BQIkj5Wb.js";import{C as ve}from"./circle-alert-0_0G6z31.js";import{C as xe}from"./clock-DaM8s3T-.js";import{C as M}from"./calendar-vgkr_GIw.js";import{P as ye,C as _e}from"./plus-VzfoJnaS.js";import{C as ge}from"./circle-check-big-C5_VSYS1.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-BMK5AF-Z.js";import"./createLucideIcon-D0QdgWbF.js";import"./RovingFocusGroup-C7wI3n6q.js";import"./VisuallyHidden-DzC5HiGR.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DcNnTtmQ.js";import"./chevron-right-Dy4mwVyk.js";const we={class:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-8 mb-6"},be={class:"flex items-center justify-between"},he={class:"text-xl font-bold text-blue-600"},ke={class:"h-12 w-12 rounded-full bg-blue-100 flex items-center justify-center"},Ce={class:"flex items-center justify-between"},De={class:"text-xl font-bold text-red-600"},Se={class:"h-12 w-12 rounded-full bg-red-100 flex items-center justify-center"},Te={class:"flex items-center justify-between"},Be={class:"text-xl font-bold text-yellow-600"},Ve={class:"h-12 w-12 rounded-full bg-yellow-100 flex items-center justify-center"},$e={class:"flex items-center justify-between"},Ae={class:"text-xl font-bold text-orange-600"},Ue={class:"h-12 w-12 rounded-full bg-orange-100 flex items-center justify-center"},Re={class:"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between mt-4 mb-2"},Pe={class:"flex flex-wrap gap-2 items-center w-full md:w-auto"},je={class:"flex items-center gap-2 w-full md:w-auto"},Ne={key:0,class:"py-12 text-center"},Oe={class:"text-sm text-gray-600 mb-6"},Fe={key:0},ze={key:1},Me={key:1},Ee={class:"min-w-full divide-y divide-border"},Le={class:"bg-white divide-y divide-border"},Ye={class:"px-4 py-3 whitespace-nowrap"},He={class:"px-4 py-3"},Ie={key:0,class:"text-sm text-gray-500 mt-1"},We={class:"px-4 py-3 whitespace-nowrap"},Ge={key:0},Xe={class:"font-medium"},qe={key:0,class:"text-sm text-gray-500"},Je={key:1,class:"text-gray-400"},Ke={class:"px-4 py-3 whitespace-nowrap"},Qe={key:0,class:"font-medium"},Ze={key:1,class:"text-gray-400"},et={class:"px-4 py-3 whitespace-nowrap"},tt={class:"flex items-center gap-2"},st={key:0,class:"text-xs text-gray-500 mt-1"},lt={key:1,class:"text-xs text-red-600 font-semibold mt-1"},at={key:2,class:"text-xs text-orange-600 font-semibold mt-1"},ot={class:"px-4 py-3 whitespace-nowrap"},it={class:"px-4 py-3 whitespace-nowrap"},rt={key:0,class:"mt-1"},nt={class:"px-4 py-3 whitespace-nowrap"},ut={class:"flex items-center gap-2"},dt={key:2,class:"mt-6 flex items-center justify-between"},ct={class:"text-sm text-gray-700"},mt={class:"flex gap-2"},Pt=se({__name:"Index",setup(pt){const T=le(),h=g(T.props.filters?T.props.filters:{}),d=g(h.value.type||"all"),c=g(h.value.status||"pending"),m=g(h.value.priority||"all"),_=g(h.value.search||""),p=g(h.value.filter||"all"),B=g(!1),E=[{title:"Reminders",href:"/reminders"}],L=[{value:"all",label:"All Types"},{value:"bill_payment",label:"Bill Payment"},{value:"customer_due",label:"Customer Due"},{value:"credit_term",label:"Credit Term"}],Y=[{value:"all",label:"All Status"},{value:"pending",label:"Pending"},{value:"completed",label:"Completed"},{value:"dismissed",label:"Dismissed"}],H=[{value:"all",label:"All Priorities"},{value:"high",label:"High"},{value:"medium",label:"Medium"},{value:"low",label:"Low"}],I=[{value:"all",label:"All Reminders"},{value:"overdue",label:"Overdue"},{value:"upcoming",label:"Upcoming (7 days)"},{value:"today",label:"Due Today"}];let P=null;O(_,a=>{P&&clearTimeout(P),P=setTimeout(()=>{j()},400)}),O([d,c,m,p],()=>{j()});function j(){w.get("/reminders",{type:d.value!=="all"?d.value:void 0,status:c.value!=="all"?c.value:void 0,priority:m.value!=="all"?m.value:void 0,search:_.value||void 0,filter:p.value!=="all"?p.value:void 0},{preserveState:!0,replace:!0})}function N(a){w.get("/reminders",{type:d.value!=="all"?d.value:void 0,status:c.value!=="all"?c.value:void 0,priority:m.value!=="all"?m.value:void 0,search:_.value||void 0,filter:p.value!=="all"?p.value:void 0,page:a},{preserveState:!0,replace:!0})}function W(a){w.post(`/reminders/${a}/mark-read`,{},{preserveScroll:!0,onSuccess:()=>{S.fire({toast:!0,position:"top-end",icon:"success",title:"Reminder marked as read",showConfirmButton:!1,timer:2e3})}})}function G(a){w.post(`/reminders/${a}/mark-completed`,{},{preserveScroll:!0,onSuccess:()=>{S.fire({toast:!0,position:"top-end",icon:"success",title:"Reminder marked as completed",showConfirmButton:!1,timer:2e3})}})}function X(a){S.fire({title:"Dismiss this reminder?",text:"This will mark the reminder as dismissed.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#8f5be8",cancelButtonColor:"#d33",confirmButtonText:"Yes, dismiss it"}).then(t=>{t.isConfirmed&&w.post(`/reminders/${a}/dismiss`,{},{preserveScroll:!0,onSuccess:()=>{S.fire({toast:!0,position:"top-end",icon:"success",title:"Reminder dismissed",showConfirmButton:!1,timer:2e3})}})})}function q(){w.post("/reminders/mark-all-read",{},{preserveScroll:!0,onSuccess:()=>{S.fire({toast:!0,position:"top-end",icon:"success",title:"All reminders marked as read",showConfirmButton:!1,timer:2e3})}})}function J(a){switch(a){case"bill_payment":return"Bill Payment";case"customer_due":return"Customer Due";case"credit_term":return"Credit Term";default:return a}}function K(a){switch(a){case"bill_payment":return"bg-blue-100 text-blue-800";case"customer_due":return"bg-purple-100 text-purple-800";case"credit_term":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}}function Q(a){switch(a){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}}function Z(a){return a===null?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(a)}function ee(a){return new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function V(a){return new Date(a)<new Date&&new Date(a).toDateString()!==new Date().toDateString()}function $(a){return new Date(a).toDateString()===new Date().toDateString()}function te(a){const t=new Date,U=new Date(a).getTime()-t.getTime();return Math.ceil(U/(1e3*60*60*24))}const A=F(()=>T.props.stats),f=F(()=>T.props.reminders);return(a,t)=>(r(),k(me,{breadcrumbs:E},{default:o(()=>[l(i(ae),{title:"Reminders"}),l(oe,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 transform -translate-y-4","enter-to-class":"opacity-100 transform translate-y-0","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 transform translate-y-0","leave-to-class":"opacity-0 transform -translate-y-4"},{default:o(()=>[z(e("div",we,[l(C,{class:"relative overflow-hidden"},{default:o(()=>[l(D,{class:"p-6"},{default:o(()=>[e("div",be,[e("div",null,[t[9]||(t[9]=e("p",{class:"text-sm font-medium text-muted-foreground"},"Total Pending",-1)),e("p",he,n(A.value.total),1)]),e("div",ke,[l(i(ce),{class:"h-6 w-6 text-blue-600"})])])]),_:1})]),_:1}),l(C,{class:"relative overflow-hidden"},{default:o(()=>[l(D,{class:"p-6"},{default:o(()=>[e("div",Ce,[e("div",null,[t[10]||(t[10]=e("p",{class:"text-sm font-medium text-muted-foreground"},"Overdue",-1)),e("p",De,n(A.value.overdue),1)]),e("div",Se,[l(i(ve),{class:"h-6 w-6 text-red-600"})])])]),_:1})]),_:1}),l(C,{class:"relative overflow-hidden"},{default:o(()=>[l(D,{class:"p-6"},{default:o(()=>[e("div",Te,[e("div",null,[t[11]||(t[11]=e("p",{class:"text-sm font-medium text-muted-foreground"},"Upcoming",-1)),e("p",Be,n(A.value.upcoming),1)]),e("div",Ve,[l(i(xe),{class:"h-6 w-6 text-yellow-600"})])])]),_:1})]),_:1}),l(C,{class:"relative overflow-hidden"},{default:o(()=>[l(D,{class:"p-6"},{default:o(()=>[e("div",$e,[e("div",null,[t[12]||(t[12]=e("p",{class:"text-sm font-medium text-muted-foreground"},"Due Today",-1)),e("p",Ae,n(A.value.today),1)]),e("div",Ue,[l(i(M),{class:"h-6 w-6 text-orange-600"})])])]),_:1})]),_:1})],512),[[ie,B.value]])]),_:1}),e("div",Re,[e("div",Pe,[z(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>_.value=s),type:"text",placeholder:"Search reminders...",class:"rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 flex-1 md:flex-initial min-w-[200px]"},null,512),[[re,_.value]]),l(i(R),{modelValue:d.value,"onUpdate:modelValue":t[1]||(t[1]=s=>d.value=s),options:L,placeholder:"Type",class:"w-full md:w-[150px]"},null,8,["modelValue"]),l(i(R),{modelValue:c.value,"onUpdate:modelValue":t[2]||(t[2]=s=>c.value=s),options:Y,placeholder:"Status",class:"w-full md:w-[150px]"},null,8,["modelValue"]),l(i(R),{modelValue:m.value,"onUpdate:modelValue":t[3]||(t[3]=s=>m.value=s),options:H,placeholder:"Priority",class:"w-full md:w-[150px]"},null,8,["modelValue"]),l(i(R),{modelValue:p.value,"onUpdate:modelValue":t[4]||(t[4]=s=>p.value=s),options:I,placeholder:"Filter",class:"w-full md:w-[150px]"},null,8,["modelValue"])]),e("div",je,[l(i(y),{variant:"outline",onClick:t[5]||(t[5]=s=>B.value=!B.value)},{default:o(()=>[v(n(B.value?"Hide":"Show")+" Stats ",1)]),_:1}),l(i(y),{variant:"outline",onClick:q},{default:o(()=>t[13]||(t[13]=[v(" Mark All Read ")])),_:1,__:[13]}),l(i(ne),{href:a.route("reminders.create")},{default:o(()=>[l(i(y),{variant:"default"},{default:o(()=>[l(i(ye),{class:"h-4 w-4 mr-2"}),t[14]||(t[14]=v(" Create Reminder "))]),_:1,__:[14]})]),_:1},8,["href"])])]),l(C,null,{default:o(()=>[l(pe,null,{default:o(()=>[l(fe,null,{default:o(()=>t[15]||(t[15]=[v("Reminders")])),_:1,__:[15]})]),_:1}),l(D,null,{default:o(()=>[f.value.data.length===0?(r(),u("div",Ne,[t[17]||(t[17]=e("div",{class:"text-xl font-semibold mb-2"},"No reminders found",-1)),e("p",Oe,[_.value||d.value!=="all"||c.value!=="pending"||m.value!=="all"||p.value!=="all"?(r(),u("span",Fe," No reminders match your current filters. ")):(r(),u("span",ze," You're all caught up! No pending reminders at the moment. "))]),_.value||d.value!=="all"||c.value!=="pending"||m.value!=="all"||p.value!=="all"?(r(),k(i(y),{key:0,variant:"outline",onClick:t[6]||(t[6]=s=>{d.value="all",c.value="pending",m.value="all",p.value="all",_.value=""})},{default:o(()=>t[16]||(t[16]=[v(" Clear Filters ")])),_:1,__:[16]})):x("",!0)])):(r(),u("div",Me,[e("table",Ee,[t[22]||(t[22]=e("thead",null,[e("tr",null,[e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Type"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Title"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Customer"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Amount"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Due Date"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Priority"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",Le,[(r(!0),u(ue,null,de(f.value.data,s=>(r(),u("tr",{key:s.id,class:b(["hover:bg-muted transition-colors",s.is_read?"opacity-60":"",V(s.due_date)?"bg-red-50":"",$(s.due_date)?"bg-orange-50":""])},[e("td",Ye,[e("span",{class:b(["px-2 py-1 text-xs font-semibold rounded",K(s.type)])},n(J(s.type)),3)]),e("td",He,[e("div",null,[e("div",{class:b(["font-medium",s.is_read?"text-gray-500":"text-gray-900"])},n(s.title),3),s.description?(r(),u("div",Ie,n(s.description),1)):x("",!0)])]),e("td",We,[s.customer?(r(),u("div",Ge,[e("div",Xe,n(s.customer.name),1),s.customer.company_name?(r(),u("div",qe,n(s.customer.company_name),1)):x("",!0)])):(r(),u("span",Je,"—"))]),e("td",Ke,[s.amount?(r(),u("span",Qe,n(Z(s.amount)),1)):(r(),u("span",Ze,"—"))]),e("td",et,[e("div",tt,[l(i(M),{class:"h-4 w-4 text-gray-400"}),e("span",{class:b(["text-sm",V(s.due_date)?"text-red-600 font-semibold":"",$(s.due_date)?"text-orange-600 font-semibold":"text-gray-700"])},n(ee(s.due_date)),3)]),!V(s.due_date)&&!$(s.due_date)?(r(),u("div",st,n(te(s.due_date))+" days remaining ",1)):V(s.due_date)?(r(),u("div",lt," OVERDUE ")):$(s.due_date)?(r(),u("div",at," DUE TODAY ")):x("",!0)]),e("td",ot,[e("span",{class:b(["px-2 py-1 text-xs font-semibold rounded",Q(s.priority)])},n(s.priority.toUpperCase()),3)]),e("td",it,[e("span",{class:b(["px-2 py-1 text-xs font-semibold rounded",s.status==="pending"?"bg-yellow-100 text-yellow-800":"",s.status==="completed"?"bg-green-100 text-green-800":"",s.status==="dismissed"?"bg-gray-100 text-gray-800":""])},n(s.status.charAt(0).toUpperCase()+s.status.slice(1)),3),s.is_read?x("",!0):(r(),u("div",rt,t[18]||(t[18]=[e("span",{class:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800"}," Unread ",-1)])))]),e("td",nt,[e("div",ut,[s.is_read?x("",!0):(r(),k(i(y),{key:0,variant:"ghost",size:"sm",onClick:U=>W(s.id)},{default:o(()=>t[19]||(t[19]=[v(" Mark Read ")])),_:2,__:[19]},1032,["onClick"])),l(i(y),{variant:"ghost",size:"sm",onClick:U=>G(s.id)},{default:o(()=>[l(i(ge),{class:"h-4 w-4 mr-1"}),t[20]||(t[20]=v(" Complete "))]),_:2,__:[20]},1032,["onClick"]),l(i(y),{variant:"ghost",size:"sm",onClick:U=>X(s.id)},{default:o(()=>[l(i(_e),{class:"h-4 w-4 mr-1"}),t[21]||(t[21]=v(" Dismiss "))]),_:2,__:[21]},1032,["onClick"])])])],2))),128))])])])),f.value.last_page>1?(r(),u("div",dt,[e("div",ct," Showing "+n(f.value.from)+" to "+n(f.value.to)+" of "+n(f.value.total)+" results ",1),e("div",mt,[f.value.prev_page_url?(r(),k(i(y),{key:0,variant:"outline",size:"sm",onClick:t[7]||(t[7]=s=>N(f.value.current_page-1))},{default:o(()=>t[23]||(t[23]=[v(" Previous ")])),_:1,__:[23]})):x("",!0),f.value.next_page_url?(r(),k(i(y),{key:1,variant:"outline",size:"sm",onClick:t[8]||(t[8]=s=>N(f.value.current_page+1))},{default:o(()=>t[24]||(t[24]=[v(" Next ")])),_:1,__:[24]})):x("",!0)])])):x("",!0)]),_:1})]),_:1})]),_:1}))}});export{Pt as default};
