import{d as v,c as x,o as n,w as e,a as s,b as t,u as w,g as b,e as u,f as a,F as p,r as h,t as r,n as y,h as k}from"./app-Cwu7HoSd.js";import{_ as M}from"./AppLayout.vue_vue_type_script_setup_true_lang-By9GJnaP.js";import{_ as m,a as _}from"./CardContent.vue_vue_type_script_setup_true_lang-BYmIXq6h.js";import{_ as c,a as f}from"./CardTitle.vue_vue_type_script_setup_true_lang-DreEaS5s.js";import"./LocationInput.vue_vue_type_style_index_0_scoped_0fe2f881_lang-CbPCljGY.js";import"./index-BdY75aZ2.js";import"./RovingFocusGroup-BZ7O1hI-.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DQ5B8Mu2.js";import"./createLucideIcon-BlW3GIPw.js";import"./VisuallyHidden-GGl4KIsE.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DAN9CPXS.js";const S={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},N={class:"space-y-2"},P={key:0,class:"text-sm text-muted-foreground"},B={class:"w-24 text-xs text-muted-foreground"},C={class:"flex-1 h-2 rounded bg-muted overflow-hidden"},T={class:"w-24 text-right text-sm"},$={class:"grid grid-cols-3 gap-4 text-center"},D={class:"text-2xl font-bold"},F={class:"text-2xl font-bold"},V={class:"text-2xl font-bold"},H={class:"min-w-full divide-y divide-border"},q={class:"px-4 py-2"},z={class:"px-4 py-2 text-right"},A={key:0},E={class:"space-y-2"},I={key:0,class:"text-sm text-muted-foreground"},L={class:"w-40 text-xs text-muted-foreground truncate"},O={class:"flex-1 h-2 rounded bg-muted overflow-hidden"},Q={class:"w-24 text-right text-sm"},j={class:"space-y-2"},G={key:0,class:"text-sm text-muted-foreground"},J={class:"w-24 text-xs text-muted-foreground"},K={class:"flex-1 h-2 rounded bg-muted overflow-hidden"},R={class:"w-24 text-right text-sm"},at=v({__name:"CustomerDashboard",props:{customer:{},monthlySpend:{},statusBreakdown:{},topProducts:{},categorySpend:{},aovTrend:{}},setup(U){function g(l){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(l)}return(l,o)=>(n(),x(M,null,{default:e(()=>[s(w(b),{title:"My Dashboard"}),t("div",S,[s(m,null,{default:e(()=>[s(c,null,{default:e(()=>[s(f,null,{default:e(()=>o[0]||(o[0]=[u("Monthly spend (last 12 months)")])),_:1,__:[0]})]),_:1}),s(_,null,{default:e(()=>[t("div",N,[l.monthlySpend.length===0?(n(),a("div",P," No data yet. ")):(n(!0),a(p,{key:1},h(l.monthlySpend,d=>(n(),a("div",{key:d.month,class:"flex items-center gap-3"},[t("div",B,r(d.month),1),t("div",C,[t("div",{class:"h-2 bg-primary",style:y({width:Math.min(100,Math.round(d.total/(Math.max(...l.monthlySpend.map(i=>i.total))||1)*100))+"%"})},null,4)]),t("div",T,r(g(d.total)),1)]))),128))])]),_:1})]),_:1}),s(m,null,{default:e(()=>[s(c,null,{default:e(()=>[s(f,null,{default:e(()=>o[1]||(o[1]=[u("Order status")])),_:1,__:[1]})]),_:1}),s(_,null,{default:e(()=>[t("div",$,[t("div",null,[t("div",D,r(l.statusBreakdown.paid),1),o[2]||(o[2]=t("div",{class:"text-xs text-muted-foreground"},"Paid",-1))]),t("div",null,[t("div",F,r(l.statusBreakdown.pending),1),o[3]||(o[3]=t("div",{class:"text-xs text-muted-foreground"},"Pending",-1))]),t("div",null,[t("div",V,r(l.statusBreakdown.cancelled),1),o[4]||(o[4]=t("div",{class:"text-xs text-muted-foreground"},"Cancelled",-1))])])]),_:1})]),_:1}),s(m,null,{default:e(()=>[s(c,null,{default:e(()=>[s(f,null,{default:e(()=>o[5]||(o[5]=[u("Top products purchased")])),_:1,__:[5]})]),_:1}),s(_,null,{default:e(()=>[t("table",H,[o[7]||(o[7]=t("thead",null,[t("tr",null,[t("th",{class:"px-4 py-2 text-left"},"Product"),t("th",{class:"px-4 py-2 text-right"},"Qty")])],-1)),t("tbody",null,[(n(!0),a(p,null,h(l.topProducts,d=>(n(),a("tr",{key:d.id,class:"hover:bg-muted"},[t("td",q,r(d.name),1),t("td",z,r(d.total_quantity),1)]))),128)),l.topProducts.length===0?(n(),a("tr",A,o[6]||(o[6]=[t("td",{colspan:"2",class:"px-4 py-4 text-sm text-muted-foreground text-center"},"No purchases yet.",-1)]))):k("",!0)])])]),_:1})]),_:1}),s(m,null,{default:e(()=>[s(c,null,{default:e(()=>[s(f,null,{default:e(()=>o[8]||(o[8]=[u("Spend by category")])),_:1,__:[8]})]),_:1}),s(_,null,{default:e(()=>[t("div",E,[l.categorySpend.length===0?(n(),a("div",I," No spend yet. ")):(n(!0),a(p,{key:1},h(l.categorySpend,d=>(n(),a("div",{key:d.category,class:"flex items-center gap-3"},[t("div",L,r(d.category),1),t("div",O,[t("div",{class:"h-2 bg-primary/70",style:y({width:Math.min(100,Math.round(d.total/(Math.max(...l.categorySpend.map(i=>i.total))||1)*100))+"%"})},null,4)]),t("div",Q,r(g(d.total)),1)]))),128))])]),_:1})]),_:1}),s(m,{class:"lg:col-span-2"},{default:e(()=>[s(c,null,{default:e(()=>[s(f,null,{default:e(()=>o[9]||(o[9]=[u("Average order value (monthly)")])),_:1,__:[9]})]),_:1}),s(_,null,{default:e(()=>[t("div",j,[l.aovTrend.length===0?(n(),a("div",G," No data yet. ")):(n(!0),a(p,{key:1},h(l.aovTrend,d=>(n(),a("div",{key:d.month,class:"flex items-center gap-3"},[t("div",J,r(d.month),1),t("div",K,[t("div",{class:"h-2 bg-emerald-500",style:y({width:Math.min(100,Math.round(d.aov/(Math.max(...l.aovTrend.map(i=>i.aov))||1)*100))+"%"})},null,4)]),t("div",R,r(g(d.aov)),1)]))),128))])]),_:1})]),_:1})])]),_:1}))}});export{at as default};
