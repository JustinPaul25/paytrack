import{d as $,E as z,j as h,G as N,z as L,W as _,c as y,o as d,w as r,a as l,b as t,u as o,g as D,T as A,A as j,t as a,H as F,B as H,S as w,e as m,f as u,h as k,F as I,r as U,x as P}from"./app-Cwu7HoSd.js";import{_ as p}from"./index-BdY75aZ2.js";import{_ as E}from"./AppLayout.vue_vue_type_script_setup_true_lang-By9GJnaP.js";import{_ as v,a as x}from"./CardContent.vue_vue_type_script_setup_true_lang-BYmIXq6h.js";import{_ as B}from"./Icon.vue_vue_type_script_setup_true_lang-DQis0HZp.js";import{S as M}from"./sweetalert2.esm.all-BQIkj5Wb.js";import"./LocationInput.vue_vue_type_style_index_0_scoped_0fe2f881_lang-CbPCljGY.js";import"./RovingFocusGroup-BZ7O1hI-.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DQ5B8Mu2.js";import"./createLucideIcon-BlW3GIPw.js";import"./VisuallyHidden-GGl4KIsE.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DAN9CPXS.js";import"./square-pen-DI8-itfx.js";import"./trophy-2T2D2Bpj.js";import"./check-D_x5Z51u.js";import"./circle-alert-saRZJYPC.js";import"./piggy-bank-I3dCSP5K.js";import"./dollar-sign-CpB2EfwG.js";import"./clock-fysfqMCw.js";import"./eye-off-BvPBxsUh.js";import"./eye-B44xKv85.js";import"./file-text-CgqWlchp.js";import"./loader-circle-K5wVbQx-.js";import"./sun-DRfEoMSO.js";import"./printer-lODmbweb.js";import"./search-fX2YwpmX.js";import"./trash-2-ftcGJkmD.js";import"./trending-up-T8TxdGQZ.js";const K={class:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-8 mb-6"},W={class:"flex items-center justify-between"},G={class:"text-xl font-bold text-blue-600"},Y={class:"flex items-center justify-between"},q={class:"text-xl font-bold text-green-600"},J={class:"flex items-center justify-between"},O={class:"text-xl font-bold text-yellow-600"},Q={class:"flex items-center justify-between"},R={class:"text-xl font-bold text-purple-600"},X={class:"flex items-center justify-between mt-4 mb-2"},Z={class:"flex gap-2 items-center"},tt={class:"flex gap-2 items-center"},et={class:"min-w-full divide-y divide-border"},st={key:0},ot={class:"px-4 py-2 font-medium"},rt={class:"px-4 py-2 text-sm text-gray-500"},lt={class:"px-4 py-2 font-medium"},nt={class:"px-4 py-2"},at=["title"],it={class:"px-4 py-2 text-sm text-gray-500"},dt={class:"px-4 py-2"},ut={class:"flex gap-2"},ct={key:1},pt={colspan:"6",class:"px-4 py-10 text-center text-sm text-gray-500"},ft={key:0,class:"flex items-center justify-between mt-6"},mt={class:"text-sm text-gray-700"},vt={class:"flex gap-2"},xt={class:"fixed bottom-6 right-6 z-50"},gt={key:0,class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ht={key:1,class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ot=$({__name:"Index",setup(_t){const n=z(),b=h(n.props.filters?n.props.filters:{}),c=h(typeof b.value.search=="string"?b.value.search:""),f=h(!1),T=[{title:"Products",href:"/products"}];N(()=>{c.value=n.props.filters&&typeof n.props.filters.search=="string"?n.props.filters.search:""});let g=null;L(c,i=>{g&&clearTimeout(g),g=setTimeout(()=>{_.get("/products",{search:i},{preserveState:!0,replace:!0})},400)});function C(i){_.get("/products",{search:c.value,page:i},{preserveState:!0,replace:!0})}function S(i){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(i)}async function V(i){(await M.fire({title:"Delete Product?",text:"Are you sure you want to delete this product? This action cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#8f5be8",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete product"})).isConfirmed&&_.delete(`/products/${i}`,{onSuccess:()=>{M.fire("Product deleted","Product deleted successfully.","success")}})}return(i,e)=>(d(),y(E,{breadcrumbs:T},{default:r(()=>[l(o(D),{title:"Products"}),l(A,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 transform -translate-y-4","enter-to-class":"opacity-100 transform translate-y-0","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 transform translate-y-0","leave-to-class":"opacity-0 transform -translate-y-4"},{default:r(()=>[j(t("div",K,[l(v,{class:"relative overflow-hidden"},{default:r(()=>[l(x,{class:"p-6"},{default:r(()=>{var s;return[t("div",W,[t("div",null,[e[5]||(e[5]=t("p",{class:"text-sm font-medium text-muted-foreground"},"Total Products",-1)),t("p",G,a(((s=o(n).props.stats)==null?void 0:s.totalProducts)||0),1)]),e[6]||(e[6]=t("div",{class:"h-12 w-12 rounded-full bg-blue-100 flex items-center justify-center"},[t("svg",{class:"h-6 w-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])],-1))])]}),_:1})]),_:1}),l(v,{class:"relative overflow-hidden"},{default:r(()=>[l(x,{class:"p-6"},{default:r(()=>{var s;return[t("div",Y,[t("div",null,[e[7]||(e[7]=t("p",{class:"text-sm font-medium text-muted-foreground"},"Total Stock",-1)),t("p",q,a(((s=o(n).props.stats)==null?void 0:s.totalStock)||0),1)]),e[8]||(e[8]=t("div",{class:"h-12 w-12 rounded-full bg-green-100 flex items-center justify-center"},[t("svg",{class:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-14 0h14"})])],-1))])]}),_:1})]),_:1}),l(v,{class:"relative overflow-hidden"},{default:r(()=>[l(x,{class:"p-6"},{default:r(()=>{var s;return[t("div",J,[t("div",null,[e[9]||(e[9]=t("p",{class:"text-sm font-medium text-muted-foreground"},"Low Stock",-1)),t("p",O,a(((s=o(n).props.stats)==null?void 0:s.lowStockItems)||0),1)]),e[10]||(e[10]=t("div",{class:"h-12 w-12 rounded-full bg-yellow-100 flex items-center justify-center"},[t("svg",{class:"h-6 w-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1))])]}),_:1})]),_:1}),l(v,{class:"relative overflow-hidden"},{default:r(()=>[l(x,{class:"p-6"},{default:r(()=>{var s;return[t("div",Q,[t("div",null,[e[11]||(e[11]=t("p",{class:"text-sm font-medium text-muted-foreground"},"Total Value",-1)),t("p",R,a(S(((s=o(n).props.stats)==null?void 0:s.totalValue)||0)),1)]),e[12]||(e[12]=t("div",{class:"h-12 w-12 rounded-full bg-purple-100 flex items-center justify-center"},[t("svg",{class:"h-6 w-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])],-1))])]}),_:1})]),_:1})],512),[[F,f.value]])]),_:1}),t("div",X,[t("div",Z,[j(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>c.value=s),type:"text",placeholder:"Search products by name, SKU, or category...",class:"rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"},null,512),[[H,c.value]])]),t("div",tt,[l(o(w),{href:i.route("products.trashed.index")},{default:r(()=>[l(o(p),{variant:"outline"},{default:r(()=>e[13]||(e[13]=[m(" Deleted Products ")])),_:1,__:[13]})]),_:1},8,["href"]),l(o(w),{href:i.route("products.create")},{default:r(()=>[l(o(p),{variant:"default"},{default:r(()=>e[14]||(e[14]=[t("span",{class:"mr-2"},"+",-1),m(" Add New Product ")])),_:1,__:[14]})]),_:1},8,["href"])])]),l(v,null,{default:r(()=>[l(x,null,{default:r(()=>[t("table",et,[e[16]||(e[16]=t("thead",null,[t("tr",null,[t("th",{class:"px-4 py-2 text-left"},"Name"),t("th",{class:"px-4 py-2 text-left"},"Category"),t("th",{class:"px-4 py-2 text-left"},"Selling Price"),t("th",{class:"px-4 py-2 text-left"},"Stock"),t("th",{class:"px-4 py-2 text-left"},"SKU"),t("th",{class:"px-4 py-2 text-left"},"Actions")])],-1)),o(n).props.products.data.length?(d(),u("tbody",st,[(d(!0),u(I,null,U(o(n).props.products.data,s=>(d(),u("tr",{key:s.id,class:"hover:bg-muted"},[t("td",ot,a(s.name),1),t("td",rt,a(s.category?s.category.name:"No category"),1),t("td",lt,a(S(s.selling_price)),1),t("td",nt,[t("span",{class:P(["px-2 py-1 rounded-full text-xs font-medium",s.stock<=10?"bg-red-100 text-red-800":s.stock<=50?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"]),title:s.stock<=10?"Low stock â€” reorder soon":s.stock<=50?"Moderate stock":"In stock"},a(s.stock),11,at)]),t("td",it,a(s.SKU),1),t("td",dt,[t("div",ut,[l(o(w),{href:i.route("products.edit",s.id)},{default:r(()=>[l(o(p),{variant:"ghost",size:"sm"},{default:r(()=>[l(B,{name:"edit",class:"h-4 w-4"})]),_:1})]),_:2},1032,["href"]),l(o(p),{variant:"ghost",size:"sm",onClick:yt=>V(s.id)},{default:r(()=>[l(B,{name:"trash",class:"h-4 w-4"})]),_:2},1032,["onClick"])])])]))),128))])):(d(),u("tbody",ct,[t("tr",null,[t("td",pt,[e[15]||(e[15]=m(" No products found. ")),t("button",{type:"button",class:"underline underline-offset-4 ml-1",onClick:e[1]||(e[1]=s=>c.value="")}," Clear search ")])])]))]),o(n).props.products.last_page>1?(d(),u("div",ft,[t("div",mt," Showing "+a(o(n).props.products.from)+" to "+a(o(n).props.products.to)+" of "+a(o(n).props.products.total)+" results ",1),t("div",vt,[o(n).props.products.prev_page_url?(d(),y(o(p),{key:0,variant:"outline",size:"sm",onClick:e[2]||(e[2]=s=>C(o(n).props.products.current_page-1))},{default:r(()=>e[17]||(e[17]=[m(" Previous ")])),_:1,__:[17]})):k("",!0),o(n).props.products.next_page_url?(d(),y(o(p),{key:1,variant:"outline",size:"sm",onClick:e[3]||(e[3]=s=>C(o(n).props.products.current_page+1))},{default:r(()=>e[18]||(e[18]=[m(" Next ")])),_:1,__:[18]})):k("",!0)])])):k("",!0)]),_:1})]),_:1}),t("div",xt,[t("button",{onClick:e[4]||(e[4]=s=>f.value=!f.value),class:P(["h-12 w-12 rounded-full shadow-lg hover:shadow-xl transition-all duration-200 flex items-center justify-center",f.value?"bg-red-500 hover:bg-red-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white"])},[f.value?(d(),u("svg",ht,e[20]||(e[20]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)]))):(d(),u("svg",gt,e[19]||(e[19]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"},null,-1)])))],2)])]),_:1}))}});export{Ot as default};
