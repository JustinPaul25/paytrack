import{d as V,p as w,D as S,c as k,o as f,w as l,a as s,b as o,u as t,g as P,e as d,E as $,x as m,y as c,f as C,h as U,S as E}from"./app-DUIMFX_A.js";import{_}from"./index-Dxf5YqNL.js";import{_ as B}from"./AppLayout.vue_vue_type_script_setup_true_lang-DAHgTxb6.js";import{_ as q,a as N}from"./CardContent.vue_vue_type_script_setup_true_lang-ByRIc-rN.js";import{_ as D,a as I}from"./CardTitle.vue_vue_type_script_setup_true_lang-BSH4amAy.js";import{_ as O}from"./CardFooter.vue_vue_type_script_setup_true_lang-Cq0xzszK.js";import{_ as n}from"./Label.vue_vue_type_script_setup_true_lang-BR6wgIGy.js";import{_ as j}from"./Select.vue_vue_type_script_setup_true_lang-BoW0F7lj.js";import{_ as M}from"./SearchSelect.vue_vue_type_script_setup_true_lang-BtdMy2cE.js";import{S as T}from"./sweetalert2.esm.all-BQIkj5Wb.js";import{_ as u}from"./InputError.vue_vue_type_script_setup_true_lang-LiB0Gp2c.js";import"./LocationInput.vue_vue_type_style_index_0_scoped_0fe2f881_lang-BY68ETEx.js";import"./RovingFocusGroup-DcxPmAMj.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DHUSPf84.js";import"./createLucideIcon-C1gR3juK.js";import"./VisuallyHidden-CZVcGhWB.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-C23Np2nS.js";import"./chevron-right-qIRM7f6o.js";import"./Input.vue_vue_type_script_setup_true_lang-DPM_bi24.js";import"./search-Ds8mJbb0.js";const F={class:"flex gap-4"},z={class:"flex-1"},A={class:"flex gap-4"},G={class:"flex-1"},H={class:"flex gap-4"},J={class:"flex-1"},K={class:"flex gap-4"},L={class:"flex-1"},Q={class:"flex-1"},R={class:"flex gap-4"},W={class:"flex-1"},X={class:"flex-1"},Y={class:"flex gap-4"},Z={class:"flex-1"},ee={key:0,class:"mt-2"},te=["src"],Ve=V({__name:"Edit",props:{product:{},categories:{},image_url:{}},setup(g){const a=g,x=w(()=>a.categories.map(p=>({value:p.id,label:p.name}))),r=S({name:a.product.name,description:a.product.description,category_id:a.product.category_id??null,purchase_price:a.product.purchase_price,selling_price:a.product.selling_price,stock:a.product.stock,unit:a.product.unit||"pcs",image:null}),y=[{value:"pcs",label:"Pcs"},{value:"set",label:"Set"},{value:"box",label:"Box"}],v=[{title:"Products",href:"/products"},{title:"Edit Product",href:`/products/${a.product.id}/edit`}];function b(p){const e=p.target;e.files&&e.files.length>0?r.image=e.files[0]:r.image=null}function h(){r.post(route("products.update",a.product.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{T.fire({toast:!0,position:"top-end",icon:"success",title:"Product updated successfully",showConfirmButton:!1,timer:3e3,timerProgressBar:!0})},onError:()=>{},method:"post"})}return(p,e)=>(f(),k(B,{breadcrumbs:v},{default:l(()=>[s(t(P),{title:"Edit Product"}),e[18]||(e[18]=o("div",{class:"flex items-center justify-between mb-6"},[o("h1",{class:"text-2xl font-bold"},"Edit Product")],-1)),s(q,null,{default:l(()=>[s(D,null,{default:l(()=>[s(I,null,{default:l(()=>e[7]||(e[7]=[d("Edit Product")])),_:1,__:[7]})]),_:1}),s(N,null,{default:l(()=>[o("form",{onSubmit:$(h,["prevent"]),class:"space-y-6",enctype:"multipart/form-data"},[o("div",F,[o("div",z,[s(n,{for:"name"},{default:l(()=>e[8]||(e[8]=[d("Name")])),_:1,__:[8]}),m(o("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=i=>t(r).name=i),class:"w-full rounded border px-3 py-2 mt-1",required:"",placeholder:"Product name"},null,512),[[c,t(r).name]]),s(u,{message:t(r).errors.name},null,8,["message"])])]),o("div",A,[o("div",G,[s(n,{for:"description"},{default:l(()=>e[9]||(e[9]=[d("Description")])),_:1,__:[9]}),m(o("textarea",{id:"description","onUpdate:modelValue":e[1]||(e[1]=i=>t(r).description=i),class:"w-full rounded border px-3 py-2 mt-1",rows:"3",placeholder:"Optional details to help identify the product"},null,512),[[c,t(r).description]]),s(u,{message:t(r).errors.description},null,8,["message"])])]),o("div",H,[o("div",J,[s(n,{for:"category_id"},{default:l(()=>e[10]||(e[10]=[d("Category")])),_:1,__:[10]}),s(t(M),{id:"category_id",modelValue:t(r).category_id,"onUpdate:modelValue":e[2]||(e[2]=i=>t(r).category_id=i),options:x.value,placeholder:"Select category","search-placeholder":"Search categories...",class:"mt-1",required:""},null,8,["modelValue","options"]),s(u,{message:t(r).errors.category_id},null,8,["message"])])]),o("div",K,[o("div",L,[s(n,{for:"purchase_price"},{default:l(()=>e[11]||(e[11]=[d("Purchase Price")])),_:1,__:[11]}),m(o("input",{id:"purchase_price","onUpdate:modelValue":e[3]||(e[3]=i=>t(r).purchase_price=i),type:"number",min:"0",step:"0.01",class:"w-full rounded border px-3 py-2 mt-1",required:"",placeholder:"e.g., 120.00"},null,512),[[c,t(r).purchase_price]]),s(u,{message:t(r).errors.purchase_price},null,8,["message"])]),o("div",Q,[s(n,{for:"selling_price"},{default:l(()=>e[12]||(e[12]=[d("Selling Price")])),_:1,__:[12]}),m(o("input",{id:"selling_price","onUpdate:modelValue":e[4]||(e[4]=i=>t(r).selling_price=i),type:"number",min:"0",step:"0.01",class:"w-full rounded border px-3 py-2 mt-1",required:"",placeholder:"e.g., 150.00"},null,512),[[c,t(r).selling_price]]),s(u,{message:t(r).errors.selling_price},null,8,["message"])])]),o("div",R,[o("div",W,[s(n,{for:"stock"},{default:l(()=>e[13]||(e[13]=[d("Stock")])),_:1,__:[13]}),m(o("input",{id:"stock","onUpdate:modelValue":e[5]||(e[5]=i=>t(r).stock=i),type:"number",min:"0",class:"w-full rounded border px-3 py-2 mt-1",required:"",placeholder:"e.g., 100"},null,512),[[c,t(r).stock]]),s(u,{message:t(r).errors.stock},null,8,["message"])]),o("div",X,[s(n,{for:"unit"},{default:l(()=>e[14]||(e[14]=[d("Unit")])),_:1,__:[14]}),s(t(j),{modelValue:t(r).unit,"onUpdate:modelValue":e[6]||(e[6]=i=>t(r).unit=i),options:y,placeholder:"Select unit",class:"mt-1",required:""},null,8,["modelValue"]),s(u,{message:t(r).errors.unit},null,8,["message"])])]),o("div",Y,[o("div",Z,[s(n,{for:"image"},{default:l(()=>e[15]||(e[15]=[d("Image")])),_:1,__:[15]}),o("input",{id:"image",type:"file",accept:"image/*",onChange:b,class:"w-full rounded border px-3 py-2 mt-1"},null,32),s(u,{message:t(r).errors.image},null,8,["message"]),a.image_url?(f(),C("div",ee,[o("img",{src:a.image_url,alt:"Current Image",class:"h-24 rounded border"},null,8,te)])):U("",!0)])]),s(O,{class:"flex gap-2 justify-end"},{default:l(()=>[s(t(_),{type:"submit",variant:"default"},{default:l(()=>e[16]||(e[16]=[d("Update")])),_:1,__:[16]}),s(t(E),{href:p.route("products.index")},{default:l(()=>[s(t(_),{type:"button",variant:"ghost"},{default:l(()=>e[17]||(e[17]=[d("Cancel")])),_:1,__:[17]})]),_:1},8,["href"])]),_:1})],32)]),_:1})]),_:1})]),_:1,__:[18]}))}});export{Ve as default};
