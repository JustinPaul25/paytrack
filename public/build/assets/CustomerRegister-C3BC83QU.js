import{d as M,I as R,j as h,f as v,o as i,a as r,b as o,u as s,g as q,H as z,F as L,r as G,q as O,B as b,J as k,w as d,e as u,c as f,C as T,h as X,x as V,t as N}from"./app-B8QIr-yB.js";import{_ as p}from"./InputError.vue_vue_type_script_setup_true_lang-C7x7uEqI.js";import{_ as D}from"./TextLink.vue_vue_type_script_setup_true_lang-CIQHN4k4.js";import{_ as C}from"./index-CMa7p19_.js";import{_ as c}from"./Input.vue_vue_type_script_setup_true_lang-GHTKCvWK.js";import{L as J}from"./LocationInput-WyV_F0u5.js";import{_ as g}from"./Label.vue_vue_type_script_setup_true_lang-BgIPOEA2.js";import{E as U}from"./eye-BT8yHWSR.js";import{E}from"./eye-off-BrjmIcFo.js";import{C as H}from"./chevron-left-CqZoZwWc.js";import{C as Y}from"./chevron-right-BFhBpJLr.js";import{L as K}from"./loader-circle-B4xZlzm-.js";import{C as Q}from"./check-CCtWRiY5.js";import"./LocationInput.vue_vue_type_style_index_0_scoped_0fe2f881_lang-CVWryCuy.js";import"./_plugin-vue_export-helper-p7Wb8UTR.js";import"./marker-icon-2x-1TirABJh.js";import"./marker-icon-B6h-nX3D.js";import"./marker-shadow-B9CpECYs.js";import"./createLucideIcon-3f2jlhvw.js";const Z={class:"flex min-h-screen"},ee={class:"flex w-full lg:w-3/5 items-center justify-center bg-background px-8 py-12 overflow-y-auto"},te={class:"w-full max-w-2xl"},se={class:"mb-8"},oe={class:"flex items-center justify-between mb-4"},le={class:"flex items-center"},re={key:1,class:"text-sm font-medium"},ae={class:"ml-3 hidden sm:block"},ne={class:"space-y-6"},ie={class:"relative"},ue={class:"relative"},de={class:"space-y-6"},me={class:"space-y-6"},fe={class:"space-y-6"},pe={key:0,class:"mt-4"},ge=["src"],ce={class:"flex justify-between items-center pt-6"},ve={key:1},xe={class:"flex gap-2"},be={class:"text-center text-sm text-muted-foreground pt-4"},I=4,Ae=M({__name:"CustomerRegister",setup(ye){const l=R({name:"",email:"",password:"",password_confirmation:"",company_name:"",phone:"",address:"",location:{lat:0,lng:0},profile_image:null}),n=h(1),y=h(!1),w=h(!1),_=h(null),P=[{number:1,title:"Basic Information"},{number:2,title:"Contact Information"},{number:3,title:"Location & Address"},{number:4,title:"Profile Picture"}],j=()=>n.value===1?l.name&&l.email&&l.password&&l.password_confirmation:n.value===2||n.value===3||n.value===4,S=()=>{n.value<I&&j()&&n.value++},W=()=>{n.value>1&&n.value--};function B(x){const t=x.target;if(t.files&&t.files.length>0){const e=t.files[0],a=["image/jpeg","image/png"].includes(e.type),m=e.size<=2*1024*1024;if(!a||!m){l.profile_image=null,t.value="";const A=a?"File is too large. Max size is 2MB.":"Please select a JPG or PNG image.";window.alert(A);return}l.profile_image=e,_.value=URL.createObjectURL(e)}else l.profile_image=null,_.value=null}function F(x){const t=x.target;let e=t.value;if(e=e.replace(/[^0-9+]/g,""),e.startsWith("+")){if(e.length>1&&!e.startsWith("+63")){const a=e.substring(1).replace(/[^0-9]/g,"");a.length>0&&a[0]==="9"?e="+63"+a:a.startsWith("63")?e="+"+a:e="+63"+a}if(e.length>3&&e.startsWith("+63")&&e[3]!=="9"){const a=e.substring(3).replace(/[^0-9]/g,""),m=a.indexOf("9");m>=0?e="+63"+a.substring(m):e="+63"}e.length>13&&(e=e.substring(0,13))}else if(e.startsWith("0")){if(e.length>1&&e[1]!=="9"){const a=e.substring(1).replace(/[^0-9]/g,""),m=a.indexOf("9");m>=0?e="09"+a.substring(m+1):e="09"+a}e.length>11&&(e=e.substring(0,11))}else if(e.startsWith("63")){const a=e.substring(2).replace(/[^0-9]/g,"");if(a.length>0&&a[0]==="9")e="+63"+a;else{const m=a.indexOf("9");m>=0?e="+63"+a.substring(m):e="+63"}e.length>13&&(e=e.substring(0,13))}else e.length>0&&e[0]==="9"&&!e.startsWith("09")&&!e.startsWith("+")?(e="0"+e,e.length>11&&(e=e.substring(0,11))):!e.startsWith("+")&&e.length>11&&(e=e.substring(0,11));e!==t.value&&(t.value=e),l.phone=e}const $=()=>{l.post(route("customer.register"),{forceFormData:!0,onFinish:()=>l.reset("password","password_confirmation","profile_image")})};return(x,t)=>(i(),v(L,null,[r(s(q),{title:"Register as Customer"}),o("div",Z,[o("div",ee,[o("div",te,[t[28]||(t[28]=z('<div class="mb-8 flex justify-center"><div class="flex h-16 w-auto items-center justify-center"><img src="/img/paytracklogo.png" alt="PayTrack Logo" class="h-full w-auto max-w-full"></div></div><div class="mb-8 text-center"><h1 class="text-2xl font-bold text-foreground mb-2">Create Your Account</h1><p class="text-sm text-muted-foreground">Fill in your details to get started</p></div>',2)),o("div",se,[o("div",oe,[(i(),v(L,null,G(P,(e,a)=>o("div",{key:e.number,class:"flex items-center flex-1"},[o("div",le,[o("div",{class:V(["flex items-center justify-center w-10 h-10 rounded-full border-2 transition-colors",n.value>e.number||n.value===e.number?"bg-primary border-primary text-primary-foreground":"bg-background border-muted text-muted-foreground"])},[n.value>e.number?(i(),f(s(Q),{key:0,class:"h-5 w-5"})):(i(),v("span",re,N(e.number),1))],2),o("div",ae,[o("div",{class:V(["text-sm font-medium",n.value>=e.number?"text-foreground":"text-muted-foreground"])},N(e.title),3)])]),a<P.length-1?(i(),v("div",{key:0,class:V(["flex-1 h-0.5 mx-4 transition-colors",n.value>e.number?"bg-primary":"bg-muted"])},null,2)):X("",!0)])),64))])]),o("form",{onSubmit:O($,["prevent"]),class:"space-y-6"},[b(o("div",ne,[o("div",null,[r(s(g),{for:"name",class:"text-sm font-medium text-foreground mb-2 block"},{default:d(()=>t[10]||(t[10]=[u("Full Name *")])),_:1,__:[10]}),r(s(c),{id:"name",type:"text",required:"",autofocus:"",autocomplete:"name",modelValue:s(l).name,"onUpdate:modelValue":t[0]||(t[0]=e=>s(l).name=e),placeholder:"Enter your full name",class:"w-full"},null,8,["modelValue"]),r(p,{message:s(l).errors.name},null,8,["message"])]),o("div",null,[r(s(g),{for:"email",class:"text-sm font-medium text-foreground mb-2 block"},{default:d(()=>t[11]||(t[11]=[u("Email Address *")])),_:1,__:[11]}),r(s(c),{id:"email",type:"email",required:"",autocomplete:"email",modelValue:s(l).email,"onUpdate:modelValue":t[1]||(t[1]=e=>s(l).email=e),placeholder:"Enter your email address",class:"w-full"},null,8,["modelValue"]),r(p,{message:s(l).errors.email},null,8,["message"])]),o("div",null,[r(s(g),{for:"password",class:"text-sm font-medium text-foreground mb-2 block"},{default:d(()=>t[12]||(t[12]=[u("Password *")])),_:1,__:[12]}),o("div",ie,[r(s(c),{id:"password",type:y.value?"text":"password",required:"",autocomplete:"new-password",modelValue:s(l).password,"onUpdate:modelValue":t[2]||(t[2]=e=>s(l).password=e),placeholder:"Enter your password",class:"w-full pr-12"},null,8,["type","modelValue"]),o("button",{type:"button",onClick:t[3]||(t[3]=e=>y.value=!y.value),class:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors"},[y.value?(i(),f(s(U),{key:0,class:"h-5 w-5"})):(i(),f(s(E),{key:1,class:"h-5 w-5"}))])]),r(p,{message:s(l).errors.password},null,8,["message"])]),o("div",null,[r(s(g),{for:"password_confirmation",class:"text-sm font-medium text-foreground mb-2 block"},{default:d(()=>t[13]||(t[13]=[u("Confirm Password *")])),_:1,__:[13]}),o("div",ue,[r(s(c),{id:"password_confirmation",type:w.value?"text":"password",required:"",autocomplete:"new-password",modelValue:s(l).password_confirmation,"onUpdate:modelValue":t[4]||(t[4]=e=>s(l).password_confirmation=e),placeholder:"Confirm your password",class:"w-full pr-12"},null,8,["type","modelValue"]),o("button",{type:"button",onClick:t[5]||(t[5]=e=>w.value=!w.value),class:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors"},[w.value?(i(),f(s(U),{key:0,class:"h-5 w-5"})):(i(),f(s(E),{key:1,class:"h-5 w-5"}))])]),r(p,{message:s(l).errors.password_confirmation},null,8,["message"])])],512),[[k,n.value===1]]),b(o("div",de,[o("div",null,[r(s(g),{for:"company_name",class:"text-sm font-medium text-foreground mb-2 block"},{default:d(()=>t[14]||(t[14]=[u("Company Name")])),_:1,__:[14]}),r(s(c),{id:"company_name",type:"text",autocomplete:"organization",modelValue:s(l).company_name,"onUpdate:modelValue":t[6]||(t[6]=e=>s(l).company_name=e),placeholder:"Enter your company name",class:"w-full"},null,8,["modelValue"]),t[15]||(t[15]=o("p",{class:"text-xs text-muted-foreground mt-1"},"Add if you represent a company.",-1)),r(p,{message:s(l).errors.company_name},null,8,["message"])]),o("div",null,[r(s(g),{for:"phone",class:"text-sm font-medium text-foreground mb-2 block"},{default:d(()=>t[16]||(t[16]=[u("Phone Number")])),_:1,__:[16]}),r(s(c),{id:"phone",modelValue:s(l).phone,"onUpdate:modelValue":t[7]||(t[7]=e=>s(l).phone=e),placeholder:"09XXXXXXXXX or +639XXXXXXXXX",inputmode:"tel",pattern:"^(?:\\+?63|0)9\\d{9}$",maxlength:"13",onInput:F,class:"w-full"},null,8,["modelValue"]),t[17]||(t[17]=o("p",{class:"text-xs text-muted-foreground mt-1"},"Philippine mobile number format only (09XXXXXXXXX or +639XXXXXXXXX).",-1)),r(p,{message:s(l).errors.phone},null,8,["message"])])],512),[[k,n.value===2]]),b(o("div",me,[o("div",null,[r(s(g),{for:"address",class:"text-sm font-medium text-foreground mb-2 block"},{default:d(()=>t[18]||(t[18]=[u("Address")])),_:1,__:[18]}),b(o("textarea",{id:"address","onUpdate:modelValue":t[8]||(t[8]=e=>s(l).address=e),placeholder:"Street, city, state",class:"w-full rounded border px-3 py-2 mt-1",rows:"3"},null,512),[[T,s(l).address]]),t[19]||(t[19]=o("p",{class:"text-xs text-muted-foreground mt-1"},"Helps with delivery and invoices.",-1)),r(p,{message:s(l).errors.address},null,8,["message"])]),o("div",null,[r(s(g),{for:"location",class:"text-sm font-medium text-foreground mb-2 block"},{default:d(()=>t[20]||(t[20]=[u("Location")])),_:1,__:[20]}),r(J,{modelValue:s(l).location,"onUpdate:modelValue":t[9]||(t[9]=e=>s(l).location=e)},null,8,["modelValue"]),r(p,{message:s(l).errors.location},null,8,["message"])])],512),[[k,n.value===3]]),b(o("div",fe,[o("div",null,[r(s(g),{for:"profile_image",class:"text-sm font-medium text-foreground mb-2 block"},{default:d(()=>t[21]||(t[21]=[u("Profile Picture")])),_:1,__:[21]}),r(s(c),{id:"profile_image",type:"file",accept:"image/jpeg,image/png",onChange:B,class:"w-full"}),t[22]||(t[22]=o("p",{class:"text-xs text-muted-foreground mt-1"},"Max 2MB, JPG or PNG.",-1)),r(p,{message:s(l).errors.profile_image},null,8,["message"]),_.value?(i(),v("div",pe,[o("img",{src:_.value,alt:"Profile Preview",class:"w-32 h-32 object-cover rounded-full border-2 border-border"},null,8,ge)])):X("",!0)])],512),[[k,n.value===4]]),o("div",ce,[n.value>1?(i(),f(s(C),{key:0,type:"button",variant:"outline",onClick:W,class:"flex items-center gap-2"},{default:d(()=>[r(s(H),{class:"h-4 w-4"}),t[23]||(t[23]=u(" Previous "))]),_:1,__:[23]})):(i(),v("div",ve)),o("div",xe,[n.value<I?(i(),f(s(C),{key:0,type:"button",onClick:S,disabled:!j(),class:"flex items-center gap-2"},{default:d(()=>[t[24]||(t[24]=u(" Next ")),r(s(Y),{class:"h-4 w-4"})]),_:1,__:[24]},8,["disabled"])):(i(),f(s(C),{key:1,type:"submit",disabled:s(l).processing,class:"flex items-center gap-2"},{default:d(()=>[s(l).processing?(i(),f(s(K),{key:0,class:"h-4 w-4 animate-spin"})):X("",!0),t[25]||(t[25]=u(" Create Account "))]),_:1,__:[25]},8,["disabled"]))])]),o("div",be,[t[27]||(t[27]=u(" Already have an account? ")),r(D,{href:x.route("login"),class:"underline underline-offset-4"},{default:d(()=>t[26]||(t[26]=[u("Log in")])),_:1,__:[26]},8,["href"])])],32)])]),t[29]||(t[29]=o("div",{class:"hidden lg:flex lg:w-2/5 relative overflow-hidden"},[o("img",{src:"/img/login_img.jpg",alt:"Registration",class:"w-full h-full object-cover"}),o("div",{class:"absolute inset-0 bg-black/10"})],-1))])],64))}});export{Ae as default};
