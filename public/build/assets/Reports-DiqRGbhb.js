import{d as C,r as g,j as x,W as R,c as M,a as N,o as m,w as i,b as o,e as t,u as f,k as S,f as u,m as h,v as y,g as c,F as V,h as $,t as l,n as _}from"./app-WiUpeBwz.js";import{F as E,_ as B}from"./AppLayout.vue_vue_type_script_setup_true_lang-asCoNTCN.js";import{_ as j,a as D}from"./CardContent.vue_vue_type_script_setup_true_lang-C1Ro3lXn.js";import{a as T,_ as H}from"./CardTitle.vue_vue_type_script_setup_true_lang-CL8KIKUs.js";import{_ as b}from"./index-Cn_g6VzM.js";import{P as I}from"./printer-B2JEqeVr.js";import"./LocationInput.vue_vue_type_style_index_0_scoped_5601c0ff_lang-DTIP4i8X.js";import"./RovingFocusGroup-DA_UrK7F.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-BUpirRbf.js";import"./createLucideIcon-DXTUwZoB.js";import"./VisuallyHidden-CHKbz_EY.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-4xCIPFzj.js";const U={class:"flex flex-col gap-6 print:gap-4"},W={class:"flex items-start justify-between flex-wrap gap-4 print:hidden"},z={class:"flex gap-2"},L={class:"flex gap-4 flex-wrap print:hidden"},q={class:"flex flex-col"},A={class:"flex flex-col"},G={key:0,class:"overflow-x-auto"},J={class:"min-w-full divide-y divide-gray-200 print:divide-gray-300"},K={class:"divide-y divide-gray-200 print:divide-gray-300"},O={class:"px-4 py-3 text-sm font-medium text-gray-800"},Q={class:"px-4 py-3 text-right text-sm text-green-600 font-semibold"},X={class:"px-4 py-3 text-right text-sm text-red-600 font-semibold"},Y={class:"bg-gray-100 print:bg-gray-200"},Z={class:"px-4 py-3 text-right text-sm font-semibold text-gray-700"},tt={class:"px-4 py-3 text-right text-sm font-semibold text-gray-700"},et={key:1,class:"py-16 text-center text-sm text-gray-500"},xt=C({__name:"Reports",props:{filters:{},rows:{},totals:{}},setup(v){const p=v,w=[{title:"Sales",href:"/sales/analytics"},{title:"Financial Reports",href:"/finance/reports"}],r=g(p.filters.start_month),a=g(p.filters.end_month);x(()=>p.filters.start_month,s=>{s&&r.value!==s&&(r.value=s)}),x(()=>p.filters.end_month,s=>{s&&a.value!==s&&(a.value=s)}),x([r,a],()=>{!r.value||!a.value||R.get("/finance/reports",{start_month:r.value,end_month:a.value},{preserveState:!0,replace:!0})});const k=M(()=>p.rows.length>0);function d(s){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(s)}function F(){window.print()}function P(){const s=route("finance.reports.export",{start_month:r.value,end_month:a.value});window.location.href=s}return(s,e)=>(m(),N(B,{breadcrumbs:w},{default:i(()=>[o(f(S),{title:"Financial Reports"}),t("div",U,[t("div",W,[e[4]||(e[4]=t("div",null,[t("h1",{class:"text-2xl font-bold"},"Financial Reports"),t("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," Review monthly income, expenses, and net cash results in a printable, exportable table. ")],-1)),t("div",z,[o(f(b),{variant:"outline",onClick:F},{default:i(()=>[o(f(I),{class:"h-4 w-4 mr-2"}),e[2]||(e[2]=u(" Print "))]),_:1,__:[2]}),o(f(b),{variant:"default",onClick:P},{default:i(()=>[o(f(E),{class:"h-4 w-4 mr-2"}),e[3]||(e[3]=u(" Export CSV "))]),_:1,__:[3]})])]),o(j,null,{default:i(()=>[o(T,{class:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between"},{default:i(()=>[o(H,null,{default:i(()=>e[5]||(e[5]=[u("Reporting Period")])),_:1,__:[5]}),t("div",L,[t("div",q,[e[6]||(e[6]=t("label",{for:"start-month",class:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide"}," Start Month ",-1)),h(t("input",{id:"start-month","onUpdate:modelValue":e[0]||(e[0]=n=>r.value=n),type:"month",class:"mt-1 rounded-md border border-input bg-background px-3 py-2 text-sm shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"},null,512),[[y,r.value]])]),t("div",A,[e[7]||(e[7]=t("label",{for:"end-month",class:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide"}," End Month ",-1)),h(t("input",{id:"end-month","onUpdate:modelValue":e[1]||(e[1]=n=>a.value=n),type:"month",class:"mt-1 rounded-md border border-input bg-background px-3 py-2 text-sm shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-1 focus:ring-indigo-500"},null,512),[[y,a.value]])])])]),_:1}),o(D,null,{default:i(()=>[k.value?(m(),c("div",G,[t("table",J,[e[9]||(e[9]=t("thead",{class:"bg-gray-50 print:bg-white"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-sm font-semibold text-gray-600 uppercase tracking-wide"}," Month "),t("th",{class:"px-4 py-3 text-right text-sm font-semibold text-gray-600 uppercase tracking-wide"}," Income (₱) "),t("th",{class:"px-4 py-3 text-right text-sm font-semibold text-gray-600 uppercase tracking-wide"}," Expenses (₱) "),t("th",{class:"px-4 py-3 text-right text-sm font-semibold text-gray-600 uppercase tracking-wide"}," Net (₱) ")])],-1)),t("tbody",K,[(m(!0),c(V,null,$(s.rows,n=>(m(),c("tr",{key:n.month,class:"bg-white even:bg-gray-50 print:bg-white"},[t("td",O,l(n.label),1),t("td",Q,l(d(n.income)),1),t("td",X,l(d(n.expenses)),1),t("td",{class:_(["px-4 py-3 text-right text-sm font-semibold",n.net>=0?"text-green-700":"text-red-700"])},l(d(n.net)),3)]))),128))]),t("tfoot",null,[t("tr",Y,[e[8]||(e[8]=t("th",{class:"px-4 py-3 text-left text-sm font-semibold text-gray-700 uppercase tracking-wide"}," Totals ",-1)),t("th",Z,l(d(s.totals.income)),1),t("th",tt,l(d(s.totals.expenses)),1),t("th",{class:_(["px-4 py-3 text-right text-sm font-semibold",s.totals.net>=0?"text-green-700":"text-red-700"])},l(d(s.totals.net)),3)])])])])):(m(),c("div",et," No financial activity found for the selected period. "))]),_:1})]),_:1})])]),_:1}))}});export{xt as default};
