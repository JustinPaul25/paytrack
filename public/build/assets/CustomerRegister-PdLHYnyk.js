const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LocationInput-DrNLtDsP.js","assets/index-riohrRak.js","assets/app-BJGGIgA8.js","assets/app-Dkbx8ahV.css","assets/vue-leaflet.es-BKYkO_Ao.js","assets/LocationInput.vue_vue_type_style_index_0_scoped_85568d9b_lang-CX_goT8l.js","assets/LocationInput-Ep_DeuFo.css","assets/marker-icon-2x-1TirABJh.js","assets/marker-icon-B6h-nX3D.js","assets/marker-shadow-B9CpECYs.js","assets/_plugin-vue_export-helper-DlAUqK2U.js"])))=>i.map(i=>d[i]);
import{d as z,E as G,m as _,p as C,s as U,e as f,o as d,a as s,b as l,u as t,g as H,C as Y,F as V,r as L,G as J,x as h,f as S,H as N,w as a,h as n,c as p,y as K,I as Q,t as x,n as E,_ as W}from"./app-BJGGIgA8.js";import{_ as m}from"./InputError.vue_vue_type_script_setup_true_lang-YNpV2x5o.js";import{_ as Z}from"./TextLink.vue_vue_type_script_setup_true_lang-VszGLmF9.js";import{_ as w}from"./index-riohrRak.js";import{_ as c}from"./Input.vue_vue_type_script_setup_true_lang-o7QhFVaq.js";import"./LocationInput.vue_vue_type_style_index_0_scoped_85568d9b_lang-CX_goT8l.js";import{_ as ee}from"./PhoneInput.vue_vue_type_script_setup_true_lang--2OWr11_.js";import{_ as u}from"./Label.vue_vue_type_script_setup_true_lang-bOJZE9lv.js";import{_ as P}from"./SearchSelect.vue_vue_type_script_setup_true_lang-DjNxBFPF.js";import{g as te,a as oe,p as se}from"./philippines-BZpectg7.js";import{_ as le,a as re,b as ae,c as ne,d as ie,e as de}from"./DialogTitle.vue_vue_type_script_setup_true_lang-BKWl03TP.js";import{_ as me}from"./DialogClose.vue_vue_type_script_setup_true_lang-Dt8J_fcX.js";import{E as X}from"./eye-BztToSRT.js";import{E as j}from"./eye-off-dgfcsi04.js";import{C as ue}from"./chevron-left-Czs0_KEi.js";import{C as pe}from"./chevron-right-CjvrEjDl.js";import{L as fe}from"./loader-circle-ZvNwhMCX.js";import{C as ce}from"./circle-alert-C-R8aAcF.js";import{C as ge}from"./check-CuaqBRk8.js";import"./chevron-down-B83M1Caq.js";import"./search-BUl39vHB.js";import"./x-BjkU5bBK.js";import"./useForwardPropsEmits-CZzI8B5e.js";import"./DialogPortal-Dpb7jdpY.js";import"./Teleport-MSIji786.js";const ve={class:"flex min-h-screen"},ye={class:"flex w-full lg:w-3/5 items-center justify-center bg-background px-8 py-12 overflow-y-auto"},be={class:"w-full max-w-2xl"},_e={class:"mb-8"},xe={class:"flex items-center justify-between mb-4"},we={class:"flex items-center"},ke={key:1,class:"text-sm font-medium"},Ce={class:"ml-3 hidden sm:block"},Ve={class:"space-y-6"},he={class:"relative"},Se={class:"relative"},Ee={class:"space-y-6"},Pe={key:0,class:"space-y-6"},$e={class:"flex justify-between items-center pt-6"},Ae={key:1},Ue={class:"flex gap-2"},Le={class:"text-center text-sm text-muted-foreground pt-4"},Ne={class:"max-h-96 overflow-y-auto"},Xe={class:"space-y-2 list-disc list-inside"},je={class:"capitalize"},q=3,it=z({__name:"CustomerRegister",setup(qe){const F=Q(()=>W(()=>import("./LocationInput-DrNLtDsP.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]))),o=G({name:"",email:"",password:"",password_confirmation:"",company_name:"",phone:"",address:"",barangay:"",city_municipality:"",province:"",location:null}),i=_(1),g=_(!1),v=_(!1),y=_(!1),B=C(()=>Object.entries(o.errors).map(([b,e])=>({field:b,message:Array.isArray(e)?e[0]:e}))),$=[{number:1,title:"Basic Information"},{number:2,title:"Contact Information"},{number:3,title:"Location & Address"}],A=()=>i.value===1?o.name&&o.email&&o.password&&o.password_confirmation:i.value===2?!0:i.value===3?o.address&&o.province&&o.city_municipality&&o.barangay&&o.location:!1,R=()=>{if(i.value<q&&A()){if(i.value===2&&o.phone&&!/^\+63\d{10}$/.test(o.phone)){o.setError("phone","Please enter a valid 10-digit Philippine mobile number.");return}o.clearErrors("phone"),i.value++}},D=()=>{i.value>1&&i.value--},M=()=>{o.location&&(o.location.lat===0&&o.location.lng===0||!o.location.lat||!o.location.lng)&&(o.location=null),o.post(route("customer.register"),{forceFormData:!0,onFinish:()=>o.reset("password","password_confirmation"),onError:()=>{y.value=!0}})},O=()=>{y.value=!1},I=C(()=>te(o.province)),T=C(()=>oe(o.city_municipality));return U(()=>o.province,()=>{o.city_municipality="",o.barangay=""}),U(()=>o.city_municipality,()=>{o.barangay=""}),(b,e)=>(d(),f(V,null,[s(t(H),{title:"Register as Customer"}),l("div",ve,[l("div",ye,[l("div",be,[e[36]||(e[36]=Y('<div class="mb-8 flex justify-center"><div class="flex h-16 w-auto items-center justify-center"><img src="/img/paytracklogo.png" alt="PayTrack Logo" class="h-full w-auto max-w-full"></div></div><div class="mb-8 text-center"><h1 class="text-2xl font-bold text-foreground mb-2">Create Your Account</h1><p class="text-sm text-muted-foreground">Fill in your details to get started</p></div>',2)),l("div",_e,[l("div",xe,[(d(),f(V,null,L($,(r,k)=>l("div",{key:r.number,class:"flex items-center flex-1"},[l("div",we,[l("div",{class:E(["flex items-center justify-center w-10 h-10 rounded-full border-2 transition-colors",i.value>r.number||i.value===r.number?"bg-primary border-primary text-primary-foreground":"bg-background border-muted text-muted-foreground"])},[i.value>r.number?(d(),p(t(ge),{key:0,class:"h-5 w-5"})):(d(),f("span",ke,x(r.number),1))],2),l("div",Ce,[l("div",{class:E(["text-sm font-medium",i.value>=r.number?"text-foreground":"text-muted-foreground"])},x(r.title),3)])]),k<$.length-1?(d(),f("div",{key:0,class:E(["flex-1 h-0.5 mx-4 transition-colors",i.value>r.number?"bg-primary":"bg-muted"])},null,2)):S("",!0)])),64))])]),l("form",{onSubmit:J(M,["prevent"]),class:"space-y-6"},[h(l("div",Ve,[l("div",null,[s(t(u),{for:"name",class:"text-sm font-medium text-foreground mb-2 block"},{default:a(()=>e[14]||(e[14]=[n("Full Name *")])),_:1,__:[14]}),s(t(c),{id:"name",type:"text",required:"",autofocus:"",autocomplete:"name",modelValue:t(o).name,"onUpdate:modelValue":e[0]||(e[0]=r=>t(o).name=r),placeholder:"Enter your full name",class:"w-full"},null,8,["modelValue"]),s(m,{message:t(o).errors.name},null,8,["message"])]),l("div",null,[s(t(u),{for:"email",class:"text-sm font-medium text-foreground mb-2 block"},{default:a(()=>e[15]||(e[15]=[n("Email Address *")])),_:1,__:[15]}),s(t(c),{id:"email",type:"email",required:"",autocomplete:"email",modelValue:t(o).email,"onUpdate:modelValue":e[1]||(e[1]=r=>t(o).email=r),placeholder:"Enter your email address",class:"w-full"},null,8,["modelValue"]),s(m,{message:t(o).errors.email},null,8,["message"])]),l("div",null,[s(t(u),{for:"password",class:"text-sm font-medium text-foreground mb-2 block"},{default:a(()=>e[16]||(e[16]=[n("Password *")])),_:1,__:[16]}),l("div",he,[s(t(c),{id:"password",type:g.value?"text":"password",required:"",autocomplete:"new-password",modelValue:t(o).password,"onUpdate:modelValue":e[2]||(e[2]=r=>t(o).password=r),placeholder:"Enter your password",class:"w-full pr-12"},null,8,["type","modelValue"]),l("button",{type:"button",onClick:e[3]||(e[3]=r=>g.value=!g.value),class:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors"},[g.value?(d(),p(t(X),{key:0,class:"h-5 w-5"})):(d(),p(t(j),{key:1,class:"h-5 w-5"}))])]),s(m,{message:t(o).errors.password},null,8,["message"])]),l("div",null,[s(t(u),{for:"password_confirmation",class:"text-sm font-medium text-foreground mb-2 block"},{default:a(()=>e[17]||(e[17]=[n("Confirm Password *")])),_:1,__:[17]}),l("div",Se,[s(t(c),{id:"password_confirmation",type:v.value?"text":"password",required:"",autocomplete:"new-password",modelValue:t(o).password_confirmation,"onUpdate:modelValue":e[4]||(e[4]=r=>t(o).password_confirmation=r),placeholder:"Confirm your password",class:"w-full pr-12"},null,8,["type","modelValue"]),l("button",{type:"button",onClick:e[5]||(e[5]=r=>v.value=!v.value),class:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors"},[v.value?(d(),p(t(X),{key:0,class:"h-5 w-5"})):(d(),p(t(j),{key:1,class:"h-5 w-5"}))])]),s(m,{message:t(o).errors.password_confirmation},null,8,["message"])])],512),[[N,i.value===1]]),h(l("div",Ee,[l("div",null,[s(t(u),{for:"company_name",class:"text-sm font-medium text-foreground mb-2 block"},{default:a(()=>e[18]||(e[18]=[n("Company Name")])),_:1,__:[18]}),s(t(c),{id:"company_name",type:"text",autocomplete:"organization",modelValue:t(o).company_name,"onUpdate:modelValue":e[6]||(e[6]=r=>t(o).company_name=r),placeholder:"Enter your company name",class:"w-full"},null,8,["modelValue"]),e[19]||(e[19]=l("p",{class:"text-xs text-muted-foreground mt-1"},"Add if you represent a company.",-1)),s(m,{message:t(o).errors.company_name},null,8,["message"])]),l("div",null,[s(t(u),{for:"phone",class:"text-sm font-medium text-foreground mb-2 block"},{default:a(()=>e[20]||(e[20]=[n("Phone Number")])),_:1,__:[20]}),s(ee,{id:"phone",modelValue:t(o).phone,"onUpdate:modelValue":e[7]||(e[7]=r=>t(o).phone=r),placeholder:"XXXXXXXXXX",class:"w-full"},null,8,["modelValue"]),e[21]||(e[21]=l("p",{class:"text-xs text-muted-foreground mt-1"},"Enter 10-digit Philippine mobile number.",-1)),s(m,{message:t(o).errors.phone},null,8,["message"])])],512),[[N,i.value===2]]),i.value===3?(d(),f("div",Pe,[l("div",null,[s(t(u),{for:"address",class:"text-sm font-medium text-foreground mb-2 block"},{default:a(()=>e[22]||(e[22]=[n("Street Address/Purok *")])),_:1,__:[22]}),h(l("textarea",{id:"address","onUpdate:modelValue":e[8]||(e[8]=r=>t(o).address=r),class:"w-full rounded border px-3 py-2 mt-1",rows:"2",placeholder:"House/Unit number, Street name",required:""},null,512),[[K,t(o).address]]),e[23]||(e[23]=l("p",{class:"text-xs text-muted-foreground mt-1"},"Additional address details if needed.",-1)),s(m,{message:t(o).errors.address},null,8,["message"])]),l("div",null,[s(t(u),{for:"province",class:"text-sm font-medium text-foreground mb-2 block"},{default:a(()=>e[24]||(e[24]=[n("Province *")])),_:1,__:[24]}),s(P,{"model-value":t(o).province,options:t(se),placeholder:"Select province",searchPlaceholder:"Search province...","onUpdate:modelValue":e[9]||(e[9]=r=>t(o).province=String(r??"")),required:""},null,8,["model-value","options"]),s(m,{message:t(o).errors.province},null,8,["message"])]),l("div",null,[s(t(u),{for:"city_municipality",class:"text-sm font-medium text-foreground mb-2 block"},{default:a(()=>e[25]||(e[25]=[n("City/Municipality *")])),_:1,__:[25]}),s(P,{"model-value":t(o).city_municipality,options:I.value,placeholder:"Select city or municipality",searchPlaceholder:"Search city or municipality...",disabled:!t(o).province,"onUpdate:modelValue":e[10]||(e[10]=r=>t(o).city_municipality=String(r??"")),required:""},null,8,["model-value","options","disabled"]),s(m,{message:t(o).errors.city_municipality},null,8,["message"])]),l("div",null,[s(t(u),{for:"barangay",class:"text-sm font-medium text-foreground mb-2 block"},{default:a(()=>e[26]||(e[26]=[n("Barangay *")])),_:1,__:[26]}),s(P,{"model-value":t(o).barangay,options:T.value,placeholder:"Select barangay",searchPlaceholder:"Search barangay...",disabled:!t(o).city_municipality,"onUpdate:modelValue":e[11]||(e[11]=r=>t(o).barangay=String(r??"")),required:""},null,8,["model-value","options","disabled"]),s(m,{message:t(o).errors.barangay},null,8,["message"])]),l("div",null,[s(t(u),{for:"location",class:"text-sm font-medium text-foreground mb-2 block"},{default:a(()=>e[27]||(e[27]=[n("Location *")])),_:1,__:[27]}),s(t(F),{modelValue:t(o).location,"onUpdate:modelValue":e[12]||(e[12]=r=>t(o).location=r),required:""},null,8,["modelValue"]),s(m,{message:t(o).errors.location},null,8,["message"])])])):S("",!0),l("div",$e,[i.value>1?(d(),p(t(w),{key:0,type:"button",variant:"outline",onClick:D,class:"flex items-center gap-2"},{default:a(()=>[s(t(ue),{class:"h-4 w-4"}),e[28]||(e[28]=n(" Previous "))]),_:1,__:[28]})):(d(),f("div",Ae)),l("div",Ue,[i.value<q?(d(),p(t(w),{key:0,type:"button",onClick:R,disabled:!A(),class:"flex items-center gap-2"},{default:a(()=>[e[29]||(e[29]=n(" Next ")),s(t(pe),{class:"h-4 w-4"})]),_:1,__:[29]},8,["disabled"])):(d(),p(t(w),{key:1,type:"submit",disabled:t(o).processing,class:"flex items-center gap-2"},{default:a(()=>[t(o).processing?(d(),p(t(fe),{key:0,class:"h-4 w-4 animate-spin"})):S("",!0),e[30]||(e[30]=n(" Create Account "))]),_:1,__:[30]},8,["disabled"]))])]),l("div",Le,[e[32]||(e[32]=n(" Already have an account? ")),s(Z,{href:b.route("login"),class:"underline underline-offset-4"},{default:a(()=>e[31]||(e[31]=[n("Log in")])),_:1,__:[31]},8,["href"])])],32),s(t(de),{open:y.value,"onUpdate:open":e[13]||(e[13]=r=>y.value=r)},{default:a(()=>[s(t(le),null,{default:a(()=>[s(t(re),null,{default:a(()=>[s(t(ae),{class:"flex items-center gap-2"},{default:a(()=>[s(t(ce),{class:"h-5 w-5 text-destructive"}),e[33]||(e[33]=n(" Validation Errors "))]),_:1,__:[33]}),s(t(ne),null,{default:a(()=>e[34]||(e[34]=[n(" Please fix the following errors before continuing: ")])),_:1,__:[34]})]),_:1}),l("div",Ne,[l("ul",Xe,[(d(!0),f(V,null,L(B.value,(r,k)=>(d(),f("li",{key:k,class:"text-sm text-destructive"},[l("strong",je,x(r.field.replace(/_/g," "))+":",1),n(" "+x(r.message),1)]))),128))])]),s(t(ie),null,{default:a(()=>[s(t(me),{"as-child":""},{default:a(()=>[s(t(w),{onClick:O},{default:a(()=>e[35]||(e[35]=[n("Close")])),_:1,__:[35]})]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])])]),e[37]||(e[37]=l("div",{class:"hidden lg:flex lg:w-2/5 relative overflow-hidden"},[l("img",{src:"/img/login_img.jpg",alt:"Registration",class:"w-full h-full object-cover"}),l("div",{class:"absolute inset-0 bg-black/10"})],-1))])],64))}});export{it as default};
