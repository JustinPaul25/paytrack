import{d as $,y as z,r as g,A as N,j as L,W as h,a as y,o as d,w as r,b as l,e as t,u as o,k as A,T as D,m as S,t as n,B as F,v as U,S as j,f as _,g as p,l as w,F as H,h as I,n as B}from"./app-CY-R8p4I.js";import{_ as f}from"./index-ZrUxBZkM.js";import{_ as K}from"./AppLayout.vue_vue_type_script_setup_true_lang-B6LMl6Iv.js";import{_ as m,a as v}from"./CardContent.vue_vue_type_script_setup_true_lang-CtAQy_Ha.js";import{_ as P}from"./Icon.vue_vue_type_script_setup_true_lang-CobdVv8O.js";import{S as T}from"./sweetalert2.esm.all-BQIkj5Wb.js";import"./LocationInput.vue_vue_type_style_index_0_scoped_5601c0ff_lang-BzdxL_P_.js";import"./RovingFocusGroup-BIsjPPEl.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-DPhOlZ_-.js";import"./createLucideIcon-B5ntUyXr.js";import"./VisuallyHidden-C6KiMAas.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BcPEPjiy.js";import"./square-pen-0FxHRJNj.js";import"./printer-DzHzZ9IE.js";import"./check-Chs3u5GV.js";import"./circle-check-big-CXdxpuSt.js";import"./clock-CMlkvdlA.js";import"./eye-off-nGJHJ4tl.js";import"./eye-De7Cskwu.js";import"./trending-up-D8u0Rbma.js";import"./loader-circle-Cxxr9r8T.js";import"./sun-CcCCrlY4.js";import"./search-BjpgS1Pf.js";import"./trash-2-BSM_WW46.js";import"./trophy-b0U3HLt4.js";const E={class:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-8 mb-6"},W={class:"flex items-center justify-between"},Y={class:"text-xl font-bold text-blue-600"},q={class:"flex items-center justify-between"},G={class:"text-xl font-bold text-green-600"},J={class:"flex items-center justify-between"},O={class:"text-xl font-bold text-yellow-600"},Q={class:"flex items-center justify-between"},R={class:"text-xl font-bold text-purple-600"},X={class:"flex items-center justify-between mt-4 mb-2"},Z={class:"flex gap-2 items-center"},tt={class:"min-w-full divide-y divide-border"},et={class:"px-4 py-2 font-medium"},st={class:"px-4 py-2 text-sm text-gray-500"},ot={class:"px-4 py-2 font-medium"},rt={class:"px-4 py-2"},lt={class:"px-4 py-2 text-sm text-gray-500"},at={class:"px-4 py-2"},nt={class:"flex gap-2"},it={key:0,class:"flex items-center justify-between mt-6"},dt={class:"text-sm text-gray-700"},ut={class:"flex gap-2"},ct={class:"fixed bottom-6 right-6 z-50"},pt={key:0,class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ft={key:1,class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},It=$({__name:"Index",setup(mt){const a=z(),b=g(a.props.filters?a.props.filters:{}),u=g(typeof b.value.search=="string"?b.value.search:""),c=g(!1),M=[{title:"Products",href:"/products"}];N(()=>{u.value=a.props.filters&&typeof a.props.filters.search=="string"?a.props.filters.search:""});let x=null;L(u,i=>{x&&clearTimeout(x),x=setTimeout(()=>{h.get("/products",{search:i},{preserveState:!0,replace:!0})},400)});function k(i){h.get("/products",{search:u.value,page:i},{preserveState:!0,replace:!0})}function C(i){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(i)}async function V(i){(await T.fire({title:"Delete Product?",text:"Are you sure you want to delete this product? This action cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#8f5be8",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete product"})).isConfirmed&&h.delete(`/products/${i}`,{onSuccess:()=>{T.fire("Product deleted","Product deleted successfully.","success")}})}return(i,e)=>(d(),y(K,{breadcrumbs:M},{default:r(()=>[l(o(A),{title:"Products"}),l(D,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 transform -translate-y-4","enter-to-class":"opacity-100 transform translate-y-0","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 transform translate-y-0","leave-to-class":"opacity-0 transform -translate-y-4"},{default:r(()=>[S(t("div",E,[l(m,{class:"relative overflow-hidden"},{default:r(()=>[l(v,{class:"p-6"},{default:r(()=>{var s;return[t("div",W,[t("div",null,[e[4]||(e[4]=t("p",{class:"text-sm font-medium text-muted-foreground"},"Total Products",-1)),t("p",Y,n(((s=o(a).props.stats)==null?void 0:s.totalProducts)||0),1)]),e[5]||(e[5]=t("div",{class:"h-12 w-12 rounded-full bg-blue-100 flex items-center justify-center"},[t("svg",{class:"h-6 w-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])],-1))])]}),_:1})]),_:1}),l(m,{class:"relative overflow-hidden"},{default:r(()=>[l(v,{class:"p-6"},{default:r(()=>{var s;return[t("div",q,[t("div",null,[e[6]||(e[6]=t("p",{class:"text-sm font-medium text-muted-foreground"},"Total Stock",-1)),t("p",G,n(((s=o(a).props.stats)==null?void 0:s.totalStock)||0),1)]),e[7]||(e[7]=t("div",{class:"h-12 w-12 rounded-full bg-green-100 flex items-center justify-center"},[t("svg",{class:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-14 0h14"})])],-1))])]}),_:1})]),_:1}),l(m,{class:"relative overflow-hidden"},{default:r(()=>[l(v,{class:"p-6"},{default:r(()=>{var s;return[t("div",J,[t("div",null,[e[8]||(e[8]=t("p",{class:"text-sm font-medium text-muted-foreground"},"Low Stock",-1)),t("p",O,n(((s=o(a).props.stats)==null?void 0:s.lowStockItems)||0),1)]),e[9]||(e[9]=t("div",{class:"h-12 w-12 rounded-full bg-yellow-100 flex items-center justify-center"},[t("svg",{class:"h-6 w-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1))])]}),_:1})]),_:1}),l(m,{class:"relative overflow-hidden"},{default:r(()=>[l(v,{class:"p-6"},{default:r(()=>{var s;return[t("div",Q,[t("div",null,[e[10]||(e[10]=t("p",{class:"text-sm font-medium text-muted-foreground"},"Total Value",-1)),t("p",R,n(C(((s=o(a).props.stats)==null?void 0:s.totalValue)||0)),1)]),e[11]||(e[11]=t("div",{class:"h-12 w-12 rounded-full bg-purple-100 flex items-center justify-center"},[t("svg",{class:"h-6 w-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])],-1))])]}),_:1})]),_:1})],512),[[F,c.value]])]),_:1}),t("div",X,[t("div",Z,[S(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>u.value=s),type:"text",placeholder:"Search products by name, SKU, or category...",class:"rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"},null,512),[[U,u.value]])]),l(o(j),{href:i.route("products.create")},{default:r(()=>[l(o(f),{variant:"default"},{default:r(()=>e[12]||(e[12]=[t("span",{class:"mr-2"},"+",-1),_(" Add New Product ")])),_:1,__:[12]})]),_:1},8,["href"])]),l(m,null,{default:r(()=>[l(v,null,{default:r(()=>[t("table",tt,[e[13]||(e[13]=t("thead",null,[t("tr",null,[t("th",{class:"px-4 py-2 text-left"},"Name"),t("th",{class:"px-4 py-2 text-left"},"Category"),t("th",{class:"px-4 py-2 text-left"},"Selling Price"),t("th",{class:"px-4 py-2 text-left"},"Stock"),t("th",{class:"px-4 py-2 text-left"},"SKU"),t("th",{class:"px-4 py-2 text-left"},"Actions")])],-1)),t("tbody",null,[(d(!0),p(H,null,I(o(a).props.products.data,s=>(d(),p("tr",{key:s.id,class:"hover:bg-muted"},[t("td",et,n(s.name),1),t("td",st,n(s.category?s.category.name:"No category"),1),t("td",ot,n(C(s.selling_price)),1),t("td",rt,[t("span",{class:B(["px-2 py-1 rounded-full text-xs font-medium",s.stock<=10?"bg-red-100 text-red-800":s.stock<=50?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"])},n(s.stock),3)]),t("td",lt,n(s.SKU),1),t("td",at,[t("div",nt,[l(o(j),{href:i.route("products.edit",s.id)},{default:r(()=>[l(o(f),{variant:"ghost",size:"sm"},{default:r(()=>[l(P,{name:"edit",class:"h-4 w-4"})]),_:1})]),_:2},1032,["href"]),l(o(f),{variant:"ghost",size:"sm",onClick:vt=>V(s.id)},{default:r(()=>[l(P,{name:"trash",class:"h-4 w-4"})]),_:2},1032,["onClick"])])])]))),128))])]),o(a).props.products.last_page>1?(d(),p("div",it,[t("div",dt," Showing "+n(o(a).props.products.from)+" to "+n(o(a).props.products.to)+" of "+n(o(a).props.products.total)+" results ",1),t("div",ut,[o(a).props.products.prev_page_url?(d(),y(o(f),{key:0,variant:"outline",size:"sm",onClick:e[1]||(e[1]=s=>k(o(a).props.products.current_page-1))},{default:r(()=>e[14]||(e[14]=[_(" Previous ")])),_:1,__:[14]})):w("",!0),o(a).props.products.next_page_url?(d(),y(o(f),{key:1,variant:"outline",size:"sm",onClick:e[2]||(e[2]=s=>k(o(a).props.products.current_page+1))},{default:r(()=>e[15]||(e[15]=[_(" Next ")])),_:1,__:[15]})):w("",!0)])])):w("",!0)]),_:1})]),_:1}),t("div",ct,[t("button",{onClick:e[3]||(e[3]=s=>c.value=!c.value),class:B(["h-12 w-12 rounded-full shadow-lg hover:shadow-xl transition-all duration-200 flex items-center justify-center",c.value?"bg-red-500 hover:bg-red-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white"])},[c.value?(d(),p("svg",ft,e[17]||(e[17]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)]))):(d(),p("svg",pt,e[16]||(e[16]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"},null,-1)])))],2)])]),_:1}))}});export{It as default};
