import{d as N,v as P,m as y,J as V,s as L,W as C,c as x,o as u,w as i,a,b as e,u as s,g as F,T as A,x as D,t as d,H,y as I,e as p,f as _,F as E,r as U,n as j,S,h as g}from"./app-BJGGIgA8.js";import{_ as w}from"./index-riohrRak.js";import{_ as W}from"./AppLayout.vue_vue_type_script_setup_true_lang-6OmCq4tp.js";import{_ as f,a as v}from"./CardContent.vue_vue_type_script_setup_true_lang-DPB8yWHX.js";import{_ as J}from"./Icon.vue_vue_type_script_setup_true_lang-DK3Ddpru.js";import"./LocationInput.vue_vue_type_style_index_0_scoped_85568d9b_lang-CX_goT8l.js";import"./useForwardPropsEmits-CZzI8B5e.js";import"./DropdownMenuTrigger.vue_vue_type_script_setup_true_lang-MrJHOVsW.js";import"./Teleport-MSIji786.js";import"./RovingFocusGroup-gSG5KO_4.js";import"./VisuallyHidden-BC0AEIfW.js";import"./DialogPortal-Dpb7jdpY.js";import"./x-BjkU5bBK.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DSD56j4j.js";import"./chevron-down-B83M1Caq.js";import"./chevron-right-CjvrEjDl.js";import"./square-pen-BALro00M.js";import"./calendar-C8vvPkHy.js";import"./check-CuaqBRk8.js";import"./chevron-left-Czs0_KEi.js";import"./circle-alert-C-R8aAcF.js";import"./piggy-bank-DQw4-LKJ.js";import"./circle-check-big-gvrLbzHW.js";import"./circle-check-BuF8fqTY.js";import"./trophy-B5vnFol2.js";import"./circle-x-C9HF6h3m.js";import"./clock-CUJ54ABb.js";import"./dollar-sign-BFWObhvv.js";import"./eye-off-dgfcsi04.js";import"./eye-BztToSRT.js";import"./loader-circle-ZvNwhMCX.js";import"./mail-tmHC_MiF.js";import"./map-pin-D8FvW8n7.js";import"./message-square-Cf895NaZ.js";import"./sun-Bomsfx5Q.js";import"./plus-CntaVqKq.js";import"./printer-_fQTJVRW.js";import"./search-BUl39vHB.js";import"./shopping-bag-DsL7THBq.js";import"./trash-2-DcMzLwyY.js";import"./trending-up-CSTqz3kz.js";const O={class:"grid grid-cols-1 lg:grid-cols-4 gap-6 mt-8 mb-6"},q={class:"flex items-center justify-between"},G={class:"text-xl font-bold text-blue-600"},K={class:"flex items-center justify-between"},Q={class:"text-xl font-bold text-yellow-600"},R={class:"flex items-center justify-between"},X={class:"text-xl font-bold text-green-600"},Y={class:"flex items-center justify-between"},Z={class:"text-xl font-bold text-red-600"},ee={class:"flex items-center justify-between mt-4 mb-2"},te={class:"flex gap-2 items-center"},se={class:"min-w-full divide-y divide-border"},oe={key:0},re={class:"px-4 py-2"},le={class:"font-medium"},ie={class:"text-sm text-gray-500"},ne={class:"px-4 py-2"},ae={class:"font-medium"},de={class:"text-sm text-gray-500"},ue={class:"px-4 py-2"},pe={class:"font-medium"},ce={class:"px-4 py-2"},me={class:"px-4 py-2 font-medium"},fe={class:"px-4 py-2"},ve={key:1,class:"text-gray-400"},xe={class:"px-4 py-2"},_e={class:"flex gap-2"},ge={key:1},he={colspan:"7",class:"px-4 py-10 text-center text-sm text-gray-500"},ye={key:0,class:"flex items-center justify-between mt-6"},we={class:"text-sm text-gray-700"},be={class:"flex gap-2"},ke={class:"fixed bottom-6 right-6 z-50"},Ce={key:0,class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},De={key:1,class:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ft=N({__name:"CustomerIndex",setup(je){const o=P(),b=y(o.props.filters?o.props.filters:{}),c=y(typeof b.value.search=="string"?b.value.search:""),m=y(!1),M=[{title:"My Deliveries",href:"/my-deliveries"}];V(()=>{c.value=o.props.filters&&typeof o.props.filters.search=="string"?o.props.filters.search:""});let h=null;L(c,n=>{h&&clearTimeout(h),h=setTimeout(()=>{C.get("/my-deliveries",{search:n},{preserveState:!0,replace:!0})},400)});function k(n){C.get("/my-deliveries",{search:c.value,page:n},{preserveState:!0,replace:!0})}function B(n){switch(n){case"pending":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}}function $(n){switch(n){case"pending":return"Out for Delivery";case"completed":return"Delivered";case"cancelled":return"Cancelled";default:return n.charAt(0).toUpperCase()+n.slice(1)}}function z(n){return new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP",minimumFractionDigits:2}).format(n)}function T(n){return new Date(n).toLocaleDateString()}return(n,t)=>(u(),x(W,{breadcrumbs:M},{default:i(()=>[a(s(F),{title:"My Deliveries"}),a(A,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 transform -translate-y-4","enter-to-class":"opacity-100 transform translate-y-0","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-100 transform translate-y-0","leave-to-class":"opacity-0 transform -translate-y-4"},{default:i(()=>[D(e("div",O,[a(f,{class:"relative overflow-hidden"},{default:i(()=>[a(v,{class:"p-6"},{default:i(()=>{var r;return[e("div",q,[e("div",null,[t[5]||(t[5]=e("p",{class:"text-sm font-medium text-muted-foreground"},"Total Deliveries",-1)),e("p",G,d(((r=s(o).props.stats)==null?void 0:r.totalDeliveries)??0),1)]),t[6]||(t[6]=e("div",{class:"h-12 w-12 rounded-full bg-blue-100 flex items-center justify-center"},[e("svg",{class:"h-6 w-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])],-1))])]}),_:1})]),_:1}),a(f,{class:"relative overflow-hidden"},{default:i(()=>[a(v,{class:"p-6"},{default:i(()=>{var r;return[e("div",K,[e("div",null,[t[7]||(t[7]=e("p",{class:"text-sm font-medium text-muted-foreground"},"Pending",-1)),e("p",Q,d(((r=s(o).props.stats)==null?void 0:r.pendingDeliveries)??0),1)]),t[8]||(t[8]=e("div",{class:"h-12 w-12 rounded-full bg-yellow-100 flex items-center justify-center"},[e("svg",{class:"h-6 w-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]}),_:1})]),_:1}),a(f,{class:"relative overflow-hidden"},{default:i(()=>[a(v,{class:"p-6"},{default:i(()=>{var r;return[e("div",R,[e("div",null,[t[9]||(t[9]=e("p",{class:"text-sm font-medium text-muted-foreground"},"Completed",-1)),e("p",X,d(((r=s(o).props.stats)==null?void 0:r.completedDeliveries)??0),1)]),t[10]||(t[10]=e("div",{class:"h-12 w-12 rounded-full bg-green-100 flex items-center justify-center"},[e("svg",{class:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]}),_:1})]),_:1}),a(f,{class:"relative overflow-hidden"},{default:i(()=>[a(v,{class:"p-6"},{default:i(()=>{var r;return[e("div",Y,[e("div",null,[t[11]||(t[11]=e("p",{class:"text-sm font-medium text-muted-foreground"},"Cancelled",-1)),e("p",Z,d(((r=s(o).props.stats)==null?void 0:r.cancelledDeliveries)??0),1)]),t[12]||(t[12]=e("div",{class:"h-12 w-12 rounded-full bg-red-100 flex items-center justify-center"},[e("svg",{class:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})])],-1))])]}),_:1})]),_:1})],512),[[H,m.value]])]),_:1}),e("div",ee,[e("div",te,[D(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>c.value=r),type:"text",placeholder:"Search by address, contact person, or phone...",class:"rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"},null,512),[[I,c.value]])])]),a(f,null,{default:i(()=>[a(v,null,{default:i(()=>{var r;return[e("table",se,[t[14]||(t[14]=e("thead",null,[e("tr",null,[e("th",{class:"px-4 py-2 text-left"},"Delivery Date"),e("th",{class:"px-4 py-2 text-left"},"Contact Person"),e("th",{class:"px-4 py-2 text-left"},"Delivery Address"),e("th",{class:"px-4 py-2 text-left"},"Status"),e("th",{class:"px-4 py-2 text-left"},"Delivery Fee"),e("th",{class:"px-4 py-2 text-left"},"Invoice"),e("th",{class:"px-4 py-2 text-left"},"Actions")])],-1)),s(o).props.deliveries&&((r=s(o).props.deliveries.data)==null?void 0:r.length)>0?(u(),p("tbody",oe,[(u(!0),p(E,null,U(s(o).props.deliveries.data||[],l=>(u(),p("tr",{key:l.id,class:"hover:bg-muted"},[e("td",re,[e("div",null,[e("div",le,d(T(l.delivery_date)),1),e("div",ie,d(l.delivery_time),1)])]),e("td",ne,[e("div",null,[e("div",ae,d(l.contact_person),1),e("div",de,d(l.contact_phone),1)])]),e("td",ue,[e("div",pe,d(l.delivery_address),1)]),e("td",ce,[e("span",{class:j(["px-2 py-1 rounded-full text-xs font-medium",B(l.status)])},d($(l.status)),3)]),e("td",me,d(z(l.delivery_fee)),1),e("td",fe,[l.invoice?(u(),x(s(S),{key:0,href:n.route("invoices.show",l.invoice.id),class:"text-blue-500 hover:underline"},{default:i(()=>[g(d(l.invoice.reference_number||`#${l.invoice.id}`),1)]),_:2},1032,["href"])):(u(),p("span",ve,"N/A"))]),e("td",xe,[e("div",_e,[a(s(w),{variant:"ghost",size:"sm","as-child":""},{default:i(()=>[a(s(S),{href:n.route("deliveries.customer.show",l.id)},{default:i(()=>[a(J,{name:"eye",class:"h-4 w-4"})]),_:2},1032,["href"])]),_:2},1024)])])]))),128))])):(u(),p("tbody",ge,[e("tr",null,[e("td",he,[t[13]||(t[13]=g(" No deliveries found. ")),c.value&&c.value.toString().trim().length?(u(),p("button",{key:0,type:"button",class:"underline underline-offset-4 ml-1",onClick:t[1]||(t[1]=l=>c.value="")}," Clear search ")):_("",!0)])])]))]),s(o).props.deliveries&&s(o).props.deliveries.last_page>1?(u(),p("div",ye,[e("div",we," Showing "+d(s(o).props.deliveries.from)+" to "+d(s(o).props.deliveries.to)+" of "+d(s(o).props.deliveries.total)+" results ",1),e("div",be,[s(o).props.deliveries.prev_page_url?(u(),x(s(w),{key:0,variant:"outline",size:"sm",onClick:t[2]||(t[2]=l=>k(s(o).props.deliveries.current_page-1))},{default:i(()=>t[15]||(t[15]=[g(" Previous ")])),_:1,__:[15]})):_("",!0),s(o).props.deliveries.next_page_url?(u(),x(s(w),{key:1,variant:"outline",size:"sm",onClick:t[3]||(t[3]=l=>k(s(o).props.deliveries.current_page+1))},{default:i(()=>t[16]||(t[16]=[g(" Next ")])),_:1,__:[16]})):_("",!0)])])):_("",!0)]}),_:1})]),_:1}),e("div",ke,[e("button",{onClick:t[4]||(t[4]=r=>m.value=!m.value),class:j(["h-12 w-12 rounded-full shadow-lg hover:shadow-xl transition-all duration-200 flex items-center justify-center",m.value?"bg-red-500 hover:bg-red-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white"])},[m.value?(u(),p("svg",De,t[18]||(t[18]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)]))):(u(),p("svg",Ce,t[17]||(t[17]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"},null,-1)])))],2)])]),_:1}))}});export{ft as default};
